/*! For license information please see main.js.LICENSE.txt */
!function(){var e,t,n={2449:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(7294),i=n(3379),o=n.n(i),s=n(7795),a=n.n(s),u=n(569),c=n.n(u),l=n(3565),h=n.n(l),d=n(9216),f=n.n(d),p=n(4589),m=n.n(p),g=n(4744),y={};y.styleTagTransform=m(),y.setAttributes=h(),y.insert=c().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=f(),o()(g.Z,y),g.Z&&g.Z.locals&&g.Z.locals;var v=n(108),b=n(9704),w=n(5748),_=function(e){var t=e.id,n=e.name,i=e.price,o=e.imageUrl,s=(0,b.I0)();return r.createElement("div",{className:"collection-item",key:t},r.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(o,")")}}),r.createElement("div",{className:"collection-footer"},r.createElement("span",{className:"name"},n),r.createElement("span",{className:"price"},"$",i)),r.createElement(v.Z,{inverted:!0,onClick:function(e){s((0,w.jX)({id:t,name:n,price:i,imageUrl:o}))}},"Add to Cart"))}},108:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(7294),i=n(3379),o=n.n(i),s=n(7795),a=n.n(s),u=n(569),c=n.n(u),l=n(3565),h=n.n(l),d=n(9216),f=n.n(d),p=n(4589),m=n.n(p),g=n(9994),y={};y.styleTagTransform=m(),y.setAttributes=h(),y.insert=c().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=f(),o()(g.Z,y),g.Z&&g.Z.locals&&g.Z.locals;var v=["children","isGoogleSignIn","inverted"];function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}var w=function(e){var t=e.children,n=(e.isGoogleSignIn,e.inverted),i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,v);return r.createElement("button",b({className:"".concat(n?"inverted ":"","custom-botton")},i),t)}},5748:function(e,t,n){"use strict";n.d(t,{Oi:function(){return i},jX:function(){return o},wz:function(){return s},i0:function(){return a},UY:function(){return u}});var r=n(5578),i=function(){return{type:r.D.TOGGLE_CART_HIDDEN}},o=function(e){var t=e.id,n=e.name,i=e.price,o=e.imageUrl;return{type:r.D.ADD_ITEM,payload:{id:t,name:n,price:i,imageUrl:o}}},s=function(e){var t=e.id,n=e.name,i=e.price,o=e.imageUrl;return{type:r.D.DELETE_ITEM,payload:{id:t,name:n,price:i,imageUrl:o}}},a=function(e){var t=e.id,n=e.name,i=e.price,o=e.imageUrl;return{type:r.D.DECREACE,payload:{id:t,name:n,price:i,imageUrl:o}}},u=function(){return{type:r.D.EMPTY}}},5578:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});var r={TOGGLE_CART_HIDDEN:"TOGGLE_CART_HIDDEN",ADD_ITEM:"ADD_ITEM",DELETE_ITEM:"DELETE_ITEM",DECREACE:"DECREACE",EMPTY:"EMPTY"}},9750:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(1053),i=function(e){return{type:r.Z.UPDDATE_COLLECTION,payload:e}}},1053:function(e,t){"use strict";t.Z={UPDDATE_COLLECTION:"UPDATE_COLLECTION"}},4584:function(e,t,n){"use strict";n.d(t,{I8:function(){return eb},$0:function(){return Zv},de:function(){return Xv},RZ:function(){return tb},qj:function(){return rb}});var r={};n.r(r),n.d(r,{FirebaseError:function(){return g},SDK_VERSION:function(){return ne},_DEFAULT_ENTRY_NAME:function(){return Q},_addComponent:function(){return G},_addOrOverwriteComponent:function(){return H},_apps:function(){return W},_clearComponents:function(){return Z},_components:function(){return K},_getProvider:function(){return J},_registerComponent:function(){return Y},_removeServiceInstance:function(){return X},deleteApp:function(){return se},getApp:function(){return ie},getApps:function(){return oe},initializeApp:function(){return re},onLog:function(){return ue},registerVersion:function(){return ae},setLogLevel:function(){return ce}});const i=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],o=t+1<e.length,s=o?e[t+1]:0,a=t+2<e.length,u=a?e[t+2]:0,c=i>>2,l=(3&i)<<4|s>>4;let h=(15&s)<<2|u>>6,d=63&u;a||(d=64,o||(h=64)),r.push(n[c],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(i(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],o=t<e.length?n[e.charAt(t)]:0;++t;const s=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==o||null==s||null==a)throw Error();const u=i<<2|o>>4;if(r.push(u),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=i(e);return o.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function d(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function p(){const e=c();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function m(){return"object"==typeof indexedDB}class g extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,g.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y.prototype.create)}}class y{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(v,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`;return new g(r,s,n)}}const v=/\{\$([^}]+)}/g;function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function w(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(_(n)&&_(o)){if(!w(n,o))return!1}else if(n!==o)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function _(e){return null!==e&&"object"==typeof e}function E(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function k(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function T(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function I(e,t){const n=new S(e,t);return n.subscribe.bind(n)}class S{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function O(){}function C(e){return e&&e._delegate?e._delegate:e}class N{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const A="[DEFAULT]";class x{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new u;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:A})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===A?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:A:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class D{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new x(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const P=[];var R;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(R||(R={}));const L={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},M=R.INFO,F={[R.DEBUG]:"log",[R.VERBOSE]:"log",[R.INFO]:"info",[R.WARN]:"warn",[R.ERROR]:"error"},j=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=F[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class U{constructor(e){this.name=e,this._logLevel=M,this._logHandler=j,this._userLogHandler=null,P.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in R))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?L[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...e),this._logHandler(this,R.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...e),this._logHandler(this,R.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,R.INFO,...e),this._logHandler(this,R.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,R.WARN,...e),this._logHandler(this,R.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...e),this._logHandler(this,R.ERROR,...e)}}class V{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const q="@firebase/app",B="0.7.15",z=new U("@firebase/app"),Q="[DEFAULT]",$={[q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},W=new Map,K=new Map;function G(e,t){try{e.container.addComponent(t)}catch(n){z.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function H(e,t){e.container.addOrOverwriteComponent(t)}function Y(e){const t=e.name;if(K.has(t))return z.debug(`There were multiple attempts to register component ${t}.`),!1;K.set(t,e);for(const t of W.values())G(t,e);return!0}function J(e,t){return e.container.getProvider(t)}function X(e,t,n=Q){J(e,t).clearInstance(n)}function Z(){K.clear()}const ee=new y("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class te{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new N("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ee.create("app-deleted",{appName:this._name})}}const ne="9.6.5";function re(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:Q,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw ee.create("bad-app-name",{appName:String(r)});const i=W.get(r);if(i){if(w(e,i.options)&&w(n,i.config))return i;throw ee.create("duplicate-app",{appName:r})}const o=new D(r);for(const e of K.values())o.addComponent(e);const s=new te(e,n,o);return W.set(r,s),s}function ie(e=Q){const t=W.get(e);if(!t)throw ee.create("no-app",{appName:e});return t}function oe(){return Array.from(W.values())}async function se(e){const t=e.name;W.has(t)&&(W.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ae(e,t,n){var r;let i=null!==(r=$[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void z.warn(e.join(" "))}Y(new N(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function ue(e,t){if(null!==e&&"function"!=typeof e)throw ee.create("invalid-log-argument");!function(e,t){for(const n of P){let r=null;t&&t.level&&(r=L[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const o=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:R[n].toLowerCase(),message:o,args:i,type:t.name})}}}(e,t)}function ce(e){var t;t=e,P.forEach((e=>{e.setLogLevel(t)}))}Y(new N("platform-logger",(e=>new V(e)),"PRIVATE")),ae(q,B,""),ae(q,B,"esm2017"),ae("fire-js","");class le{constructor(e,t){this._delegate=e,this.firebase=t,G(e,new N("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),se(this._delegate))))}_getService(e,t=Q){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Q){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){G(this._delegate,e)}_addOrOverwriteComponent(e){H(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const he=new y("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),de=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(r,i={}){const o=re(r,i);if(b(t,o.name))return t[o.name];const s=new e(o,n);return t[o.name]=s,s},app:i,registerVersion:ae,setLogLevel:ce,onLog:ue,apps:null,SDK_VERSION:ne,INTERNAL:{registerComponent:function(t){const r=t.name,o=r.replace("-compat","");if(Y(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[o])throw he.create("invalid-app-argument",{appName:r});return e[o]()};void 0!==t.serviceProps&&a(s,t.serviceProps),n[o]=s,e.prototype[o]=function(...e){return this._getService.bind(this,r).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[o]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:r}};function i(e){if(!b(t,e=e||Q))throw he.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),i.App=e,n}(le);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a(t,e)},createSubscribe:I,ErrorFactory:y,deepExtend:a}),t}(),fe=new U("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const pe=de;ae("@firebase/app-compat","0.1.16",void 0),pe.registerVersion("firebase","9.6.5","app-compat");var me=n(655);const ge=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ye=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new y("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new U("@firebase/auth");function we(e,...t){be.logLevel<=R.ERROR&&be.error(`Auth (${ne}): ${e}`,...t)}function _e(e,...t){throw Ie(e,...t)}function Ee(e,...t){return Ie(e,...t)}function ke(e,t,n){const r=Object.assign(Object.assign({},ye()),{[t]:n});return new y("auth","Firebase",r).create(t,{appName:e.name})}function Te(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&_e(e,"argument-error"),ke(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ie(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ve.create(e,...t)}function Se(e,t,...n){if(!e)throw Ie(t,...n)}function Oe(e){const t="INTERNAL ASSERTION FAILED: "+e;throw we(t),new Error(t)}function Ce(e,t){e||Oe(t)}const Ne=new Map;function Ae(e){Ce(e instanceof Function,"Expected a class definition");let t=Ne.get(e);return t?(Ce(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ne.set(e,t),t)}function xe(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function De(){return"http:"===Pe()||"https:"===Pe()}function Pe(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Re{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ce(t>e,"Short delay should be less than long delay!"),this.isMobile=l()||f()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(De()||d()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Le(e,t){Ce(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Me{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},je=new Re(3e4,6e4);function Ue(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ve(e,t,n,r,i={}){return qe(e,i,(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=E(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Me.fetch()(ze(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function qe(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fe),t);try{const t=new Qe(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $e(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw $e(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw $e(e,"email-already-in-use",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw ke(e,a,s);_e(e,a)}}catch(t){if(t instanceof g)throw t;_e(e,"network-request-failed")}}async function Be(e,t,n,r,i={}){const o=await Ve(e,t,n,r,i);return"mfaPendingCredential"in o&&_e(e,"multi-factor-auth-required",{_serverResponse:o}),o}function ze(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Le(e.config,i):`${e.config.apiScheme}://${i}`}class Qe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ee(this.auth,"network-request-failed"))),je.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function $e(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ee(e,t,r);return i.customData._tokenResponse=n,i}function We(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function Ke(e){return 1e3*Number(e)}function Ge(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return we("JWT malformed, contained fewer than 3 sections"),null;try{const e=function(e){try{return o.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n);return e?JSON.parse(e):(we("Failed to decode base64 JWT payload"),null)}catch(e){return we("Caught error parsing JWT payload as JSON",e),null}}async function He(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof g&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class Ye{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class Je{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=We(this.lastLoginAt),this.creationTime=We(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xe(e){var t;const n=e.auth,r=await e.getIdToken(),i=await He(e,async function(e,t){return Ve(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Se(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=(0,me._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],a=(u=e.providerData,c=s,[...u.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var u,c;const l=e.isAnonymous,h=!(e.email&&o.passwordHash||(null==a?void 0:a.length)),d=!!l&&h,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Je(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class Ze{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(void 0!==e.idToken,"internal-error"),Se(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Ge(e);return Se(t,"internal-error"),Se(void 0!==t.exp,"internal-error"),Se(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Se(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await qe(e,{},(async()=>{const n=E({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=ze(e,r,"/v1/token",`key=${i}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Me.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Ze;return n&&(Se("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Se("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Se("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ze,this.toJSON())}_performRefresh(){return Oe("not implemented")}}function et(e,t){Se("string"==typeof e||void 0===e,"internal-error",{appName:t})}class tt{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,me._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ye(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new Je(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await He(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=C(e),r=await n.getIdToken(t),i=Ge(r);Se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:We(Ke(i.auth_time)),issuedAtTime:We(Ke(i.iat)),expirationTime:We(Ke(i.exp)),signInProvider:s||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=C(e);await Xe(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new tt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Xe(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await He(this,async function(e,t){return Ve(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,u,c;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(u=t.createdAt)&&void 0!==u?u:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:E}=t;Se(v&&E,e,"internal-error");const k=Ze.fromJSON(this.name,E);Se("string"==typeof v,e,"internal-error"),et(l,e.name),et(h,e.name),Se("boolean"==typeof b,e,"internal-error"),Se("boolean"==typeof w,e,"internal-error"),et(d,e.name),et(f,e.name),et(p,e.name),et(m,e.name),et(g,e.name),et(y,e.name);const T=new tt({uid:v,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(T.providerData=_.map((e=>Object.assign({},e)))),m&&(T._redirectEventId=m),T}static async _fromIdTokenResponse(e,t,n=!1){const r=new Ze;r.updateFromServerResponse(t);const i=new tt({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Xe(i),i}}class nt{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nt.type="NONE";const rt=nt;function it(e,t,n){return`firebase:${e}:${t}:${n}`}class ot{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=it(this.userKey,r.apiKey,i),this.fullPersistenceKey=it("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ot(Ae(rt),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Ae(rt);const o=it(n,e.config.apiKey,e.name);let s=null;for(const n of t)try{const t=await n._get(o);if(t){const r=tt._fromJSON(e,t);n!==i&&(s=r),i=n;break}}catch(e){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(e){}}))),new ot(i,e,n)):new ot(i,e,n)}}function st(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lt(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(at(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dt(t))return"Blackberry";if(ft(t))return"Webos";if(ut(t))return"Safari";if((t.includes("chrome/")||ct(t))&&!t.includes("edge/"))return"Chrome";if(ht(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function at(e=c()){return/firefox\//i.test(e)}function ut(e=c()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ct(e=c()){return/crios\//i.test(e)}function lt(e=c()){return/iemobile/i.test(e)}function ht(e=c()){return/android/i.test(e)}function dt(e=c()){return/blackberry/i.test(e)}function ft(e=c()){return/webos/i.test(e)}function pt(e=c()){return/iphone|ipad|ipod/i.test(e)}function mt(e=c()){return pt(e)||ht(e)||ft(e)||dt(e)||/windows phone/i.test(e)||lt(e)}function gt(e,t=[]){let n;switch(e){case"Browser":n=st(c());break;case"Worker":n=`${st(c())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ne}/${r}`}class yt{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bt(this),this.idTokenSubscription=new bt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ae(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ot.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,o=await this.tryRedirectSignIn(e);r&&r!==i||!(null==o?void 0:o.user)||(n=o.user)}return n?n._redirectEventId?(Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xe(e)}catch(e){if("auth/network-request-failed"!==e.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?C(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ae(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new y("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ae(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await ot.create(this,[Ae(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};return this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId),e}}function vt(e){return C(e)}class bt{constructor(e){this.auth=e,this.observer=null,this.addObserver=I((e=>this.observer=e))}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wt(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function _t(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Et{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oe("not implemented")}_getIdTokenResponse(e){return Oe("not implemented")}_linkToIdToken(e,t){return Oe("not implemented")}_getReauthenticationResolver(e){return Oe("not implemented")}}async function kt(e,t){return Ve(e,"POST","/v1/accounts:resetPassword",Ue(e,t))}async function Tt(e,t){return Ve(e,"POST","/v1/accounts:update",t)}async function It(e,t){return Ve(e,"POST","/v1/accounts:sendOobCode",Ue(e,t))}class St extends Et{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new St(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new St(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return Be(e,"POST","/v1/accounts:signInWithPassword",Ue(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Be(e,"POST","/v1/accounts:signInWithEmailLink",Ue(e,t))}(e,{email:this._email,oobCode:this._password});default:_e(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Tt(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Be(e,"POST","/v1/accounts:signInWithEmailLink",Ue(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:_e(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ot(e,t){return Be(e,"POST","/v1/accounts:signInWithIdp",Ue(e,t))}class Ct extends Et{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ct(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_e("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,me._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new Ct(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Ot(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ot(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=E(t)}return e}}const Nt={USER_NOT_FOUND:"user-not-found"};class At extends Et{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new At({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new At({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Be(e,"POST","/v1/accounts:signInWithPhoneNumber",Ue(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Be(e,"POST","/v1/accounts:signInWithPhoneNumber",Ue(e,t));if(n.temporaryProof)throw $e(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Be(e,"POST","/v1/accounts:signInWithPhoneNumber",Ue(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Nt)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new At({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class xt{constructor(e){var t,n,r,i,o,s;const a=k(T(e)),u=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,l=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Se(u&&c&&l,"argument-error"),this.apiKey=u,this.operation=l,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=k(T(e)).link,n=t?k(T(t)).deep_link_id:null,r=k(T(e)).deep_link_id;return(r?k(T(r)).link:null)||r||n||t||e}(e);try{return new xt(t)}catch(e){return null}}}class Dt{constructor(){this.providerId=Dt.PROVIDER_ID}static credential(e,t){return St._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=xt.parseLink(t);return Se(n,"argument-error"),St._fromEmailAndCode(e,n.code,n.tenantId)}}Dt.PROVIDER_ID="password",Dt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Dt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Pt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Rt extends Pt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Lt extends Rt{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return Se("providerId"in t&&"signInMethod"in t,"argument-error"),Ct._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Se(e.idToken||e.accessToken,"argument-error"),Ct._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Lt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Lt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!(n||r||t||i))return null;if(!s)return null;try{return new Lt(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(e){return null}}}class Mt extends Rt{constructor(){super("facebook.com")}static credential(e){return Ct._fromParams({providerId:Mt.PROVIDER_ID,signInMethod:Mt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mt.credentialFromTaggedObject(e)}static credentialFromError(e){return Mt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Mt.credential(e.oauthAccessToken)}catch(e){return null}}}Mt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mt.PROVIDER_ID="facebook.com";class Ft extends Rt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ct._fromParams({providerId:Ft.PROVIDER_ID,signInMethod:Ft.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ft.credentialFromTaggedObject(e)}static credentialFromError(e){return Ft.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ft.credential(t,n)}catch(e){return null}}}Ft.GOOGLE_SIGN_IN_METHOD="google.com",Ft.PROVIDER_ID="google.com";class jt extends Rt{constructor(){super("github.com")}static credential(e){return Ct._fromParams({providerId:jt.PROVIDER_ID,signInMethod:jt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jt.credentialFromTaggedObject(e)}static credentialFromError(e){return jt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return jt.credential(e.oauthAccessToken)}catch(e){return null}}}jt.GITHUB_SIGN_IN_METHOD="github.com",jt.PROVIDER_ID="github.com";class Ut extends Et{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Ot(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ot(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ot(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ut(n,i):null}static _create(e,t){return new Ut(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vt extends Pt{constructor(e){Se(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return Vt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Vt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Ut.fromJSON(e);return Se(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return Ut._create(n,t)}catch(e){return null}}}class qt extends Rt{constructor(){super("twitter.com")}static credential(e,t){return Ct._fromParams({providerId:qt.PROVIDER_ID,signInMethod:qt.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qt.credentialFromTaggedObject(e)}static credentialFromError(e){return qt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return qt.credential(t,n)}catch(e){return null}}}async function Bt(e,t){return Be(e,"POST","/v1/accounts:signUp",Ue(e,t))}qt.TWITTER_SIGN_IN_METHOD="twitter.com",qt.PROVIDER_ID="twitter.com";class zt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await tt._fromIdTokenResponse(e,n,r),o=Qt(n);return new zt({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Qt(n);return new zt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Qt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class $t extends g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,$t.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new $t(e,t,n,r)}}function Wt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw $t._fromErrorAndOperation(e,n,t,r);throw n}))}function Kt(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}async function Gt(e,t,n=!1){const r=await He(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zt._forOperation(e,"link",r)}async function Ht(e,t,n){await Xe(t);const r=!1===e?"provider-already-linked":"no-such-provider";Se(Kt(t.providerData).has(n)===e,t.auth,r)}async function Yt(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=await He(e,Wt(r,i,t,e),n);Se(o.idToken,r,"internal-error");const s=Ge(o.idToken);Se(s,r,"internal-error");const{sub:a}=s;return Se(e.uid===a,r,"user-mismatch"),zt._forOperation(e,i,o)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&_e(r,"user-mismatch"),e}}async function Jt(e,t,n=!1){const r="signIn",i=await Wt(e,r,t),o=await zt._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Xt(e,t){return Jt(vt(e),t)}async function Zt(e,t){const n=C(e);return await Ht(!1,n,t.providerId),Gt(n,t)}async function en(e,t){return Yt(C(e),t)}class tn{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?nn._fromServerResponse(e,t):_e(e,"internal-error")}}class nn extends tn{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new nn(t)}}function rn(e,t,n){var r;Se((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Se(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Se(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Se(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function on(e,t){const n=C(e),r=await kt(n,{oobCode:t}),i=r.requestType;switch(Se(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(r.mfaInfo,n,"internal-error");default:Se(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=tn._fromServerResponse(vt(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function sn(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=await He(e,Tt(r,i));await e._updateTokensIfNecessary(o,!0)}class an{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class un extends an{constructor(e,t,n,r){super(e,t,n),this.username=r}}class cn extends an{constructor(e,t){super(e,"facebook.com",t)}}class ln extends un{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class hn extends an{constructor(e,t){super(e,"google.com",t)}}class dn extends un{constructor(e,t,n){super(e,"twitter.com",t,n)}}function fn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Ge(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new an(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new cn(o,i);case"github.com":return new ln(o,i);case"google.com":return new hn(o,i);case"twitter.com":return new dn(o,i,e.screenName||null);case"custom":case"anonymous":return new an(o,null);default:return new an(o,r,i)}}(n)}class pn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new pn("enroll",e)}static _fromMfaPendingCredential(e){return new pn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return pn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return pn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class mn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=vt(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>tn._fromServerResponse(n,e)));Se(r.mfaPendingCredential,n,"internal-error");const o=pn._fromMfaPendingCredential(r.mfaPendingCredential);return new mn(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await zt._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Se(t.user,n,"internal-error"),zt._forOperation(t.user,t.operationType,s);default:_e(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class gn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>tn._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new gn(e)}async getSession(){return pn._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await He(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await He(this.user,function(e,t){return Ve(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Ue(e,t))}(this.user.auth,{idToken:n,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==t)),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(e){if("auth/user-token-expired"!==e.code)throw e}}}const yn=new WeakMap,vn="__sak";class bn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vn,"1"),this.storage.removeItem(vn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class wn extends bn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=c();return ut(e)||pt(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=mt(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);p()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}wn.type="LOCAL";const _n=wn;class En extends bn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}En.type="SESSION";const kn=En;class Tn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Tn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function In(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}Tn.receivers=[];class Sn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const u=In("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===u)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function On(){return window}function Cn(){return void 0!==On().WorkerGlobalScope&&"function"==typeof On().importScripts}const Nn="firebaseLocalStorageDb",An="firebaseLocalStorage",xn="fbase_key";class Dn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Pn(e,t){return e.transaction([An],t?"readwrite":"readonly").objectStore(An)}function Rn(){const e=indexedDB.open(Nn,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(An,{keyPath:xn})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(An)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Nn);return new Dn(e).toPromise()}(),t(await Rn()))}))}))}async function Ln(e,t,n){const r=Pn(e,!0).put({[xn]:t,value:n});return new Dn(r).toPromise()}function Mn(e,t){const n=Pn(e,!0).delete(t);return new Dn(n).toPromise()}class Fn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Rn()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tn._getInstance(Cn()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Sn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rn();return await Ln(e,vn,"1"),await Mn(e,vn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ln(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Pn(e,!1).get(t),r=await new Dn(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Mn(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Pn(e,!1).getAll();return new Dn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Fn.type="LOCAL";const jn=Fn;function Un(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ee("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Vn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const qn=1e12;class Bn{constructor(e){this.auth=e,this.counter=qn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new zn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||qn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||qn;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||qn;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class zn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;Se(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let e=0;e<50;e++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(e){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(e){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qn=Vn("rcb"),$n=new Re(3e4,6e4);class Wn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!On().grecaptcha}load(e,t=""){return Se(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(On().grecaptcha):new Promise(((n,r)=>{const i=On().setTimeout((()=>{r(Ee(e,"network-request-failed"))}),$n.get());On()[Qn]=()=>{On().clearTimeout(i),delete On()[Qn];const o=On().grecaptcha;if(!o)return void r(Ee(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)},Un(`https://www.google.com/recaptcha/api.js??${E({onload:Qn,render:"explicit",hl:t})}`).catch((()=>{clearTimeout(i),r(Ee(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!On().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Kn{async load(e){return new Bn(e)}clearedOneInstance(){}}const Gn="recaptcha",Hn={theme:"light",type:"image"};class Yn{constructor(e,t=Object.assign({},Hn),n){this.parameters=t,this.type=Gn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=vt(n),this.isInvisible="invisible"===this.parameters.size,Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;Se(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kn:new Wn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"==typeof e)e(t);else if("string"==typeof e){const n=On()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Se(De()&&!Cn(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ve(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Se(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Jn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=At._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Xn(e,t,n){var r;const i=await n.verify();try{let o;if(Se("string"==typeof i,e,"argument-error"),Se(n.type===Gn,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){Se("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ve(e,"POST","/v2/accounts/mfaEnrollment:start",Ue(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Se("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;Se(n,e,"missing-multi-factor-info");const s=await function(e,t){return Ve(e,"POST","/v2/accounts/mfaSignIn:start",Ue(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ve(e,"POST","/v1/accounts:sendVerificationCode",Ue(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Zn{constructor(e){this.providerId=Zn.PROVIDER_ID,this.auth=vt(e)}verifyPhoneNumber(e,t){return Xn(this.auth,e,C(t))}static credential(e,t){return At._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Zn.credentialFromTaggedObject(t)}static credentialFromError(e){return Zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?At._fromTokenResponse(t,n):null}}function er(e,t){return t?Ae(t):(Se(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Zn.PROVIDER_ID="phone",Zn.PHONE_SIGN_IN_METHOD="phone";class tr extends Et{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ot(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ot(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ot(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nr(e){return Jt(e.auth,new tr(e),e.bypassAuthState)}function rr(e){const{auth:t,user:n}=e;return Se(n,t,"internal-error"),Yt(n,new tr(e),e.bypassAuthState)}async function ir(e){const{auth:t,user:n}=e;return Se(n,t,"internal-error"),Gt(n,new tr(e),e.bypassAuthState)}class or{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nr;case"linkViaPopup":case"linkViaRedirect":return ir;case"reauthViaPopup":case"reauthViaRedirect":return rr;default:_e(this.auth,"internal-error")}}resolve(e){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sr=new Re(2e3,1e4);class ar extends or{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ar.currentPopupAction&&ar.currentPopupAction.cancel(),ar.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Ce(1===this.filter.length,"Popup operations only handle one event");const e=In();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ee(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ar.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,sr.get())};e()}}ar.currentPopupAction=null;const ur=new Map;class cr extends or{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=ur.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=dr(t),r=hr(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ur.set(this.auth._key(),e)}return this.bypassAuthState||ur.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function lr(e,t){return hr(e)._set(dr(t),"true")}function hr(e){return Ae(e._redirectPersistence)}function dr(e){return it("pendingRedirect",e.config.apiKey,e.name)}async function fr(e,t,n=!1){const r=vt(e),i=er(r,t),o=new cr(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function pr(e){const t=In(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class mr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!yr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ee(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gr(e))}saveEventToCache(e){this.cachedEventUids.add(gr(e)),this.lastProcessedEventTime=Date.now()}}function gr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function yr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function vr(e,t={}){return Ve(e,"GET","/v1/projects",t)}const br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wr=/^https?/;function _r(e){const t=xe(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!wr.test(n))return!1;if(br.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Er=new Re(3e4,6e4);function kr(){const e=On().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Tr=null;function Ir(e){return Tr=Tr||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){kr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kr(),n(Ee(e,"network-request-failed"))},timeout:Er.get()})}if(null===(i=null===(r=On().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=On().gapi)||void 0===o?void 0:o.load)){const t=Vn("iframefcb");return On()[t]=()=>{gapi.load?s():n(Ee(e,"network-request-failed"))},Un(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw Tr=null,e}))}(e),Tr}const Sr=new Re(5e3,15e3),Or={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nr(e){const t=e.config;Se(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Le(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:ne},i=Cr.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${E(r).slice(1)}`}const Ar={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Dr(e,t,n,r,i,o){Se(e.config.authDomain,e,"auth-domain-config-required"),Se(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ne,eventId:i};if(t instanceof Pt){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof Rt){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const e of Object.keys(a))void 0===a[e]&&delete a[e];return`${function({config:e}){return e.emulator?Le(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${E(a).slice(1)}`}const Pr="webStorageSupport";class Rr extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Oe("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Rr(e)}_finalizeEnroll(e,t,n){return function(e,t){return Ve(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ue(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Ve(e,"POST","/v2/accounts/mfaSignIn:finalize",Ue(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Lr{constructor(){}static assertion(e){return Rr._fromCredential(e)}}Lr.FACTOR_ID="phone";var Mr,Fr="@firebase/auth",jr="0.19.7";class Ur{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Vr(){return window}Mr="Browser",Y(new N("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{Se(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),Se(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:Mr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gt(Mr)},o=new yt(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ae);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o})(n)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Y(new N("auth-internal",(e=>(e=>new Ur(e))(vt(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),ae(Fr,jr,void 0),ae(Fr,jr,"esm2017");class qr extends mr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Br(e){const t=await Qr()._get($r(e));return t&&await Qr()._remove($r(e)),t}function zr(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Qr(){return Ae(_n)}function $r(e){return it("authEvent",e.config.apiKey,e.name)}function Wr(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return k(n.join("?"))}function Kr(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Gr(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Hr(e=c()){return!("file:"!==Gr()&&"ionic:"!==Gr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yr(){try{const e=self.localStorage,t=In();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=c()){return p()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=c()){return/Edge\/\d+/.test(e)}(e)}()||m()}catch(e){return Jr()&&m()}return!1}function Jr(){return void 0!==n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Xr(){return("http:"===Gr()||"https:"===Gr()||d()||Hr())&&!(f()||h())&&Yr()&&!Jr()}function Zr(){return Hr()&&"undefined"!=typeof document}const ei={LOCAL:"local",NONE:"none",SESSION:"session"},ti=Se,ni="persistence";async function ri(e){await e._initializationPromise;const t=ii(),n=it(ni,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function ii(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(e){return null}}const oi=Se;class si{constructor(){this.browserResolver=Ae(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kn,this._completeRedirectFn=fr}async _openPopup(e,t,n,r){var i;return Ce(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Ar),{width:r.toString(),height:i.toString(),top:o,left:s}),l=c().toLowerCase();n&&(a=ct(l)?"_blank":n),at(l)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=c()){var t;return pt(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new xr(null);const d=window.open(t||"",a,h);Se(d,e,"popup-blocked");try{d.focus()}catch(e){}return new xr(d)}(e,Dr(e,t,n,xe(),r),In())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=Dr(e,t,n,xe(),r),On().location.href=i,new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ce(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Ir(e),n=On().gapi;return Se(n,e,"internal-error"),t.open({where:document.body,url:Nr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Or,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ee(e,"network-request-failed"),o=On().setTimeout((()=>{r(i)}),Sr.get());function s(){On().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new mr(e);return t.register("authEvent",(t=>(Se(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pr,{type:Pr},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),_e(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await vr(e);for(const e of t)try{if(_r(e))return}catch(e){}_e(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mt()||ut()||pt()}}),this.cordovaResolver=Ae(class{constructor(){this._redirectPersistence=kn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fr}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new qr(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){_e(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,o,s,a,u,c,l;const h=Vr();Se("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(o=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(u=null===(a=null===(s=null==h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),ur.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:zr(),postBody:null,tenantId:e.tenantId,error:Ee(e,"no-auth-event")}}(e,n,r);await function(e,t){return Qr()._set($r(e),t)}(e,o);const s=await async function(e,t,n){var r;const{BuildInfo:i}=Vr();Ce(t.sessionId,"AuthEvent did not contain a session ID");const o=await async function(e){const t=function(e){if(Ce(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),s={};return pt()?s.ibi=i.packageName:ht()?s.apn=i.packageName:_e(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,Dr(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}(e,o,t);return async function(e,t,n){const{cordova:r}=Vr();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function u(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{s(Ee(e,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(u),document.addEventListener("resume",c,!1),ht()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await function(e){const{cordova:t}=Vr();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=c()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}(s))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Vr(),n={};pt()?n.iosBundleId=t.packageName:ht()?n.androidPackageName=t.packageName:_e(e,"operation-not-supported-in-this-environment"),await vr(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Vr(),o=setTimeout((async()=>{await Br(e),t.onEvent(Kr())}),500),s=async n=>{clearTimeout(o);const r=await Br(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Wr(e),n=t.link?decodeURIComponent(t.link):void 0,r=Wr(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Wr(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Wr(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(e){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?Ee(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Kr())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,s);const a=r,u=`${i.packageName.toLowerCase()}://`;Vr().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(u)&&s({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}}}}),this.underlyingResolver=null,this._redirectPersistence=kn,this._completeRedirectFn=fr}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Zr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oi(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Zr()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function ai(e){return e.unwrap()}function ui(e){const{_tokenResponse:t}=e instanceof g?e.customData:e;if(!t)return null;if(!(e instanceof g)&&"temporaryProof"in t&&"phoneNumber"in t)return Zn.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=Ft;break;case"facebook.com":r=Mt;break;case"github.com":r=jt;break;case"twitter.com":r=qt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?Ut._create(n,s):Ct._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new Lt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof g?r.credentialFromError(e):r.credentialFromResult(e)}function ci(e,t){return t.catch((t=>{throw t instanceof g&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new hi(e,function(e,t){var n;const r=C(e),i=t;return Se(t.customData.operationType,r,"argument-error"),Se(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),mn._fromError(r,i)}(e,t));else if(r){const e=ui(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,ui(r)),additionalUserInfo:fn(e),user:di.getOrCreate(n)};var r}))}async function li(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>ci(e,n.confirm(t))}}class hi{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ci(ai(this.auth),this.resolver.resolveSignIn(e))}}class di{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=C(e);return yn.has(t)||yn.set(t,gn._fromUser(t)),yn.get(t)}(e)}static getOrCreate(e){return di.USER_MAP.has(e)||di.USER_MAP.set(e,new di(e)),di.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ci(this.auth,Zt(this._delegate,e))}async linkWithPhoneNumber(e,t){return li(this.auth,async function(e,t,n){const r=C(e);await Ht(!1,r,"phone");const i=await Xn(r.auth,t,C(n));return new Jn(i,(e=>Zt(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return ci(this.auth,async function(e,t,n){const r=C(e);Te(r.auth,t,Pt);const i=er(r.auth,n);return new ar(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,si))}async linkWithRedirect(e){return await ri(vt(this.auth)),function(e,t,n){return async function(e,t,n){const r=C(e);Te(r.auth,t,Pt);const i=er(r.auth,n);await Ht(!1,r,t.providerId),await lr(i,r.auth);const o=await pr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,si)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ci(this.auth,en(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return li(this.auth,async function(e,t,n){const r=C(e),i=await Xn(r.auth,t,C(n));return new Jn(i,(e=>en(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return ci(this.auth,async function(e,t,n){const r=C(e);Te(r.auth,t,Pt);const i=er(r.auth,n);return new ar(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,si))}async reauthenticateWithRedirect(e){return await ri(vt(this.auth)),function(e,t,n){return async function(e,t,n){const r=C(e);Te(r.auth,t,Pt);const i=er(r.auth,n);await lr(i,r.auth);const o=await pr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,si)}sendEmailVerification(e){return async function(e,t){const n=C(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&rn(n.auth,r,t);const{email:i}=await async function(e,t){return It(e,t)}(n.auth,r);i!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=C(e);await Ht(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Ve(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Kt(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return sn(C(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return sn(C(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Gt(C(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=C(e),i={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await He(r,async function(e,t){return Ve(e,"POST","/v1/accounts:update",t)}(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const s=r.providerData.find((({providerId:e})=>"password"===e));s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=C(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&rn(r.auth,i,n);const{email:o}=await async function(e,t){return It(e,t)}(r.auth,i);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}di.USER_MAP=new WeakMap;const fi=Se;class pi{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;fi(n,"invalid-api-key",{appName:e.name}),fi(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?si:void 0;this._delegate=t.initialize({options:{persistence:gi(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(ge),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?di.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=vt(e);Se(r._canInitEmulator,r,"emulator-config-failed"),Se(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=wt(t),{host:s,port:a}=function(e){const t=wt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:_t(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:_t(t)}}}(t),u=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return Ve(e,"POST","/v1/accounts:update",Ue(e,t))}(C(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return on(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await kt(C(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ci(this._delegate,async function(e,t,n){const r=vt(e),i=await Bt(r,{returnSecureToken:!0,email:t,password:n}),o=await zt._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:De()?xe():"http://localhost"},{signinMethods:r}=await async function(e,t){return Ve(e,"POST","/v1/accounts:createAuthUri",Ue(e,t))}(C(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=xt.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){fi(Xr(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await vt(e)._initializationPromise,fr(e,t,!1)}(this._delegate,si);return e?ci(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){vt(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=mi(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=mi(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=C(e),i={requestType:"EMAIL_SIGNIN",email:t};Se(n.handleCodeInApp,r,"argument-error"),n&&rn(r,i,n),await async function(e,t){return It(e,t)}(r,i)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=C(e),i={requestType:"PASSWORD_RESET",email:t};n&&rn(r,i,n),await async function(e,t){return It(e,t)}(r,i)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){ti(Object.values(ei).includes(t),e,"invalid-persistence-type"),f()?ti(t!==ei.SESSION,e,"unsupported-persistence-type"):h()?ti(t===ei.NONE,e,"unsupported-persistence-type"):Jr()?ti(t===ei.NONE||t===ei.LOCAL&&m(),e,"unsupported-persistence-type"):ti(t===ei.NONE||Yr(),e,"unsupported-persistence-type")}(this._delegate,e),e){case ei.SESSION:t=kn;break;case ei.LOCAL:t=await Ae(jn)._isAvailable()?jn:_n;break;case ei.NONE:t=rt;break;default:return _e("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ci(this._delegate,async function(e){var t;const n=vt(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new zt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Bt(n,{returnSecureToken:!0}),i=await zt._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return ci(this._delegate,Xt(this._delegate,e))}signInWithCustomToken(e){return ci(this._delegate,async function(e,t){const n=vt(e),r=await async function(e,t){return Be(e,"POST","/v1/accounts:signInWithCustomToken",Ue(e,t))}(n,{token:t,returnSecureToken:!0}),i=await zt._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return ci(this._delegate,function(e,t,n){return Xt(C(e),Dt.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return ci(this._delegate,async function(e,t,n){const r=C(e),i=Dt.credentialWithLink(t,n||xe());return Se(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Xt(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return li(this._delegate,async function(e,t,n){const r=vt(e),i=await Xn(r,t,C(n));return new Jn(i,(e=>Xt(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return fi(Xr(),this._delegate,"operation-not-supported-in-this-environment"),ci(this._delegate,async function(e,t,n){const r=vt(e);Te(e,t,Pt);const i=er(r,n);return new ar(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,si))}async signInWithRedirect(e){return fi(Xr(),this._delegate,"operation-not-supported-in-this-environment"),await ri(this._delegate),function(e,t,n){return async function(e,t,n){const r=vt(e);Te(e,t,Pt);const i=er(r,n);return await lr(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,si)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await on(C(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function mi(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&di.getOrCreate(e)),error:t,complete:n}}function gi(e,t){const n=function(e,t){const n=ii();if(!n)return[];const r=it(ni,e,t);switch(n.getItem(r)){case ei.NONE:return[rt];case ei.LOCAL:return[jn,kn];case ei.SESSION:return[kn];default:return[]}}(e,t);if("undefined"==typeof self||n.includes(jn)||n.push(jn),"undefined"!=typeof window)for(const e of[_n,kn])n.includes(e)||n.push(e);return n.includes(rt)||n.push(rt),n}pi.Persistence=ei;class yi{constructor(){this.providerId="phone",this._delegate=new Zn(ai(pe.auth()))}static credential(e,t){return Zn.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}yi.PHONE_SIGN_IN_METHOD=Zn.PHONE_SIGN_IN_METHOD,yi.PROVIDER_ID=Zn.PROVIDER_ID;const vi=Se;var bi;(bi=pe).INTERNAL.registerComponent(new N("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new pi(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Dt,FacebookAuthProvider:Mt,GithubAuthProvider:jt,GoogleAuthProvider:Ft,OAuthProvider:Lt,SAMLAuthProvider:Vt,PhoneAuthProvider:yi,PhoneMultiFactorGenerator:Lr,RecaptchaVerifier:class{constructor(e,t,n=pe.app()){var r;vi(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Yn(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:qt,Auth:pi,AuthCredential:Et,Error:g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),bi.registerVersion("@firebase/auth-compat","0.2.7");var wi,_i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Ei={},ki=ki||{},Ti=_i||self;function Ii(){}function Si(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Oi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ci="closure_uid_"+(1e9*Math.random()>>>0),Ni=0;function Ai(e,t,n){return e.call.apply(e.bind,arguments)}function xi(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Di(e,t,n){return(Di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ai:xi).apply(null,arguments)}function Pi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ri(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Li(){this.s=this.s,this.o=this.o}var Mi={};Li.prototype.s=!1,Li.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ci)&&e[Ci]||(e[Ci]=++Ni)}(this);delete Mi[e]}},Li.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Fi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},ji=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Ui(e){return Array.prototype.concat.apply([],arguments)}function Vi(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function qi(e){return/^[\s\xa0]*$/.test(e)}var Bi,zi=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Qi(e,t){return-1!=e.indexOf(t)}function $i(e,t){return e<t?-1:e>t?1:0}e:{var Wi=Ti.navigator;if(Wi){var Ki=Wi.userAgent;if(Ki){Bi=Ki;break e}}Bi=""}function Gi(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Hi(e){const t={};for(const n in e)t[n]=e[n];return t}var Yi="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ji(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Yi.length;t++)n=Yi[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Xi(e){return Xi[" "](e),e}Xi[" "]=Ii;var Zi,eo,to=Qi(Bi,"Opera"),no=Qi(Bi,"Trident")||Qi(Bi,"MSIE"),ro=Qi(Bi,"Edge"),io=ro||no,oo=Qi(Bi,"Gecko")&&!(Qi(Bi.toLowerCase(),"webkit")&&!Qi(Bi,"Edge"))&&!(Qi(Bi,"Trident")||Qi(Bi,"MSIE"))&&!Qi(Bi,"Edge"),so=Qi(Bi.toLowerCase(),"webkit")&&!Qi(Bi,"Edge");function ao(){var e=Ti.document;return e?e.documentMode:void 0}e:{var uo="",co=(eo=Bi,oo?/rv:([^\);]+)(\)|;)/.exec(eo):ro?/Edge\/([\d\.]+)/.exec(eo):no?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(eo):so?/WebKit\/(\S+)/.exec(eo):to?/(?:Version)[ \/]?(\S+)/.exec(eo):void 0);if(co&&(uo=co?co[1]:""),no){var lo=ao();if(null!=lo&&lo>parseFloat(uo)){Zi=String(lo);break e}}Zi=uo}var ho,fo={};function po(){return e=fo,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=zi(String(Zi)).split("."),n=zi("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=$i(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||$i(0==i[2].length,0==o[2].length)||$i(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}();var e}Ti.document&&no?ho=ao()||parseInt(Zi,10)||void 0:ho=void 0;var mo=ho,go=function(){if(!Ti.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ti.addEventListener("test",Ii,t),Ti.removeEventListener("test",Ii,t)}catch(e){}return e}();function yo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function vo(e,t){if(yo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(oo){e:{try{Xi(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:bo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&vo.Z.h.call(this)}}yo.prototype.h=function(){this.defaultPrevented=!0},Ri(vo,yo);var bo={2:"touch",3:"pen",4:"mouse"};vo.prototype.h=function(){vo.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wo="closure_listenable_"+(1e6*Math.random()|0),_o=0;function Eo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++_o,this.ca=this.fa=!1}function ko(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function To(e){this.src=e,this.g={},this.h=0}function Io(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Fi(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ko(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function So(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}To.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=So(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new Eo(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var Oo="closure_lm_"+(1e6*Math.random()|0),Co={};function No(e,t,n,r,i){if(r&&r.once)return xo(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)No(e,t[o],n,r,i);return null}return n=jo(n),e&&e[wo]?e.N(t,n,Oi(r)?!!r.capture:!!r,i):Ao(e,t,n,!1,r,i)}function Ao(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Oi(i)?!!i.capture:!!i,a=Mo(e);if(a||(e[Oo]=a=new To(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=Lo;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)go||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ro(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xo(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)xo(e,t[o],n,r,i);return null}return n=jo(n),e&&e[wo]?e.O(t,n,Oi(r)?!!r.capture:!!r,i):Ao(e,t,n,!0,r,i)}function Do(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Do(e,t[o],n,r,i);else r=Oi(r)?!!r.capture:!!r,n=jo(n),e&&e[wo]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=So(o=e.g[t],n,r,i))&&(ko(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=Mo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=So(t,n,r,i)),(n=-1<e?t[e]:null)&&Po(n))}function Po(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[wo])Io(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ro(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Mo(t))?(Io(n,e),0==n.h&&(n.src=null,t[Oo]=null)):ko(e)}}}function Ro(e){return e in Co?Co[e]:Co[e]="on"+e}function Lo(e,t){if(e.ca)e=!0;else{t=new vo(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Po(e),e=n.call(r,t)}return e}function Mo(e){return(e=e[Oo])instanceof To?e:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function jo(e){return"function"==typeof e?e:(e[Fo]||(e[Fo]=function(t){return e.handleEvent(t)}),e[Fo])}function Uo(){Li.call(this),this.i=new To(this),this.P=this,this.I=null}function Vo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new yo(t,e);else if(t instanceof yo)t.target=t.target||e;else{var i=t;Ji(t=new yo(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=qo(s,r,!0,t)&&i}if(i=qo(s=t.g=e,r,!0,t)&&i,i=qo(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=qo(s=t.g=n[o],r,!1,t)&&i}function qo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&Io(e.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Ri(Uo,Li),Uo.prototype[wo]=!0,Uo.prototype.removeEventListener=function(e,t,n,r){Do(this,e,t,n,r)},Uo.prototype.M=function(){if(Uo.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ko(n[r]);delete t.g[e],t.h--}}this.I=null},Uo.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Uo.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Bo=Ti.JSON.stringify;function zo(){var e=Yo;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Qo,$o=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Wo),(e=>e.reset()));class Wo{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ko(e){Ti.setTimeout((()=>{throw e}),0)}function Go(e,t){Qo||function(){var e=Ti.Promise.resolve(void 0);Qo=function(){e.then(Jo)}}(),Ho||(Qo(),Ho=!0),Yo.add(e,t)}var Ho=!1,Yo=new class{constructor(){this.h=this.g=null}add(e,t){const n=$o.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Jo(){for(var e;e=zo();){try{e.h.call(e.g)}catch(e){Ko(e)}var t=$o;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ho=!1}function Xo(e,t){Uo.call(this),this.h=e||1,this.g=t||Ti,this.j=Di(this.kb,this),this.l=Date.now()}function Zo(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function es(e,t,n){if("function"==typeof e)n&&(e=Di(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Di(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ti.setTimeout(e,t||0)}function ts(e){e.g=es((()=>{e.g=null,e.i&&(e.i=!1,ts(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ri(Xo,Uo),(wi=Xo.prototype).da=!1,wi.S=null,wi.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Vo(this,"tick"),this.da&&(Zo(this),this.start()))}},wi.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},wi.M=function(){Xo.Z.M.call(this),Zo(this),delete this.g};class ns extends Li{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ts(this)}M(){super.M(),this.g&&(Ti.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(e){Li.call(this),this.h=e,this.g={}}Ri(rs,Li);var is=[];function os(e,t,n,r){Array.isArray(n)||(n&&(is[0]=n.toString()),n=is);for(var i=0;i<n.length;i++){var o=No(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ss(e){Gi(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Po(e)}),e),e.g={}}function as(){this.g=!0}function us(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Bo(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}rs.prototype.M=function(){rs.Z.M.call(this),ss(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},as.prototype.Aa=function(){this.g=!1},as.prototype.info=function(){};var cs={},ls=null;function hs(){return ls=ls||new Uo}function ds(e){yo.call(this,cs.Ma,e)}function fs(e){const t=hs();Vo(t,new ds(t,e))}function ps(e,t){yo.call(this,cs.STAT_EVENT,e),this.stat=t}function ms(e){const t=hs();Vo(t,new ps(t,e))}function gs(e,t){yo.call(this,cs.Na,e),this.size=t}function ys(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Ti.setTimeout((function(){e()}),t)}cs.Ma="serverreachability",Ri(ds,yo),cs.STAT_EVENT="statevent",Ri(ps,yo),cs.Na="timingevent",Ri(gs,yo);var vs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ws(){}function _s(e){return e.h||(e.h=e.i())}function Es(){}ws.prototype.h=null;var ks,Ts={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Is(){yo.call(this,"d")}function Ss(){yo.call(this,"c")}function Os(){}function Cs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new rs(this),this.P=As,e=io?125:void 0,this.W=new Xo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ns}function Ns(){this.i=null,this.g="",this.h=!1}Ri(Is,yo),Ri(Ss,yo),Ri(Os,ws),Os.prototype.g=function(){return new XMLHttpRequest},Os.prototype.i=function(){return{}},ks=new Os;var As=45e3,xs={},Ds={};function Ps(e,t,n){e.K=1,e.v=na(Ys(t)),e.s=n,e.U=!0,Rs(e,null)}function Rs(e,t){e.F=Date.now(),js(e),e.A=Ys(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ma(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ns,e.g=mu(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ns(Di(e.Ia,e,e.g),e.O)),os(e.V,e.g,"readystatechange",e.gb),t=e.H?Hi(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),fs(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ls(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Ms(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Fs(e,n),r==Ds){4==t&&(e.o=4,ms(14),i=!1),us(e.j,e.m,null,"[Incomplete Response]");break}if(r==xs){e.o=4,ms(15),us(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}us(e.j,e.m,r,null),zs(e,r)}Ls(e)&&r!=Ds&&r!=xs&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ms(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),au(t),t.L=!0,ms(11))):(us(e.j,e.m,n,"[Invalid Chunked Response]"),Bs(e),qs(e))}function Fs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ds:(n=Number(t.substring(n,r)),isNaN(n)?xs:(r+=1)+n>t.length?Ds:(t=t.substr(r,n),e.C=r+n,t))}function js(e){e.Y=Date.now()+e.P,Us(e,e.P)}function Us(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ys(Di(e.eb,e),t)}function Vs(e){e.B&&(Ti.clearTimeout(e.B),e.B=null)}function qs(e){0==e.l.G||e.I||lu(e.l,e)}function Bs(e){Vs(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Zo(e.W),ss(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function zs(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||_a(n.i,e)))if(n.I=e.N,!e.J&&_a(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;cu(n),Xa(n)}su(n),ms(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ys(Di(n.ab,n),6e3));if(1>=wa(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else du(n,11)}else if((e.J||n.g==e)&&cu(n),!qi(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const t=c[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;!o.g&&(Qi(e,"spdy")||Qi(e,"quic")||Qi(e,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(Ea(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,ta(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var s=e;if((r=n).oa=pu(r,r.H?r.la:null,r.W),s.J){ka(r.i,s);var a=s,u=r.K;u&&a.setTimeout(u),a.B&&(Vs(a),js(a)),r.g=s}else ou(r);0<n.l.length&&tu(n)}else"stop"!=c[0]&&"close"!=c[0]||du(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?du(n,7):Ja(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}fs(4)}catch(e){}}function Qs(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Si(e)||"string"==typeof e)ji(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Si(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(Si(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function $s(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof $s)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ws(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ks(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ks(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ks(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(wi=Cs.prototype).setTimeout=function(e){this.P=e},wi.gb=function(e){e=e.target;const t=this.L;t&&3==Wa(e)?t.l():this.Ia(e)},wi.Ia=function(e){try{if(e==this.g)e:{const l=Wa(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||io||this.g&&(this.h.h||this.g.ga()||Ka(this.g)))){this.I||4!=l||7==t||fs(8==t||0>=h?3:2),Vs(this);var n=this.g.ba();this.N=n;t:if(Ls(this)){var r=Ka(this.g);e="";var i=r.length,o=4==Wa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Bs(this),qs(this);var s="";break t}this.h.i=new Ti.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qi(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,ms(12),Bs(this),qs(this);break e}us(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zs(this,n)}this.U?(Ms(this,l,s),io&&this.i&&3==l&&(os(this.V,this.W,"tick",this.fb),this.W.start())):(us(this.j,this.m,s,null),zs(this,s)),4==l&&Bs(this),this.i&&!this.I&&(4==l?lu(this.l,this):(this.i=!1,js(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,ms(12)):(this.o=0,ms(13)),Bs(this),qs(this)}}}catch(e){}},wi.fb=function(){if(this.g){var e=Wa(this.g),t=this.g.ga();this.C<t.length&&(Vs(this),Ms(this,e,t),this.i&&4!=e&&js(this))}},wi.cancel=function(){this.I=!0,Bs(this)},wi.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(fs(3),ms(17)),Bs(this),this.o=2,qs(this)):Us(this,this.Y-e)},(wi=$s.prototype).R=function(){Ws(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},wi.T=function(){return Ws(this),this.g.concat()},wi.get=function(e,t){return Ks(this.h,e)?this.h[e]:t},wi.set=function(e,t){Ks(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},wi.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Gs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Hs(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Hs){this.g=void 0!==t?t:e.g,Js(this,e.j),this.s=e.s,Xs(this,e.i),Zs(this,e.m),this.l=e.l,t=e.h;var n=new ha;n.i=t.i,t.g&&(n.g=new $s(t.g),n.h=t.h),ea(this,n),this.o=e.o}else e&&(n=String(e).match(Gs))?(this.g=!!t,Js(this,n[1]||"",!0),this.s=ra(n[2]||""),Xs(this,n[3]||"",!0),Zs(this,n[4]),this.l=ra(n[5]||"",!0),ea(this,n[6]||"",!0),this.o=ra(n[7]||"")):(this.g=!!t,this.h=new ha(null,this.g))}function Ys(e){return new Hs(e)}function Js(e,t,n){e.j=n?ra(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xs(e,t,n){e.i=n?ra(t,!0):t}function Zs(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ea(e,t,n){t instanceof ha?(e.h=t,function(e,t){t&&!e.j&&(da(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(fa(this,t),ma(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=ia(t,ca)),e.h=new ha(t,e.g))}function ta(e,t,n){e.h.set(t,n)}function na(e){return ta(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ra(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ia(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,oa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function oa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Hs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ia(t,sa,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ia(t,sa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(ia(n,"/"==n.charAt(0)?ua:aa,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ia(n,la)),e.join("")};var sa=/[#\/\?@]/g,aa=/[#\?:]/g,ua=/[#\?]/g,ca=/[#\?@]/g,la=/#/g;function ha(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function da(e){e.g||(e.g=new $s,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function fa(e,t){da(e),t=ga(e,t),Ks(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ks((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ws(e)))}function pa(e,t){return da(e),t=ga(e,t),Ks(e.g.h,t)}function ma(e,t,n){fa(e,t),0<n.length&&(e.i=null,e.g.set(ga(e,t),Vi(n)),e.h+=n.length)}function ga(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function ya(e){this.l=e||va,e=Ti.PerformanceNavigationTiming?0<(e=Ti.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Ti.g&&Ti.g.Ea&&Ti.g.Ea()&&Ti.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(wi=ha.prototype).add=function(e,t){da(this),this.i=null,e=ga(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},wi.forEach=function(e,t){da(this),this.g.forEach((function(n,r){ji(n,(function(n){e.call(t,n,r,this)}),this)}),this)},wi.T=function(){da(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},wi.R=function(e){da(this);var t=[];if("string"==typeof e)pa(this,e)&&(t=Ui(t,this.g.get(ga(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ui(t,e[n])}return t},wi.set=function(e,t){return da(this),this.i=null,pa(this,e=ga(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},wi.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},wi.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var va=10;function ba(e){return!!e.h||!!e.g&&e.g.size>=e.j}function wa(e){return e.h?1:e.g?e.g.size:0}function _a(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ea(e,t){e.g?e.g.add(t):e.h=t}function ka(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ta(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Vi(e.i)}function Ia(){}function Sa(){this.g=new Ia}function Oa(e,t,n){const r=n||"";try{Qs(e,(function(e,n){let i=e;Oi(e)&&(i=Bo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Ca(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function Na(e){this.l=e.$b||null,this.j=e.ib||!1}function Aa(e,t){Uo.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ya.prototype.cancel=function(){if(this.i=Ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Ia.prototype.stringify=function(e){return Ti.JSON.stringify(e,void 0)},Ia.prototype.parse=function(e){return Ti.JSON.parse(e,void 0)},Ri(Na,ws),Na.prototype.g=function(){return new Aa(this.l,this.j)},Na.prototype.i=function(e){return function(){return e}}({}),Ri(Aa,Uo);var xa=0;function Da(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Pa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ra(e)}function Ra(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(wi=Aa.prototype).open=function(e,t){if(this.readyState!=xa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ra(this)},wi.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ti).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},wi.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pa(this)),this.readyState=xa},wi.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ra(this)),this.g&&(this.readyState=3,Ra(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ti.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Da(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},wi.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pa(this):Ra(this),3==this.readyState&&Da(this)}},wi.Ua=function(e){this.g&&(this.response=this.responseText=e,Pa(this))},wi.Ta=function(e){this.g&&(this.response=e,Pa(this))},wi.ha=function(){this.g&&Pa(this)},wi.setRequestHeader=function(e,t){this.v.append(e,t)},wi.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},wi.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var La=Ti.JSON.parse;function Ma(e){Uo.call(this),this.headers=new $s,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Fa,this.K=this.L=!1}Ri(Ma,Uo);var Fa="",ja=/^https?$/i,Ua=["POST","PUT"];function Va(e){return"content-type"==e.toLowerCase()}function qa(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ba(e),Qa(e)}function Ba(e){e.D||(e.D=!0,Vo(e,"complete"),Vo(e,"error"))}function za(e){if(e.h&&void 0!==ki&&(!e.C[1]||4!=Wa(e)||2!=e.ba()))if(e.v&&4==Wa(e))es(e.Fa,0,e);else if(Vo(e,"readystatechange"),4==Wa(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(Gs)[1]||null;if(!i&&Ti.self&&Ti.self.location){var o=Ti.self.location.protocol;i=o.substr(0,o.length-1)}r=!ja.test(i?i.toLowerCase():"")}n=r}if(n)Vo(e,"complete"),Vo(e,"success");else{e.m=6;try{var s=2<Wa(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",Ba(e)}}finally{Qa(e)}}}function Qa(e,t){if(e.g){$a(e);const n=e.g,r=e.C[0]?Ii:null;e.g=null,e.C=null,t||Vo(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function $a(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ti.clearTimeout(e.A),e.A=null)}function Wa(e){return e.g?e.g.readyState:0}function Ka(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Fa:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ga(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Gi(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ta(e,t,n))}function Ha(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ya(e){this.za=0,this.l=[],this.h=new as,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ha("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ha("baseRetryDelayMs",5e3,e),this.$a=Ha("retryDelaySeedMs",1e4,e),this.Ya=Ha("forwardChannelMaxRetries",2,e),this.ra=Ha("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new ya(e&&e.concurrentRequestLimit),this.Ca=new Sa,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ja(e){if(Za(e),3==e.G){var t=e.V++,n=Ys(e.F);ta(n,"SID",e.J),ta(n,"RID",t),ta(n,"TYPE","terminate"),ru(e,n),(t=new Cs(e,e.h,t,void 0)).K=2,t.v=na(Ys(n)),n=!1,Ti.navigator&&Ti.navigator.sendBeacon&&(n=Ti.navigator.sendBeacon(t.v.toString(),"")),!n&&Ti.Image&&((new Image).src=t.v,n=!0),n||(t.g=mu(t.l,null),t.g.ea(t.v)),t.F=Date.now(),js(t)}fu(e)}function Xa(e){e.g&&(au(e),e.g.cancel(),e.g=null)}function Za(e){Xa(e),e.u&&(Ti.clearTimeout(e.u),e.u=null),cu(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Ti.clearTimeout(e.m),e.m=null)}function eu(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&tu(e)}function tu(e){ba(e.i)||e.m||(e.m=!0,Go(e.Ha,e),e.C=0)}function nu(e,t){var n;n=t?t.m:e.V++;const r=Ys(e.F);ta(r,"SID",e.J),ta(r,"RID",n),ta(r,"AID",e.U),ru(e,r),e.o&&e.s&&Ga(r,e.o,e.s),n=new Cs(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=iu(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ea(e.i,n),Ps(n,r,t)}function ru(e,t){e.j&&Qs({},(function(e,n){ta(t,n,e)}))}function iu(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Di(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=t,0>n)t=Math.max(0,i[s].h-100),o=!1;else try{Oa(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function ou(e){e.g||e.u||(e.Y=1,Go(e.Ga,e),e.A=0)}function su(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=ys(Di(e.Ga,e),hu(e,e.A)),e.A++,0))}function au(e){null!=e.B&&(Ti.clearTimeout(e.B),e.B=null)}function uu(e){e.g=new Cs(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ys(e.oa);ta(t,"RID","rpc"),ta(t,"SID",e.J),ta(t,"CI",e.N?"0":"1"),ta(t,"AID",e.U),ru(e,t),ta(t,"TYPE","xmlhttp"),e.o&&e.s&&Ga(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=na(Ys(t)),n.s=null,n.U=!0,Rs(n,e)}function cu(e){null!=e.v&&(Ti.clearTimeout(e.v),e.v=null)}function lu(e,t){var n=null;if(e.g==t){cu(e),au(e),e.g=null;var r=2}else{if(!_a(e.i,t))return;n=t.D,ka(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Vo(r=hs(),new gs(r,n,t,i)),tu(e)}else ou(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(wa(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=ys(Di(e.Ha,e,t),hu(e,e.C)),e.C++,0)))}(e,t)||2==r&&su(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:du(e,5);break;case 4:du(e,10);break;case 3:du(e,6);break;default:du(e,2)}}function hu(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function du(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Di(e.jb,e);n||(n=new Hs("//www.google.com/images/cleardot.gif"),Ti.location&&"http"==Ti.location.protocol||Js(n,"https"),na(n)),function(e,t){const n=new as;if(Ti.Image){const r=new Image;r.onload=Pi(Ca,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Pi(Ca,n,r,"TestLoadImage: error",!1,t),r.onabort=Pi(Ca,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Pi(Ca,n,r,"TestLoadImage: timeout",!1,t),Ti.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ms(2);e.G=0,e.j&&e.j.va(t),fu(e),Za(e)}function fu(e){e.G=0,e.I=-1,e.j&&(0==Ta(e.i).length&&0==e.l.length||(e.i.i.length=0,Vi(e.l),e.l.length=0),e.j.ua())}function pu(e,t,n){let r=function(e){return e instanceof Hs?Ys(e):new Hs(e,void 0)}(n);if(""!=r.i)t&&Xs(r,t+"."+r.i),Zs(r,r.m);else{const e=Ti.location;r=function(e,t,n,r){var i=new Hs(null,void 0);return e&&Js(i,e),t&&Xs(i,t),n&&Zs(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Gi(e.aa,(function(e,t){ta(r,t,e)})),t=e.D,n=e.sa,t&&n&&ta(r,t,n),ta(r,"VER",e.ma),ru(e,r),r}function mu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ma(new Na({ib:!0})):new Ma(e.qa)).L=e.H,t}function gu(){}function yu(){if(no&&!(10<=Number(mo)))throw Error("Environmental error: no available transport.")}function vu(e,t){Uo.call(this),this.g=new Ya(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!qi(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qi(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new _u(this)}function bu(e){Is.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function wu(){Ss.call(this),this.status=1}function _u(e){this.g=e}(wi=Ma.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ks.g(),this.C=this.u?_s(this.u):_s(ks),this.g.onreadystatechange=Di(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void qa(this,e)}e=n||"";const i=new $s(this.headers);r&&Qs(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=Va;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=Ti.FormData&&e instanceof Ti.FormData,!(0<=Fi(Ua,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$a(this),0<this.B&&((this.K=function(e){return no&&po()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Di(this.pa,this)):this.A=es(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){qa(this,e)}},wi.pa=function(){void 0!==ki&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vo(this,"timeout"),this.abort(8))},wi.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Vo(this,"complete"),Vo(this,"abort"),Qa(this))},wi.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qa(this,!0)),Ma.Z.M.call(this)},wi.Fa=function(){this.s||(this.F||this.v||this.l?za(this):this.cb())},wi.cb=function(){za(this)},wi.ba=function(){try{return 2<Wa(this)?this.g.status:-1}catch(e){return-1}},wi.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},wi.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),La(t)}},wi.Da=function(){return this.m},wi.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(wi=Ya.prototype).ma=8,wi.G=1,wi.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},wi.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Cs(this,this.h,e,void 0);let o=this.s;if(this.P&&(o?(o=Hi(o),Ji(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=iu(this,i,t),ta(n=Ys(this.F),"RID",e),ta(n,"CVER",22),this.D&&ta(n,"X-HTTP-Session-Id",this.D),ru(this,n),this.o&&o&&Ga(n,this.o,o),Ea(this.i,i),this.Ra&&ta(n,"TYPE","init"),this.ja?(ta(n,"$req",t),ta(n,"SID","null"),i.$=!0,Ps(i,n,null)):Ps(i,n,t),this.G=2}}else 3==this.G&&(e?nu(this,e):0==this.l.length||ba(this.i)||nu(this))},wi.Ga=function(){if(this.u=null,uu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ys(Di(this.bb,this),e)}},wi.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ms(10),Xa(this),uu(this))},wi.ab=function(){null!=this.v&&(this.v=null,Xa(this),su(this),ms(19))},wi.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ms(2)):(this.h.info("Failed to ping google.com"),ms(1))},(wi=gu.prototype).xa=function(){},wi.wa=function(){},wi.va=function(){},wi.ua=function(){},wi.Oa=function(){},yu.prototype.g=function(e,t){return new vu(e,t)},Ri(vu,Uo),vu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Go(Di(e.hb,e,t))),ms(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=pu(e,null,e.W),tu(e)},vu.prototype.close=function(){Ja(this.g)},vu.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,eu(this.g,t)}else this.v?((t={}).__data__=Bo(e),eu(this.g,t)):eu(this.g,e)},vu.prototype.M=function(){this.g.j=null,delete this.j,Ja(this.g),delete this.g,vu.Z.M.call(this)},Ri(bu,Is),Ri(wu,Ss),Ri(_u,gu),_u.prototype.xa=function(){Vo(this.g,"a")},_u.prototype.wa=function(e){Vo(this.g,new bu(e))},_u.prototype.va=function(e){Vo(this.g,new wu(e))},_u.prototype.ua=function(){Vo(this.g,"b")},yu.prototype.createWebChannel=yu.prototype.g,vu.prototype.send=vu.prototype.u,vu.prototype.open=vu.prototype.m,vu.prototype.close=vu.prototype.close,vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,bs.COMPLETE="complete",Es.EventType=Ts,Ts.OPEN="a",Ts.CLOSE="b",Ts.ERROR="c",Ts.MESSAGE="d",Uo.prototype.listen=Uo.prototype.N,Ma.prototype.listenOnce=Ma.prototype.O,Ma.prototype.getLastError=Ma.prototype.La,Ma.prototype.getLastErrorCode=Ma.prototype.Da,Ma.prototype.getStatus=Ma.prototype.ba,Ma.prototype.getResponseJson=Ma.prototype.Qa,Ma.prototype.getResponseText=Ma.prototype.ga,Ma.prototype.send=Ma.prototype.ea;var Eu=Ei.createWebChannelTransport=function(){return new yu},ku=Ei.getStatEventTarget=function(){return hs()},Tu=Ei.ErrorCode=vs,Iu=Ei.EventType=bs,Su=Ei.Event=cs,Ou=Ei.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Cu=Ei.FetchXmlHttpFactory=Na,Nu=Ei.WebChannel=Es,Au=Ei.XhrIo=Ma;const xu="@firebase/firestore";class Du{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Du.UNAUTHENTICATED=new Du(null),Du.GOOGLE_CREDENTIALS=new Du("google-credentials-uid"),Du.FIRST_PARTY=new Du("first-party-uid"),Du.MOCK_USER=new Du("mock-user");let Pu="9.6.5";const Ru=new U("@firebase/firestore");function Lu(){return Ru.logLevel}function Mu(e,...t){if(Ru.logLevel<=R.DEBUG){const n=t.map(Uu);Ru.debug(`Firestore (${Pu}): ${e}`,...n)}}function Fu(e,...t){if(Ru.logLevel<=R.ERROR){const n=t.map(Uu);Ru.error(`Firestore (${Pu}): ${e}`,...n)}}function ju(e,...t){if(Ru.logLevel<=R.WARN){const n=t.map(Uu);Ru.warn(`Firestore (${Pu}): ${e}`,...n)}}function Uu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Vu(e="Unexpected state"){const t=`FIRESTORE (${Pu}) INTERNAL ASSERTION FAILED: `+e;throw Fu(t),new Error(t)}function qu(e,t){e||Vu()}function Bu(e,t){return e}const zu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qu extends g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $u{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Wu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ku{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Du.UNAUTHENTICATED)))}shutdown(){}}class Gu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Hu{constructor(e){this.t=e,this.currentUser=Du.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new $u;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $u,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Mu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Mu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $u)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Mu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(qu("string"==typeof t.accessToken),new Wu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qu(null===e||"string"==typeof e),new Du(e)}}class Yu{constructor(e,t,n){this.type="FirstParty",this.user=Du.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Ju{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Yu(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Du.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zu{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable((()=>(e=>(null!=e.error&&Mu("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token)))(n)))};const n=e=>{Mu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):Mu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(qu("string"==typeof e.token),new Xu(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ec{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function tc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}ec.I=-1;class nc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=tc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function rc(e,t){return e<t?-1:e>t?1:0}function ic(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function oc(e){return e+"\0"}class sc{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qu(zu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qu(zu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Qu(zu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qu(zu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return sc.fromMillis(Date.now())}static fromDate(e){return sc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new sc(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rc(this.nanoseconds,e.nanoseconds):rc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ac{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ac(e)}static min(){return new ac(new sc(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function uc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function cc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class hc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Vu(),void 0===n?n=e.length-t:n>e.length-t&&Vu(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===hc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dc extends hc{construct(e,t,n){return new dc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Qu(zu.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new dc(t)}static emptyPath(){return new dc([])}}const fc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pc extends hc{construct(e,t,n){return new pc(e,t,n)}static isValidIdentifier(e){return fc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new pc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Qu(zu.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Qu(zu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Qu(zu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Qu(zu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pc(t)}static emptyPath(){return new pc([])}}class mc{constructor(e){this.fields=e,e.sort(pc.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ic(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class gc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new gc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gc.EMPTY_BYTE_STRING=new gc("");const yc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vc(e){if(qu(!!e),"string"==typeof e){let t=0;const n=yc.exec(e);if(qu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:bc(e.seconds),nanos:bc(e.nanos)}}function bc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wc(e){return"string"==typeof e?gc.fromBase64String(e):gc.fromUint8Array(e)}function _c(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ec(e){const t=e.mapValue.fields.__previous_value__;return _c(t)?Ec(t):t}function kc(e){const t=vc(e.mapValue.fields.__local_write_time__.timestampValue);return new sc(t.seconds,t.nanos)}function Tc(e){return null==e}function Ic(e){return 0===e&&1/e==-1/0}function Sc(e){return"number"==typeof e&&Number.isInteger(e)&&!Ic(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class Oc{constructor(e){this.path=e}static fromPath(e){return new Oc(dc.fromString(e))}static fromName(e){return new Oc(dc.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===dc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oc(new dc(e.slice()))}}function Cc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_c(e)?4:10:Vu()}function Nc(e,t){if(e===t)return!0;const n=Cc(e);if(n!==Cc(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kc(e).isEqual(kc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=vc(e.timestampValue),r=vc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wc(e.bytesValue).isEqual(wc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return bc(e.geoPointValue.latitude)===bc(t.geoPointValue.latitude)&&bc(e.geoPointValue.longitude)===bc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return bc(e.integerValue)===bc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=bc(e.doubleValue),r=bc(t.doubleValue);return n===r?Ic(n)===Ic(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ic(e.arrayValue.values||[],t.arrayValue.values||[],Nc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(uc(n)!==uc(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Nc(n[e],r[e])))return!1;return!0}(e,t);default:return Vu()}}function Ac(e,t){return void 0!==(e.values||[]).find((e=>Nc(e,t)))}function xc(e,t){if(e===t)return 0;const n=Cc(e),r=Cc(t);if(n!==r)return rc(n,r);switch(n){case 0:return 0;case 1:return rc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=bc(e.integerValue||e.doubleValue),r=bc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Dc(e.timestampValue,t.timestampValue);case 4:return Dc(kc(e),kc(t));case 5:return rc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=wc(e),r=wc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=rc(n[e],r[e]);if(0!==t)return t}return rc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=rc(bc(e.latitude),bc(t.latitude));return 0!==n?n:rc(bc(e.longitude),bc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=xc(n[e],r[e]);if(t)return t}return rc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=rc(r[e],o[e]);if(0!==t)return t;const s=xc(n[r[e]],i[o[e]]);if(0!==s)return s}return rc(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Vu()}}function Dc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rc(e,t);const n=vc(e),r=vc(t),i=rc(n.seconds,r.seconds);return 0!==i?i:rc(n.nanos,r.nanos)}function Pc(e){return Rc(e)}function Rc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=vc(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Oc.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Rc(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Rc(e.fields[i])}`;return n+"}"}(e.mapValue):Vu();var t,n}function Lc(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Mc(e){return!!e&&"integerValue"in e}function Fc(e){return!!e&&"arrayValue"in e}function jc(e){return!!e&&"nullValue"in e}function Uc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Vc(e){return!!e&&"mapValue"in e}function qc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return cc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=qc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=qc(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Bc{constructor(e){this.value=e}static empty(){return new Bc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qc(t)}setAll(e){let t=pc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=qc(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Vc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){cc(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Bc(qc(this.value))}}function zc(e){const t=[];return cc(e.fields,((e,n)=>{const r=new pc([e]);if(Vc(n)){const e=zc(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new mc(t)}class Qc{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Qc(e,0,ac.min(),Bc.empty(),0)}static newFoundDocument(e,t,n){return new Qc(e,1,t,n,0)}static newNoDocument(e,t){return new Qc(e,2,t,Bc.empty(),0)}static newUnknownDocument(e,t){return new Qc(e,3,t,Bc.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qc(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.R=null}}function Wc(e,t=null,n=[],r=[],i=null,o=null,s=null){return new $c(e,t,n,r,i,o,s)}function Kc(e){const t=Bu(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+Pc(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Tc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=sl(t.startAt)),t.endAt&&(e+="|ub:",e+=sl(t.endAt)),t.R=e}return t.R}function Gc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ul(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Nc(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ll(e.startAt,t.startAt)&&ll(e.endAt,t.endAt)}function Hc(e){return Oc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Yc extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new Jc(e,t,n):"array-contains"===t?new tl(e,n):"in"===t?new nl(e,n):"not-in"===t?new rl(e,n):"array-contains-any"===t?new il(e,n):new Yc(e,t,n)}static P(e,t,n){return"in"===t?new Xc(e,n):new Zc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(xc(t,this.value)):null!==t&&Cc(this.value)===Cc(t)&&this.v(xc(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vu()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Jc extends Yc{constructor(e,t,n){super(e,t,n),this.key=Oc.fromName(n.referenceValue)}matches(e){const t=Oc.comparator(e.key,this.key);return this.v(t)}}class Xc extends Yc{constructor(e,t){super(e,"in",t),this.keys=el(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Zc extends Yc{constructor(e,t){super(e,"not-in",t),this.keys=el(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function el(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Oc.fromName(e.referenceValue)))}class tl extends Yc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fc(t)&&Ac(t.arrayValue,this.value)}}class nl extends Yc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ac(this.value.arrayValue,t)}}class rl extends Yc{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ac(this.value.arrayValue,t)}}class il extends Yc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Ac(this.value.arrayValue,e)))}}class ol{constructor(e,t){this.position=e,this.before=t}}function sl(e){return`${e.before?"b":"a"}:${e.position.map((e=>Pc(e))).join(",")}`}class al{constructor(e,t="asc"){this.field=e,this.dir=t}}function ul(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function cl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?Oc.comparator(Oc.fromName(s.referenceValue),n.key):xc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function ll(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Nc(e.position[n],t.position[n]))return!1;return!0}class hl{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function dl(e,t,n,r,i,o,s,a){return new hl(e,t,n,r,i,o,s,a)}function fl(e){return new hl(e)}function pl(e){return!Tc(e.limit)&&"F"===e.limitType}function ml(e){return!Tc(e.limit)&&"L"===e.limitType}function gl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function yl(e){for(const t of e.filters)if(t.V())return t.field;return null}function vl(e){return null!==e.collectionGroup}function bl(e){const t=Bu(e);if(null===t.S){t.S=[];const e=yl(t),n=gl(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new al(e)),t.S.push(new al(pc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new al(pc.keyField(),e))}}}return t.S}function wl(e){const t=Bu(e);if(!t.D)if("F"===t.limitType)t.D=Wc(t.path,t.collectionGroup,bl(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of bl(t)){const t="desc"===n.dir?"asc":"desc";e.push(new al(n.field,t))}const n=t.endAt?new ol(t.endAt.position,!t.endAt.before):null,r=t.startAt?new ol(t.startAt.position,!t.startAt.before):null;t.D=Wc(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function _l(e,t,n){return new hl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function El(e,t){return Gc(wl(e),wl(t))&&e.limitType===t.limitType}function kl(e){return`${Kc(wl(e))}|lt:${e.limitType}`}function Tl(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Pc(t.value)}`;var t})).join(", ")}]`),Tc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+sl(e.startAt)),e.endAt&&(t+=", endAt: "+sl(e.endAt)),`Target(${t})`}(wl(e))}; limitType=${e.limitType})`}function Il(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Oc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!cl(e.startAt,bl(e),t)||e.endAt&&cl(e.endAt,bl(e),t))}(e,t)}function Sl(e){return(t,n)=>{let r=!1;for(const i of bl(e)){const e=Ol(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ol(e,t,n){const r=e.field.isKeyField()?Oc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?xc(r,i):Vu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Vu()}}function Cl(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(t)?"-0":t}}function Nl(e){return{integerValue:""+e}}function Al(e,t){return Sc(t)?Nl(t):Cl(e,t)}class xl{constructor(){this._=void 0}}function Dl(e,t,n){return e instanceof Ll?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ml?Fl(e,t):e instanceof jl?Ul(e,t):function(e,t){const n=Rl(e,t),r=ql(n)+ql(e.N);return Mc(n)&&Mc(e.N)?Nl(r):Cl(e.k,r)}(e,t)}function Pl(e,t,n){return e instanceof Ml?Fl(e,t):e instanceof jl?Ul(e,t):n}function Rl(e,t){return e instanceof Vl?Mc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Ll extends xl{}class Ml extends xl{constructor(e){super(),this.elements=e}}function Fl(e,t){const n=Bl(t);for(const t of e.elements)n.some((e=>Nc(e,t)))||n.push(t);return{arrayValue:{values:n}}}class jl extends xl{constructor(e){super(),this.elements=e}}function Ul(e,t){let n=Bl(t);for(const t of e.elements)n=n.filter((e=>!Nc(e,t)));return{arrayValue:{values:n}}}class Vl extends xl{constructor(e,t){super(),this.k=e,this.N=t}}function ql(e){return bc(e.integerValue||e.doubleValue)}function Bl(e){return Fc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class zl{constructor(e,t){this.field=e,this.transform=t}}class Ql{constructor(e,t){this.version=e,this.transformResults=t}}class $l{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $l}static exists(e){return new $l(void 0,e)}static updateTime(e){return new $l(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Kl{}function Gl(e,t,n){e instanceof Zl?function(e,t,n){const r=e.value.clone(),i=nh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof eh?function(e,t,n){if(!Wl(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=nh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(th(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Hl(e,t,n){e instanceof Zl?function(e,t,n){if(!Wl(e.precondition,t))return;const r=e.value.clone(),i=rh(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Xl(t),r).setHasLocalMutations()}(e,t,n):e instanceof eh?function(e,t,n){if(!Wl(e.precondition,t))return;const r=rh(e.fieldTransforms,n,t),i=t.data;i.setAll(th(e)),i.setAll(r),t.convertToFoundDocument(Xl(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Wl(e.precondition,t)&&t.convertToNoDocument(ac.min())}(e,t)}function Yl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Rl(r.transform,e||null);null!=i&&(null==n&&(n=Bc.empty()),n.set(r.field,i))}return n||null}function Jl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ic(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ml&&t instanceof Ml||e instanceof jl&&t instanceof jl?ic(e.elements,t.elements,Nc):e instanceof Vl&&t instanceof Vl?Nc(e.N,t.N):e instanceof Ll&&t instanceof Ll}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Xl(e){return e.isFoundDocument()?e.version:ac.min()}class Zl extends Kl{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class eh extends Kl{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function th(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function nh(e,t,n){const r=new Map;qu(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Pl(s,a,n[i]))}return r}function rh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Dl(e,o,t))}return r}class ih extends Kl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class oh extends Kl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class sh{constructor(e){this.count=e}}var ah,uh;function ch(e){switch(e){default:return Vu();case zu.CANCELLED:case zu.UNKNOWN:case zu.DEADLINE_EXCEEDED:case zu.RESOURCE_EXHAUSTED:case zu.INTERNAL:case zu.UNAVAILABLE:case zu.UNAUTHENTICATED:return!1;case zu.INVALID_ARGUMENT:case zu.NOT_FOUND:case zu.ALREADY_EXISTS:case zu.PERMISSION_DENIED:case zu.FAILED_PRECONDITION:case zu.ABORTED:case zu.OUT_OF_RANGE:case zu.UNIMPLEMENTED:case zu.DATA_LOSS:return!0}}function lh(e){if(void 0===e)return Fu("GRPC error has no .code"),zu.UNKNOWN;switch(e){case ah.OK:return zu.OK;case ah.CANCELLED:return zu.CANCELLED;case ah.UNKNOWN:return zu.UNKNOWN;case ah.DEADLINE_EXCEEDED:return zu.DEADLINE_EXCEEDED;case ah.RESOURCE_EXHAUSTED:return zu.RESOURCE_EXHAUSTED;case ah.INTERNAL:return zu.INTERNAL;case ah.UNAVAILABLE:return zu.UNAVAILABLE;case ah.UNAUTHENTICATED:return zu.UNAUTHENTICATED;case ah.INVALID_ARGUMENT:return zu.INVALID_ARGUMENT;case ah.NOT_FOUND:return zu.NOT_FOUND;case ah.ALREADY_EXISTS:return zu.ALREADY_EXISTS;case ah.PERMISSION_DENIED:return zu.PERMISSION_DENIED;case ah.FAILED_PRECONDITION:return zu.FAILED_PRECONDITION;case ah.ABORTED:return zu.ABORTED;case ah.OUT_OF_RANGE:return zu.OUT_OF_RANGE;case ah.UNIMPLEMENTED:return zu.UNIMPLEMENTED;case ah.DATA_LOSS:return zu.DATA_LOSS;default:return Vu()}}(uh=ah||(ah={}))[uh.OK=0]="OK",uh[uh.CANCELLED=1]="CANCELLED",uh[uh.UNKNOWN=2]="UNKNOWN",uh[uh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uh[uh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uh[uh.NOT_FOUND=5]="NOT_FOUND",uh[uh.ALREADY_EXISTS=6]="ALREADY_EXISTS",uh[uh.PERMISSION_DENIED=7]="PERMISSION_DENIED",uh[uh.UNAUTHENTICATED=16]="UNAUTHENTICATED",uh[uh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uh[uh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uh[uh.ABORTED=10]="ABORTED",uh[uh.OUT_OF_RANGE=11]="OUT_OF_RANGE",uh[uh.UNIMPLEMENTED=12]="UNIMPLEMENTED",uh[uh.INTERNAL=13]="INTERNAL",uh[uh.UNAVAILABLE=14]="UNAVAILABLE",uh[uh.DATA_LOSS=15]="DATA_LOSS";class hh{constructor(e,t){this.comparator=e,this.root=t||fh.EMPTY}insert(e,t){return new hh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fh.BLACK,null,null))}remove(e){return new hh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:fh.RED,this.left=null!=r?r:fh.EMPTY,this.right=null!=i?i:fh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new fh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return fh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vu();if(this.right.isRed())throw Vu();const e=this.left.check();if(e!==this.right.check())throw Vu();return e+(this.isRed()?0:1)}}fh.EMPTY=null,fh.RED=!0,fh.BLACK=!1,fh.EMPTY=new class{constructor(){this.size=0}get key(){throw Vu()}get value(){throw Vu()}get color(){throw Vu()}get left(){throw Vu()}get right(){throw Vu()}copy(e,t,n,r,i){return this}insert(e,t,n){return new fh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ph{constructor(e){this.comparator=e,this.data=new hh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mh(this.data.getIterator())}getIteratorFrom(e){return new mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ph))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ph(this.comparator);return t.data=e,t}}class mh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const gh=new hh(Oc.comparator);function yh(){return gh}const vh=new hh(Oc.comparator);function bh(){return vh}const wh=new hh(Oc.comparator);function _h(){return wh}const Eh=new ph(Oc.comparator);function kh(...e){let t=Eh;for(const n of e)t=t.add(n);return t}const Th=new ph(rc);function Ih(){return Th}class Sh{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Oh.createSynthesizedTargetChangeForCurrentChange(e,t)),new Sh(ac.min(),n,Ih(),yh(),kh())}}class Oh{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Oh(gc.EMPTY_BYTE_STRING,t,kh(),kh(),kh())}}class Ch{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.O=r}}class Nh{constructor(e,t){this.targetId=e,this.M=t}}class Ah{constructor(e,t,n=gc.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class xh{constructor(){this.F=0,this.L=Rh(),this.B=gc.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=kh(),t=kh(),n=kh();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Vu()}})),new Oh(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=Rh()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class Dh{constructor(e){this.et=e,this.nt=new Map,this.st=yh(),this.it=Ph(),this.rt=new ph(rc)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,(t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:Vu()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(((e,n)=>{this.lt(n)&&t(n)}))}dt(e){const t=e.targetId,n=e.M.count,r=this.wt(t);if(r){const e=r.target;if(Hc(e))if(0===n){const n=new Oc(e.path);this.at(t,n,Qc.newNoDocument(n,ac.min()))}else qu(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Hc(i.target)){const t=new Oc(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.at(r,t,Qc.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}}));let n=kh();this.it.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new Sh(e,t,this.rt,this.st,n);return this.st=yh(),this.it=Ph(),this.rt=new ph(rc),r}ct(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new xh,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new ph(rc),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||Mu("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new xh),this.et.getRemoteKeysForTarget(e).forEach((t=>{this.at(e,t,null)}))}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function Ph(){return new hh(Oc.comparator)}function Rh(){return new hh(Oc.comparator)}const Lh={asc:"ASCENDING",desc:"DESCENDING"},Mh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Fh{constructor(e,t){this.databaseId=e,this.C=t}}function jh(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Uh(e,t){return e.C?t.toBase64():t.toUint8Array()}function Vh(e,t){return jh(e,t.toTimestamp())}function qh(e){return qu(!!e),ac.fromTimestamp(function(e){const t=vc(e);return new sc(t.seconds,t.nanos)}(e))}function Bh(e,t){return function(e){return new dc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zh(e){const t=dc.fromString(e);return qu(fd(t)),t}function Qh(e,t){return Bh(e.databaseId,t.path)}function $h(e,t){const n=zh(t);if(n.get(1)!==e.databaseId.projectId)throw new Qu(zu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Qu(zu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Oc(Hh(n))}function Wh(e,t){return Bh(e.databaseId,t)}function Kh(e){const t=zh(e);return 4===t.length?dc.emptyPath():Hh(t)}function Gh(e){return new dc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hh(e){return qu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Yh(e,t,n){return{name:Qh(e,t),fields:n.value.mapValue.fields}}function Jh(e,t,n){const r=$h(e,t.name),i=qh(t.updateTime),o=new Bc({mapValue:{fields:t.fields}}),s=Qc.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Xh(e,t){let n;if(t instanceof Zl)n={update:Yh(e,t.key,t.value)};else if(t instanceof ih)n={delete:Qh(e,t.key)};else if(t instanceof eh)n={update:Yh(e,t.key,t.data),updateMask:dd(t.fieldMask)};else{if(!(t instanceof oh))return Vu();n={verify:Qh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ll)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ml)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof jl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Vl)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Vu()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Vh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Vu()}(e,t.precondition)),n}function Zh(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?$l.updateTime(qh(e.updateTime)):void 0!==e.exists?$l.exists(e.exists):$l.none()}(t.currentDocument):$l.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)qu("REQUEST_TIME"===t.setToServerValue),n=new Ll;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ml(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new jl(e)}else"increment"in t?n=new Vl(e,t.increment):Vu();const r=pc.fromServerFormat(t.fieldPath);return new zl(r,n)}(e,t))):[];if(t.update){t.update.name;const i=$h(e,t.update.name),o=new Bc({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new mc(t.map((e=>pc.fromServerFormat(e))))}(t.updateMask);return new eh(i,o,e,n,r)}return new Zl(i,o,n,r)}if(t.delete){const r=$h(e,t.delete);return new ih(r,n)}if(t.verify){const r=$h(e,t.verify);return new oh(r,n)}return Vu()}function ed(e,t){return{documents:[Wh(e,t.path)]}}function td(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Wh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Wh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Uc(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NAN"}};if(jc(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uc(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NOT_NAN"}};if(jc(e.value))return{unaryFilter:{field:ud(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ud(e.field),op:ad(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:ud(e.field),direction:sd(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.C||Tc(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=id(t.startAt)),t.endAt&&(n.structuredQuery.endAt=id(t.endAt)),n}function nd(e){let t=Kh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=rd(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new al(cd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Tc(t)?null:t}(n.limit));let u=null;n.startAt&&(u=od(n.startAt));let c=null;return n.endAt&&(c=od(n.endAt)),dl(t,i,s,o,a,"F",u,c)}function rd(e){return e?void 0!==e.unaryFilter?[hd(e)]:void 0!==e.fieldFilter?[ld(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>rd(e))).reduce(((e,t)=>e.concat(t))):Vu():[]}function id(e){return{before:e.before,values:e.position}}function od(e){const t=!!e.before,n=e.values||[];return new ol(n,t)}function sd(e){return Lh[e]}function ad(e){return Mh[e]}function ud(e){return{fieldPath:e.canonicalString()}}function cd(e){return pc.fromServerFormat(e.fieldPath)}function ld(e){return Yc.create(cd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Vu()}}(e.fieldFilter.op),e.fieldFilter.value)}function hd(e){switch(e.unaryFilter.op){case"IS_NAN":const t=cd(e.unaryFilter.field);return Yc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=cd(e.unaryFilter.field);return Yc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cd(e.unaryFilter.field);return Yc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=cd(e.unaryFilter.field);return Yc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Vu()}}function dd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function fd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function pd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=gd(t)),t=md(e.get(n),t);return gd(t)}function md(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function gd(e){return e+""}function yd(e){const t=e.length;if(qu(t>=2),2===t)return qu(""===e.charAt(0)&&""===e.charAt(1)),dc.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&Vu(),e.charAt(t+1)){case"":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"":i+=e.substring(o,t),i+="\0";break;case"":i+=e.substring(o,t+1);break;default:Vu()}o=t+2}return new dc(r)}class vd{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class bd{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}bd.store="owner",bd.key="owner";class wd{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}wd.store="mutationQueues",wd.keyPath="userId";class _d{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}_d.store="mutations",_d.keyPath="batchId",_d.userMutationsIndex="userMutationsIndex",_d.userMutationsKeyPath=["userId","batchId"];class Ed{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,pd(t)]}static key(e,t,n){return[e,pd(t),n]}}Ed.store="documentMutations",Ed.PLACEHOLDER=new Ed;class kd{constructor(e,t){this.path=e,this.readTime=t}}class Td{constructor(e,t){this.path=e,this.version=t}}class Id{constructor(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}}Id.store="remoteDocuments",Id.readTimeIndex="readTimeIndex",Id.readTimeIndexPath="readTime",Id.collectionReadTimeIndex="collectionReadTimeIndex",Id.collectionReadTimeIndexPath=["parentPath","readTime"];class Sd{constructor(e){this.byteSize=e}}Sd.store="remoteDocumentGlobal",Sd.key="remoteDocumentGlobalKey";class Od{constructor(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}}Od.store="targets",Od.keyPath="targetId",Od.queryTargetsIndexName="queryTargetsIndex",Od.queryTargetsKeyPath=["canonicalId","targetId"];class Cd{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Cd.store="targetDocuments",Cd.keyPath=["targetId","path"],Cd.documentTargetsIndex="documentTargetsIndex",Cd.documentTargetsKeyPath=["path","targetId"];class Nd{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Nd.key="targetGlobalKey",Nd.store="targetGlobal";class Ad{constructor(e,t){this.collectionId=e,this.parent=t}}Ad.store="collectionParents",Ad.keyPath=["collectionId","parent"];class xd{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}xd.store="clientMetadata",xd.keyPath="clientId";class Dd{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Dd.store="bundles",Dd.keyPath="bundleId";class Pd{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Pd.store="namedQueries",Pd.keyPath="name";const Rd=[wd.store,_d.store,Ed.store,Id.store,Od.store,bd.store,Nd.store,Cd.store,xd.store,Sd.store,Ad.store,Dd.store,Pd.store],Ld="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Md{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class Fd{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Vu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fd(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Fd?t:Fd.resolve(t)}catch(e){return Fd.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Fd.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Fd.reject(t)}static resolve(e){return new Fd(((t,n)=>{t(e)}))}static reject(e){return new Fd(((t,n)=>{n(e)}))}static waitFor(e){return new Fd(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Fd.resolve(!1);for(const n of e)t=t.next((e=>e?Fd.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class jd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new $u,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new qd(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=Wd(t.target.error);this.It.reject(new qd(e,n))}}static open(e,t,n,r){try{return new jd(t,e.transaction(r,n))}catch(e){throw new qd(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(Mu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new zd(t)}}class Ud{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===Ud.bt(c())&&Fu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mu("SimpleDb","Removing database:",e),Qd(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!m())return!1;if(Ud.vt())return!0;const e=c(),t=Ud.bt(e),n=0<t&&t<10,r=Ud.Vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(e){return this.db||(Mu("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new qd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Qu(zu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Qu(zu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new qd(e,r))},r.onupgradeneeded=e=>{Mu("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Rt.Nt(t,r.transaction,e.oldVersion,this.version).next((()=>{Mu("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.Ct(e);const t=jd.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).catch((e=>(t.abort(e),Fd.reject(e)))).toPromise();return o.catch((()=>{})),await t.At,o}catch(e){const t="FirebaseError"!==e.name&&o<3;if(Mu("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Vd{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Qd(this.$t.delete())}}class qd extends Qu{constructor(e,t){super(zu.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bd(e){return"IndexedDbTransactionError"===e.name}class zd{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Mu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Mu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Qd(n)}add(e){return Mu("SimpleDb","ADD",this.store.name,e,e),Qd(this.store.add(e))}get(e){return Qd(this.store.get(e)).next((t=>(void 0===t&&(t=null),Mu("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Mu("SimpleDb","DELETE",this.store.name,e),Qd(this.store.delete(e))}count(){return Mu("SimpleDb","COUNT",this.store.name),Qd(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,((e,t)=>{r.push(t)})).next((()=>r))}qt(e,t){Mu("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const r=this.cursor(n);return this.Ut(r,((e,t,n)=>n.delete()))}jt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new Fd(((n,r)=>{t.onerror=e=>{const t=Wd(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Ut(e,t){const n=[];return new Fd(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Vd(i),s=t(i.primaryKey,i.value,o);if(s instanceof Fd){const e=s.catch((e=>(o.done(),Fd.reject(e))));n.push(e)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}})).next((()=>Fd.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Qd(e){return new Fd(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Wd(e.target.error);n(t)}}))}let $d=!1;function Wd(e){const t=Ud.bt(c());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Qu("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $d||($d=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Kd extends Md{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Gd(e,t){const n=Bu(e);return Ud.Dt(n.Wt,t)}class Hd{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Gl(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Hl(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Hl(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(ac.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),kh())}isEqual(e){return this.batchId===e.batchId&&ic(this.mutations,e.mutations,((e,t)=>Jl(e,t)))&&ic(this.baseMutations,e.baseMutations,((e,t)=>Jl(e,t)))}}class Yd{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){qu(e.mutations.length===n.length);let r=_h();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Yd(e,t,n,r)}}class Jd{constructor(e,t,n,r,i=ac.min(),o=ac.min(),s=gc.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new Jd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Jd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Xd{constructor(e){this.Gt=e}}function Zd(e,t){if(t.document)return Jh(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=Oc.fromSegments(t.noDocument.path),n=of(t.noDocument.readTime),r=Qc.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=Oc.fromSegments(t.unknownDocument.path),n=of(t.unknownDocument.version);return Qc.newUnknownDocument(e,n)}return Vu()}function ef(e,t,n){const r=tf(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Qh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:jh(e,t.version.toTimestamp())}}(e.Gt,t),o=t.hasCommittedMutations;return new Id(null,null,n,o,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=rf(t.version),o=t.hasCommittedMutations;return new Id(null,new kd(e,n),null,o,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=rf(t.version);return new Id(new Td(e,n),null,null,!0,r,i)}return Vu()}function tf(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nf(e){const t=new sc(e[0],e[1]);return ac.fromTimestamp(t)}function rf(e){const t=e.toTimestamp();return new vd(t.seconds,t.nanoseconds)}function of(e){const t=new sc(e.seconds,e.nanoseconds);return ac.fromTimestamp(t)}function sf(e,t){const n=(t.baseMutations||[]).map((t=>Zh(e.Gt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Zh(e.Gt,t))),i=sc.fromMillis(t.localWriteTimeMs);return new Hd(t.batchId,i,n,r)}function af(e){const t=of(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?of(e.lastLimboFreeSnapshotVersion):ac.min();let r;var i;return void 0!==e.query.documents?(qu(1===(i=e.query).documents.length),r=wl(fl(Kh(i.documents[0])))):r=function(e){return wl(nd(e))}(e.query),new Jd(r,e.targetId,0,e.lastListenSequenceNumber,t,n,gc.fromBase64String(e.resumeToken))}function uf(e,t){const n=rf(t.snapshotVersion),r=rf(t.lastLimboFreeSnapshotVersion);let i;i=Hc(t.target)?ed(e.Gt,t.target):td(e.Gt,t.target);const o=t.resumeToken.toBase64();return new Od(t.targetId,Kc(t.target),n,o,t.sequenceNumber,r,i)}function cf(e){const t=nd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?_l(t,t.limit,"L"):t}class lf{getBundleMetadata(e,t){return hf(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:of(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return hf(e).put({bundleId:(n=t).id,createTime:rf(qh(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return df(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:cf(t.bundledQuery),readTime:of(t.readTime)};var t}))}saveNamedQuery(e,t){return df(e).put(function(e){return{name:e.name,readTime:rf(qh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function hf(e){return Gd(e,Dd.store)}function df(e){return Gd(e,Pd.store)}class ff{constructor(){this.zt=new pf}addToCollectionParentIndex(e,t){return this.zt.add(t),Fd.resolve()}getCollectionParents(e,t){return Fd.resolve(this.zt.getEntries(t))}}class pf{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ph(dc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ph(dc.comparator)).toArray()}}class mf{constructor(){this.Ht=new pf}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ht.add(t)}));const i={collectionId:n,parent:pd(r)};return gf(e).put(i)}return Fd.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[oc(t),""],!1,!0);return gf(e).Bt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(yd(r.parent))}return n}))}}function gf(e){return Gd(e,Ad.store)}const yf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vf{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vf(e,vf.DEFAULT_COLLECTION_PERCENTILE,vf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bf(e,t,n){const r=e.store(_d.store),i=e.store(Ed.store),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const u=r.jt({range:s},((e,t,n)=>(a++,n.delete())));o.push(u.next((()=>{qu(1===a)})));const c=[];for(const e of n.mutations){const r=Ed.key(t,e.key.path,n.batchId);o.push(i.delete(r)),c.push(e.key)}return Fd.waitFor(o).next((()=>c))}function wf(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Vu();t=e.noDocument}return JSON.stringify(t).length}vf.DEFAULT_COLLECTION_PERCENTILE=10,vf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vf.DEFAULT=new vf(41943040,vf.DEFAULT_COLLECTION_PERCENTILE,vf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vf.DISABLED=new vf(-1,0,0);class _f{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){qu(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new _f(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kf(e).jt({index:_d.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Tf(e),o=kf(e);return o.add({}).next((s=>{qu("number"==typeof s);const a=new Hd(s,t,n,r),u=function(e,t,n){const r=n.baseMutations.map((t=>Xh(e.Gt,t))),i=n.mutations.map((t=>Xh(e.Gt,t)));return new _d(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.k,this.userId,a),c=[];let l=new ph(((e,t)=>rc(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ed.key(this.userId,e.key.path,s);l=l.add(e.key.path.popLast()),c.push(o.put(u)),c.push(i.put(t,Ed.PLACEHOLDER))}return l.forEach((t=>{c.push(this.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Yt[s]=a.keys()})),Fd.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return kf(e).get(t).next((e=>e?(qu(e.userId===this.userId),sf(this.k,e)):null))}Zt(e,t){return this.Yt[t]?Fd.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return kf(e).jt({index:_d.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(qu(t.batchId>=n),i=sf(this.k,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return kf(e).jt({index:_d.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kf(e).Bt(_d.userMutationsIndex,t).next((e=>e.map((e=>sf(this.k,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ed.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Tf(e).jt({range:r},((n,r,o)=>{const[s,a,u]=n,c=yd(a);if(s===this.userId&&t.path.isEqual(c))return kf(e).get(u).next((e=>{if(!e)throw Vu();qu(e.userId===this.userId),i.push(sf(this.k,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ph(rc);const r=[];return t.forEach((t=>{const i=Ed.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Tf(e).jt({range:o},((e,r,i)=>{const[o,s,a]=e,u=yd(s);o===this.userId&&t.path.isEqual(u)?n=n.add(a):i.done()}));r.push(s)})),Fd.waitFor(r).next((()=>this.te(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ed.prefixForPath(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new ph(rc);return Tf(e).jt({range:o},((e,t,i)=>{const[o,a,u]=e,c=yd(a);o===this.userId&&n.isPrefixOf(c)?c.length===r&&(s=s.add(u)):i.done()})).next((()=>this.te(e,s)))}te(e,t){const n=[],r=[];return t.forEach((t=>{r.push(kf(e).get(t).next((e=>{if(null===e)throw Vu();qu(e.userId===this.userId),n.push(sf(this.k,e))})))})),Fd.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return bf(e.Wt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ee(t.batchId)})),Fd.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Fd.resolve();const n=IDBKeyRange.lowerBound(Ed.prefixForUser(this.userId)),r=[];return Tf(e).jt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=yd(e[1]);r.push(t)}else n.done()})).next((()=>{qu(0===r.length)}))}))}containsKey(e,t){return Ef(e,this.userId,t)}ne(e){return If(e).get(this.userId).next((e=>e||new wd(this.userId,-1,"")))}}function Ef(e,t,n){const r=Ed.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Tf(e).jt({range:o,Kt:!0},((e,n,r)=>{const[o,a,u]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function kf(e){return Gd(e,_d.store)}function Tf(e){return Gd(e,Ed.store)}function If(e){return Gd(e,wd.store)}class Sf{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Sf(0)}static re(){return new Sf(-1)}}class Of{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next((t=>{const n=new Sf(t.highestTargetId);return t.highestTargetId=n.next(),this.ce(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.oe(e).next((e=>ac.fromTimestamp(new sc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.oe(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.oe(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ce(e,r))))}addTargetData(e,t){return this.ae(e,t).next((()=>this.oe(e).next((n=>(n.targetCount+=1,this.ue(t,n),this.ce(e,n))))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Cf(e).delete(t.targetId))).next((()=>this.oe(e))).next((t=>(qu(t.targetCount>0),t.targetCount-=1,this.ce(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return Cf(e).jt(((o,s)=>{const a=af(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Fd.waitFor(i))).next((()=>r))}forEachTarget(e,t){return Cf(e).jt(((e,n)=>{const r=af(n);t(r)}))}oe(e){return Nf(e).get(Nd.key).next((e=>(qu(null!==e),e)))}ce(e,t){return Nf(e).put(Nd.key,t)}ae(e,t){return Cf(e).put(uf(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Kc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Cf(e).jt({range:r,index:Od.queryTargetsIndexName},((e,n,r)=>{const o=af(n);Gc(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Af(e);return t.forEach((t=>{const o=pd(t.path);r.push(i.put(new Cd(n,o))),r.push(this.referenceDelegate.addReference(e,n,t))})),Fd.waitFor(r)}removeMatchingKeys(e,t,n){const r=Af(e);return Fd.forEach(t,(t=>{const i=pd(t.path);return Fd.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Af(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Af(e);let i=kh();return r.jt({range:n,Kt:!0},((e,t,n)=>{const r=yd(e[1]),o=new Oc(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=pd(t.path),r=IDBKeyRange.bound([n],[oc(n)],!1,!0);let i=0;return Af(e).jt({index:Cd.documentTargetsIndex,Kt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Et(e,t){return Cf(e).get(t).next((e=>e?af(e):null))}}function Cf(e){return Gd(e,Od.store)}function Nf(e){return Gd(e,Nd.store)}function Af(e){return Gd(e,Cd.store)}async function xf(e){if(e.code!==zu.FAILED_PRECONDITION||e.message!==Ld)throw e;Mu("LocalStore","Unexpectedly lost primary lease")}function Df([e,t],[n,r]){const i=rc(e,n);return 0===i?rc(t,r):i}class Pf{constructor(e){this.he=e,this.buffer=new ph(Df),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Df(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rf{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){const t=this.we?3e5:6e4;Mu("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){Bd(e)?Mu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await xf(e)}await this.me(e)}))}}class Lf{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Fd.resolve(ec.I);const n=new Pf(t);return this.ge.forEachTarget(e,(e=>n.de(e.sequenceNumber))).next((()=>this.ge.pe(e,(e=>n.de(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mu("LruGarbageCollector","Garbage collection skipped; disabled"),Fd.resolve(yf)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Mu("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yf):this.Te(e,t)))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,r,i,o,s,a,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Mu("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,s=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),Lu()<=R.DEBUG&&Mu("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(u-a)+"ms\n"+`Total Duration: ${u-c}ms`),Fd.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class Mf{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Lf(e,t)}(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.pe(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,((e,n)=>t(n)))}addReference(e,t,n){return Ff(e,n)}removeReference(e,t,n){return Ff(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Ff(e,t)}Ae(e,t){return function(e,t){let n=!1;return If(e).Qt((r=>Ef(e,r,t).next((e=>(e&&(n=!0),Fd.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ie(e,((o,s)=>{if(s<=t){const t=this.Ae(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o),Af(e).delete([0,pd(o.path)]))))}));r.push(t)}})).next((()=>Fd.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Ff(e,t)}Ie(e,t){const n=Af(e);let r,i=ec.I;return n.jt({index:Cd.documentTargetsIndex},(([e,n],{path:o,sequenceNumber:s})=>{0===e?(i!==ec.I&&t(new Oc(yd(r)),i),i=s,r=o):i=ec.I})).next((()=>{i!==ec.I&&t(new Oc(yd(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ff(e,t){return Af(e).put(function(e,t){return new Cd(0,pd(e.path),t)}(t,e.currentSequenceNumber))}class jf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){cc(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return lc(this.inner)}}class Uf{constructor(){this.changes=new jf((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:ac.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Qc.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Fd.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Vf{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return zf(e).put(Qf(t),n)}removeEntry(e,t){const n=zf(e),r=Qf(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Re(e,n))))}getEntry(e,t){return zf(e).get(Qf(t)).next((e=>this.be(t,e)))}Pe(e,t){return zf(e).get(Qf(t)).next((e=>({document:this.be(t,e),size:wf(e)})))}getEntries(e,t){let n=yh();return this.ve(e,t,((e,t)=>{const r=this.be(e,t);n=n.insert(e,r)})).next((()=>n))}Ve(e,t){let n=yh(),r=new hh(Oc.comparator);return this.ve(e,t,((e,t)=>{const i=this.be(e,t);n=n.insert(e,i),r=r.insert(e,wf(t))})).next((()=>({documents:n,Se:r})))}ve(e,t,n){if(t.isEmpty())return Fd.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let o=i.getNext();return zf(e).jt({range:r},((e,t,r)=>{const s=Oc.fromSegments(e);for(;o&&Oc.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Lt(o.path.toArray()):r.done()})).next((()=>{for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=yh();const i=t.path.length+1,o={};if(n.isEqual(ac.min())){const e=t.path.toArray();o.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=tf(n);o.range=IDBKeyRange.lowerBound([e,r],!0),o.index=Id.collectionReadTimeIndex}return zf(e).jt(o,((e,n,o)=>{if(e.length!==i)return;const s=Zd(this.k,n);t.path.isPrefixOf(s.key.path)?Il(t,s)&&(r=r.insert(s.key,s)):o.done()})).next((()=>r))}newChangeBuffer(e){return new qf(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Bf(e).get(Sd.key).next((e=>(qu(!!e),e)))}Re(e,t){return Bf(e).put(Sd.key,t)}be(e,t){if(t){const e=Zd(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(ac.min()))return e}return Qc.newInvalidDocument(e)}}class qf extends Uf{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new jf((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new ph(((e,t)=>rc(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Ce.get(i);if(o.document.isValidDocument()){const a=ef(this.De.k,o.document,this.getReadTime(i));r=r.add(i.path.popLast());const u=wf(a);n+=u-s,t.push(this.De.addEntry(e,i,a))}else if(n-=s,this.trackRemovals){const n=ef(this.De.k,Qc.newNoDocument(i,ac.min()),this.getReadTime(i));t.push(this.De.addEntry(e,i,n))}else t.push(this.De.removeEntry(e,i))})),r.forEach((n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))})),t.push(this.De.updateMetadata(e,n)),Fd.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next((e=>(this.Ce.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.De.Ve(e,t).next((({documents:e,Se:t})=>(t.forEach(((e,t)=>{this.Ce.set(e,t)})),e)))}}function Bf(e){return Gd(e,Sd.store)}function zf(e){return Gd(e,Id.store)}function Qf(e){return e.path.toArray()}class $f{constructor(e){this.k=e}Nt(e,t,n,r){qu(n<r&&n>=0&&r<=11);const i=new jd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(bd.store)}(e),function(e){e.createObjectStore(wd.store,{keyPath:wd.keyPath}),e.createObjectStore(_d.store,{keyPath:_d.keyPath,autoIncrement:!0}).createIndex(_d.userMutationsIndex,_d.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ed.store)}(e),Wf(e),function(e){e.createObjectStore(Id.store)}(e));let o=Fd.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Cd.store),e.deleteObjectStore(Od.store),e.deleteObjectStore(Nd.store)}(e),Wf(e)),o=o.next((()=>function(e){const t=e.store(Nd.store),n=new Nd(0,0,ac.min().toTimestamp(),0);return t.put(Nd.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store(_d.store).Bt().next((n=>{e.deleteObjectStore(_d.store),e.createObjectStore(_d.store,{keyPath:_d.keyPath,autoIncrement:!0}).createIndex(_d.userMutationsIndex,_d.userMutationsKeyPath,{unique:!0});const r=t.store(_d.store),i=n.map((e=>r.put(e)));return Fd.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore(xd.store,{keyPath:xd.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Ne(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore(Sd.store)}(e),this.ke(i))))),n<7&&r>=7&&(o=o.next((()=>this.xe(i)))),n<8&&r>=8&&(o=o.next((()=>this.$e(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Id.store);t.createIndex(Id.readTimeIndex,Id.readTimeIndexPath,{unique:!1}),t.createIndex(Id.collectionReadTimeIndex,Id.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((()=>this.Oe(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore(Dd.store,{keyPath:Dd.keyPath})}(e),function(e){e.createObjectStore(Pd.store,{keyPath:Pd.keyPath})}(e)}))),o}ke(e){let t=0;return e.store(Id.store).jt(((e,n)=>{t+=wf(n)})).next((()=>{const n=new Sd(t);return e.store(Sd.store).put(Sd.key,n)}))}Ne(e){const t=e.store(wd.store),n=e.store(_d.store);return t.Bt().next((t=>Fd.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(_d.userMutationsIndex,r).next((n=>Fd.forEach(n,(n=>{qu(n.userId===t.userId);const r=sf(this.k,n);return bf(e,t.userId,r).next((()=>{}))}))))}))))}xe(e){const t=e.store(Cd.store),n=e.store(Id.store);return e.store(Nd.store).get(Nd.key).next((e=>{const r=[];return n.jt(((n,i)=>{const o=new dc(n),s=function(e){return[0,pd(e)]}(o);r.push(t.get(s).next((n=>n?Fd.resolve():(n=>t.put(new Cd(0,pd(n),e.highestListenSequenceNumber)))(o))))})).next((()=>Fd.waitFor(r)))}))}$e(e,t){e.createObjectStore(Ad.store,{keyPath:Ad.keyPath});const n=t.store(Ad.store),r=new pf,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:pd(r)})}};return t.store(Id.store).jt({Kt:!0},((e,t)=>{const n=new dc(e);return i(n.popLast())})).next((()=>t.store(Ed.store).jt({Kt:!0},(([e,t,n],r)=>{const o=yd(t);return i(o.popLast())}))))}Oe(e){const t=e.store(Od.store);return t.jt(((e,n)=>{const r=af(n),i=uf(this.k,r);return t.put(i)}))}}function Wf(e){e.createObjectStore(Cd.store,{keyPath:Cd.keyPath}).createIndex(Cd.documentTargetsIndex,Cd.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Od.store,{keyPath:Od.keyPath}).createIndex(Od.queryTargetsIndexName,Od.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Nd.store)}const Kf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Gf{constructor(e,t,n,r,i,o,s,a,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Me=i,this.window=o,this.document=s,this.Fe=u,this.Le=c,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!Gf.Pt())throw new Qu(zu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mf(this,r),this.Ge=t+"main",this.k=new Xd(a),this.ze=new Ud(this.Ge,11,new $f(this.k)),this.He=new Of(this.referenceDelegate,this.k),this.Jt=new mf,this.Je=function(e,t){return new Vf(e,t)}(this.k,this.Jt),this.Ye=new lf,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===c&&Fu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Qu(zu.FAILED_PRECONDITION,Kf);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.He.getHighestSequenceNumber(e)))})).then((e=>{this.Be=new ec(e,this.Fe)})).then((()=>{this.Ue=!0})).catch((e=>(this.ze&&this.ze.close(),Promise.reject(e))))}sn(e){return this.We=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((async()=>{this.started&&await this.Ze()})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Yf(e).put(new xd(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.rn(e).next((e=>{e||(this.isPrimary=!1,this.Me.enqueueRetryable((()=>this.We(!1))))}))})).next((()=>this.on(e))).next((t=>this.isPrimary&&!t?this.cn(e).next((()=>!1)):!!t&&this.an(e).next((()=>!0)))))).catch((e=>{if(Bd(e))return Mu("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Me.enqueueRetryable((()=>this.We(e))),this.isPrimary=e}))}rn(e){return Hf(e).get(bd.key).next((e=>Fd.resolve(this.un(e))))}hn(e){return Yf(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Gd(e,xd.store);return t.Bt().next((e=>{const n=this.dn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Fd.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ze().then((()=>this.ln())).then((()=>this.nn()))))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Fd.resolve(!0):Hf(e).get(bd.key).next((t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Qu(zu.FAILED_PRECONDITION,Kf);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yf(e).Bt().next((e=>void 0===this.dn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Mu("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[bd.store,xd.store],(e=>{const t=new Kd(e,ec.I);return this.cn(t).next((()=>this.hn(t)))})),this.ze.close(),this.pn()}dn(e,t){return e.filter((e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId)))}Tn(){return this.runTransaction("getActiveClients","readonly",(e=>Yf(e).Bt().next((e=>this.dn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ue}getMutationQueue(e){return _f.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){Mu("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.ze.runTransaction(e,r,Rd,(r=>(i=new Kd(r,this.Be?this.Be.next():ec.I),"readwrite-primary"===t?this.rn(i).next((e=>!!e||this.on(i))).next((t=>{if(!t)throw Fu(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable((()=>this.We(!1))),new Qu(zu.FAILED_PRECONDITION,Ld);return n(i)})).next((e=>this.an(i).next((()=>e)))):this.En(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}En(e){return Hf(e).get(bd.key).next((e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Qu(zu.FAILED_PRECONDITION,Kf)}))}an(e){const t=new bd(this.clientId,this.allowTabSynchronization,Date.now());return Hf(e).put(bd.key,t)}static Pt(){return Ud.Pt()}cn(e){const t=Hf(e);return t.get(bd.key).next((e=>this.un(e)?(Mu("IndexedDbPersistence","Releasing primary lease."),t.delete(bd.key)):Fd.resolve()))}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(Fu(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze())))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return Mu("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Fu("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Fu("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hf(e){return Gd(e,bd.store)}function Yf(e){return Gd(e,xd.store)}function Jf(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Xf{constructor(e,t){this.progress=e,this.In=t}}class Zf{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.bn(e,t,n)))}bn(e,t,n){return this.Je.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}Pn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}vn(e,t){return this.Je.getEntries(e,t).next((t=>this.Vn(e,t).next((()=>t))))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.Pn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return Oc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):vl(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new Oc(t)).next((e=>{let t=bh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Dn(e,t,n){const r=t.collectionGroup;let i=bh();return this.Jt.getCollectionParents(e,r).next((o=>Fd.forEach(o,(o=>{const s=function(e,t){return new hl(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.Cn(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Nn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Qc.newInvalidDocument(n),r=r.insert(n,i)),Hl(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{Il(t,n)||(r=r.remove(e))})),r)))}Nn(e,t,n){let r=kh();for(const e of t)for(const t of e.mutations)t instanceof eh&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class ep{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=kh(),r=kh();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new ep(e,t.fromCache,n,r)}}class tp{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ac.min())?this.Fn(e,t):this.Mn.vn(e,r).next((i=>{const o=this.Ln(t,i);return(pl(t)||ml(t))&&this.Bn(t.limitType,o,r,n)?this.Fn(e,t):(Lu()<=R.DEBUG&&Mu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Tl(t)),this.Mn.getDocumentsMatchingQuery(e,t,n).next((e=>(o.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Ln(e,t){let n=new ph(Sl(e));return t.forEach(((t,r)=>{Il(e,r)&&(n=n.add(r))})),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return Lu()<=R.DEBUG&&Mu("QueryEngine","Using full collection scan to execute query:",Tl(t)),this.Mn.getDocumentsMatchingQuery(e,t,ac.min())}}class np{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new hh(rc),this.Kn=new jf((e=>Kc(e)),Gc),this.jn=ac.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Zf(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qn)))}}function rp(e,t,n,r){return new np(e,t,n,r)}async function ip(e,t){const n=Bu(e);let r=n.An,i=n.Wn;const o=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let o;return n.An.getAllMutationBatches(e).next((s=>(o=s,r=n.persistence.getMutationQueue(t),i=new Zf(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let s=kh();for(const e of o){n.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return i.vn(e,s).next((e=>({Gn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.An=r,n.Wn=i,n.Un.On(n.Wn),o}function op(e){const t=Bu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.He.getLastRemoteSnapshotVersion(e)))}function sp(e,t,n,r,i){let o=kh();return n.forEach((e=>o=o.add(e))),t.getEntries(e,o).next((e=>{let o=yh();return n.forEach(((n,s)=>{const a=e.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(ac.min())?(t.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s,u),o=o.insert(n,s)):Mu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function ap(e,t){const n=Bu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t))))}function up(e,t){const n=Bu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.He.getTargetData(e,t).next((i=>i?(r=i,Fd.resolve(r)):n.He.allocateTargetId(e).next((i=>(r=new Jd(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}async function cp(e,t,n){const r=Bu(e),i=r.qn.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Bd(e))throw e;Mu("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)}function lp(e,t,n){const r=Bu(e);let i=ac.min(),o=kh();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Bu(e),i=r.Kn.get(n);return void 0!==i?Fd.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,wl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:ac.min(),n?o:kh()))).next((e=>({documents:e,zn:o})))))}function hp(e,t){const n=Bu(e),r=Bu(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Et(e,t).next((e=>e?e.target:null))))}function dp(e){const t=Bu(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const r=Bu(e);let i=yh(),o=tf(n);const s=zf(t),a=IDBKeyRange.lowerBound(o,!0);return s.jt({index:Id.readTimeIndex,range:a},((e,t)=>{const n=Zd(r.k,t);i=i.insert(n.key,n),o=t.readTime})).next((()=>({In:i,readTime:nf(o)})))}(t.Qn,e,t.jn))).then((({In:e,readTime:n})=>(t.jn=n,e)))}async function fp(e,t,n=kh()){const r=await up(e,wl(cf(t.bundledQuery))),i=Bu(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=qh(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ye.saveNamedQuery(e,t);const s=r.withResumeToken(gc.EMPTY_BYTE_STRING,o);return i.qn=i.qn.insert(s.targetId,s),i.He.updateTargetData(e,s).next((()=>i.He.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.He.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ye.saveNamedQuery(e,t)))}))}class pp{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Fd.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:qh(n.createTime)}),Fd.resolve()}getNamedQuery(e,t){return Fd.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:cf(e.bundledQuery),readTime:qh(e.readTime)}}(t)),Fd.resolve()}}class mp{constructor(){this.ts=new ph(gp.es),this.ns=new ph(gp.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new gp(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.os(new gp(e,t))}cs(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new Oc(new dc([])),n=new gp(t,e),r=new gp(t,e+1),i=[];return this.ns.forEachInRange([n,r],(e=>{this.os(e),i.push(e.key)})),i}hs(){this.ts.forEach((e=>this.os(e)))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new Oc(new dc([])),n=new gp(t,e),r=new gp(t,e+1);let i=kh();return this.ns.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new gp(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class gp{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return Oc.comparator(e.key,t.key)||rc(e.fs,t.fs)}static ss(e,t){return rc(e.fs,t.fs)||Oc.comparator(e.key,t.key)}}class yp{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new ph(gp.es)}checkEmpty(e){return Fd.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const o=new Hd(i,t,n,r);this.An.push(o);for(const t of r)this.ws=this.ws.add(new gp(t.key,i)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return Fd.resolve(o)}lookupMutationBatch(e,t){return Fd.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.gs(n),i=r<0?0:r;return Fd.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return Fd.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Fd.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new gp(t,0),r=new gp(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],(e=>{const t=this._s(e.fs);i.push(t)})),Fd.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ph(rc);return t.forEach((e=>{const t=new gp(e,0),r=new gp(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],(e=>{n=n.add(e.fs)}))})),Fd.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Oc.isDocumentKey(i)||(i=i.child(""));const o=new gp(new Oc(i),0);let s=new ph(rc);return this.ws.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.fs)),!0)}),o),Fd.resolve(this.ys(s))}ys(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){qu(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return Fd.forEach(t.mutations,(r=>{const i=new gp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ws=n}))}ee(e){}containsKey(e,t){const n=new gp(t,0),r=this.ws.firstAfterOrEqual(n);return Fd.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,Fd.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class vp{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new hh(Oc.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s,readTime:n}),this.size+=s-o,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Fd.resolve(n?n.document.mutableCopy():Qc.newInvalidDocument(t))}getEntries(e,t){let n=yh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Qc.newInvalidDocument(e))})),Fd.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=yh();const i=new Oc(t.path.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i,readTime:s}}=o.getNext();if(!t.path.isPrefixOf(e.path))break;s.compareTo(n)<=0||Il(t,i)&&(r=r.insert(i.key,i.mutableCopy()))}return Fd.resolve(r)}Es(e,t){return Fd.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new bp(this)}getSize(e){return Fd.resolve(this.size)}}class bp extends Uf{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)})),Fd.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class wp{constructor(e){this.persistence=e,this.Is=new jf((e=>Kc(e)),Gc),this.lastRemoteSnapshotVersion=ac.min(),this.highestTargetId=0,this.As=0,this.Rs=new mp,this.targetCount=0,this.bs=Sf.ie()}forEachTarget(e,t){return this.Is.forEach(((e,n)=>t(n))),Fd.resolve()}getLastRemoteSnapshotVersion(e){return Fd.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fd.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Fd.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Fd.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Sf(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Fd.resolve()}updateTargetData(e,t){return this.ae(t),Fd.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Fd.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Is.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Fd.waitFor(i).next((()=>r))}getTargetCount(e){return Fd.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return Fd.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),Fd.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Fd.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Fd.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return Fd.resolve(n)}containsKey(e,t){return Fd.resolve(this.Rs.containsKey(t))}}class _p{constructor(e,t){this.Ps={},this.Be=new ec(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new wp(this),this.Jt=new ff,this.Je=function(e,t){return new vp(e,t)}(this.Jt,(e=>this.referenceDelegate.vs(e))),this.k=new Xd(t),this.Ye=new pp(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new yp(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){Mu("MemoryPersistence","Starting transaction:",e);const r=new Ep(this.Be.next());return this.referenceDelegate.Vs(),n(r).next((e=>this.referenceDelegate.Ss(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ds(e,t){return Fd.or(Object.values(this.Ps).map((n=>()=>n.containsKey(e,t))))}}class Ep extends Md{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Cs=new mp,this.Ns=null}static ks(e){return new kp(e)}get xs(){if(this.Ns)return this.Ns;throw Vu()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Fd.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Fd.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Fd.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fd.forEach(this.xs,(n=>{const r=Oc.fromPath(n);return this.$s(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Ns=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}vs(e){return 0}$s(e,t){return Fd.or([()=>Fd.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function Tp(e,t){return`firestore_clients_${e}_${t}`}function Ip(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Sp(e,t){return`firestore_targets_${e}_${t}`}class Op{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Os(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Qu(r.error.code,r.error.message))),o?new Op(e,t,r.state,i):(Fu("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cp{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Os(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Qu(n.error.code,n.error.message))),i?new Cp(e,n.state,r):(Fu("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Np{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Ih();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=Sc(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Np(e,i):(Fu("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Ap{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Ap(t.clientId,t.onlineState):(Fu("SharedClientState",`Failed to parse online state: ${e}`),null)}}class xp{constructor(){this.activeTargetIds=Ih()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Dp{constructor(e,t,n,r,i){this.window=e,this.Me=t,this.persistenceKey=n,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new hh(rc),this.started=!1,this.js=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Tp(this.persistenceKey,this.Bs),this.Ws=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new xp),this.Gs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Js=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Ys=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Tn();for(const t of e){if(t===this.Bs)continue;const e=this.getItem(Tp(this.persistenceKey,t));if(e){const n=Np.Os(t,e);n&&(this.Ks=this.Ks.insert(n.clientId,n))}}this.Xs();const t=this.storage.getItem(this.Js);if(t){const e=this.Zs(t);e&&this.ti(e)}for(const e of this.js)this.qs(e);this.js=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Sp(this.persistenceKey,e));if(n){const r=Cp.Os(e,n);r&&(t=r.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Sp(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.si(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mu("SharedClientState","READ",e,t),t}setItem(e,t){Mu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){const t=e;if(t.storageArea===this.storage){if(Mu("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Qs)return void Fu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Gs.test(t.key)){if(null==t.newValue){const e=this.ai(t.key);return this.ui(e,null)}{const e=this.hi(t.key,t.newValue);if(e)return this.ui(e.clientId,e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.li(t.key,t.newValue);if(e)return this.fi(e)}}else if(this.Hs.test(t.key)){if(null!==t.newValue){const e=this.di(t.key,t.newValue);if(e)return this.wi(e)}}else if(t.key===this.Js){if(null!==t.newValue){const e=this.Zs(t.newValue);if(e)return this.ti(e)}}else if(t.key===this.Ws){const e=function(e){let t=ec.I;if(null!=e)try{const n=JSON.parse(e);qu("number"==typeof n),t=n}catch(e){Fu("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ec.I&&this.sequenceNumberHandler(e)}else if(t.key===this.Ys)return this.syncEngine._i()}else this.js.push(t)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,n){const r=new Op(this.currentUser,e,t,n),i=Ip(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ms())}si(e){const t=Ip(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){const t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}ri(e,t,n){const r=Sp(this.persistenceKey,e),i=new Cp(e,t,n);this.setItem(r,i.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ai(e);return Np.Os(n,t)}li(e,t){const n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Op.Os(new Du(i),r,t)}di(e,t){const n=this.Hs.exec(e),r=Number(n[1]);return Cp.Os(r,t)}Zs(e){return Ap.Os(e)}async fi(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.mi(e.batchId,e.state,e.error);Mu("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),i=this.ei(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.yi(o,s).then((()=>{this.Ks=n}))}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=Ih();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Pp{constructor(){this.pi=new xp,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new xp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Rp{Ei(e){}shutdown(){}}class Lp{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){Mu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){Mu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Mp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Fp{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class jp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Fi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const o=this.Ui(e,t);Mu("RestConnection","Sending: ",o,n);const s={};return this.qi(s,r,i),this.Ki(e,o,s,n).then((e=>(Mu("RestConnection","Received: ",e),e)),(t=>{throw ju("RestConnection",`${e} failed with error: `,t,"url: ",o,"request:",n),t}))}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Ui(e,t){const n=Mp[e];return`${this.Fi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise(((i,o)=>{const s=new Au;s.listenOnce(Iu.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Tu.NO_ERROR:const t=s.getResponseJson();Mu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Tu.TIMEOUT:Mu("Connection",'RPC "'+e+'" timed out'),o(new Qu(zu.DEADLINE_EXCEEDED,"Request time out"));break;case Tu.HTTP_ERROR:const n=s.getStatus();if(Mu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(zu).indexOf(t)>=0?t:zu.UNKNOWN}(e.status);o(new Qu(t,e.message))}else o(new Qu(zu.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Qu(zu.UNAVAILABLE,"Connection failed."));break;default:Vu()}}finally{Mu("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))}Qi(e,t,n){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Eu(),o=ku(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Cu({})),this.qi(s.initMessageHeaders,t,n),l()||f()||c().indexOf("Electron/")>=0||p()||c().indexOf("MSAppHost/")>=0||d()||(s.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");Mu("Connection","Creating WebChannel: "+a,s);const u=i.createWebChannel(a,s);let h=!1,m=!1;const g=new Fp({Vi:e=>{m?Mu("Connection","Not sending because WebChannel is closed:",e):(h||(Mu("Connection","Opening WebChannel transport."),u.open(),h=!0),Mu("Connection","WebChannel sending:",e),u.send(e))},Si:()=>u.close()}),y=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return y(u,Nu.EventType.OPEN,(()=>{m||Mu("Connection","WebChannel transport opened.")})),y(u,Nu.EventType.CLOSE,(()=>{m||(m=!0,Mu("Connection","WebChannel transport closed"),g.Oi())})),y(u,Nu.EventType.ERROR,(e=>{m||(m=!0,ju("Connection","WebChannel transport errored:",e),g.Oi(new Qu(zu.UNAVAILABLE,"The operation could not be completed")))})),y(u,Nu.EventType.MESSAGE,(e=>{var t;if(!m){const n=e.data[0];qu(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Mu("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=ah[e];if(void 0!==t)return lh(t)}(e),n=i.message;void 0===t&&(t=zu.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),m=!0,g.Oi(new Qu(t,n)),u.close()}else Mu("Connection","WebChannel received:",n),g.Mi(n)}})),y(o,Su.STAT_EVENT,(e=>{e.stat===Ou.PROXY?Mu("Connection","Detected buffering proxy"):e.stat===Ou.NOPROXY&&Mu("Connection","Detected no buffering proxy")})),setTimeout((()=>{g.$i()}),0),g}}function Up(){return"undefined"!=typeof window?window:null}function Vp(){return"undefined"!=typeof document?document:null}function qp(e){return new Fh(e,!0)}class Bp{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Me=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&Mu("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,r,(()=>(this.Yi=Date.now(),e()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class zp{constructor(e,t,n,r,i,o,s,a){this.Me=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new Bp(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===zu.RESOURCE_EXHAUSTED?(Fu(t.toString()),Fu("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===zu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.rr===t&&this.Ir(e,n)}),(t=>{e((()=>{const e=new Qu(zu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)}))}))}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((()=>{n((()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((e=>{n((()=>this.Ar(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(e){return Mu("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget((()=>this.rr===e?t():(Mu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qp extends zp{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Vu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.C?(qu(void 0===t||"string"==typeof t),gc.fromBase64String(t||"")):(qu(void 0===t||t instanceof Uint8Array),gc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?zu.UNKNOWN:lh(e.code);return new Qu(t,e.message||"")}(s);n=new Ah(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=$h(e,r.document.name),o=qh(r.document.updateTime),s=new Bc({mapValue:{fields:r.document.fields}}),a=Qc.newFoundDocument(i,o,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ch(u,c,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=$h(e,r.document),o=r.readTime?qh(r.readTime):ac.min(),s=Qc.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ch([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=$h(e,r.document),o=r.removedTargetIds||[];n=new Ch([],o,i,null)}else{if(!("filter"in t))return Vu();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new sh(r),o=e.targetId;n=new Nh(o,i)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return ac.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ac.min():t.readTime?qh(t.readTime):ac.min()}(e);return this.listener.br(t,n)}Pr(e){const t={};t.database=Gh(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=Hc(r)?{documents:ed(e,r)}:{query:td(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Uh(e,t.resumeToken):t.snapshotVersion.compareTo(ac.min())>0&&(n.readTime=jh(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Vu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=Gh(this.k),t.removeTarget=e,this.gr(t)}}class $p extends zp{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(qu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(qu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?qh(e.updateTime):qh(t);return n.isEqual(ac.min())&&(n=qh(t)),new Ql(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=qh(e.commitTime);return this.listener.Cr(n,t)}return qu(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Gh(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Xh(this.k,e)))};this.gr(t)}}class Wp extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Or(){if(this.$r)throw new Qu(zu.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.Bi(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===zu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qu(zu.UNKNOWN,e.toString())}))}ji(e,t,n){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.ji(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===zu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Qu(zu.UNKNOWN,e.toString())}))}terminate(){this.$r=!0}}class Kp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Fu(t),this.Lr=!1):Mu("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class Gp{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei((e=>{n.enqueueAndForget((async()=>{rm(this)&&(Mu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Bu(e);t.Gr.add(4),await Yp(t),t.Jr.set("Unknown"),t.Gr.delete(4),await Hp(t)}(this))}))})),this.Jr=new Kp(n,r)}}async function Hp(e){if(rm(e))for(const t of e.zr)await t(!0)}async function Yp(e){for(const t of e.zr)await t(!1)}function Jp(e,t){const n=Bu(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),nm(n)?tm(n):_m(n).lr()&&Zp(n,t))}function Xp(e,t){const n=Bu(e),r=_m(n);n.Wr.delete(t),r.lr()&&em(n,t),0===n.Wr.size&&(r.lr()?r._r():rm(n)&&n.Jr.set("Unknown"))}function Zp(e,t){e.Yr.X(t.targetId),_m(e).Pr(t)}function em(e,t){e.Yr.X(t),_m(e).vr(t)}function tm(e){e.Yr=new Dh({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),_m(e).start(),e.Jr.Br()}function nm(e){return rm(e)&&!_m(e).hr()&&e.Wr.size>0}function rm(e){return 0===Bu(e).Gr.size}function im(e){e.Yr=void 0}async function om(e){e.Wr.forEach(((t,n)=>{Zp(e,t)}))}async function sm(e,t){im(e),nm(e)?(e.Jr.Kr(t),tm(e)):e.Jr.set("Unknown")}async function am(e,t,n){if(e.Jr.set("Online"),t instanceof Ah&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}(e,t)}catch(n){Mu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await um(e,n)}else if(t instanceof Ch?e.Yr.ot(t):t instanceof Nh?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(ac.min()))try{const t=await op(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(gc.EMPTY_BYTE_STRING,n.snapshotVersion)),em(e,t);const r=new Jd(n.target,t,1,n.sequenceNumber);Zp(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Mu("RemoteStore","Failed to raise snapshot:",t),await um(e,t)}}async function um(e,t,n){if(!Bd(t))throw t;e.Gr.add(1),await Yp(e),e.Jr.set("Offline"),n||(n=()=>op(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Mu("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await Hp(e)}))}function cm(e,t){return t().catch((n=>um(e,n,t)))}async function lm(e){const t=Bu(e),n=Em(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;hm(t);)try{const e=await ap(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,dm(t,e)}catch(e){await um(t,e)}fm(t)&&pm(t)}function hm(e){return rm(e)&&e.Qr.length<10}function dm(e,t){e.Qr.push(t);const n=Em(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function fm(e){return rm(e)&&!Em(e).hr()&&e.Qr.length>0}function pm(e){Em(e).start()}async function mm(e){Em(e).kr()}async function gm(e){const t=Em(e);for(const n of e.Qr)t.Dr(n.mutations)}async function ym(e,t,n){const r=e.Qr.shift(),i=Yd.from(r,t,n);await cm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await lm(e)}async function vm(e,t){t&&Em(e).Sr&&await async function(e,t){if(ch(n=t.code)&&n!==zu.ABORTED){const n=e.Qr.shift();Em(e).wr(),await cm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await lm(e)}var n}(e,t),fm(e)&&pm(e)}async function bm(e,t){const n=Bu(e);n.asyncQueue.verifyOperationInProgress(),Mu("RemoteStore","RemoteStore received new credentials");const r=rm(n);n.Gr.add(3),await Yp(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await Hp(n)}async function wm(e,t){const n=Bu(e);t?(n.Gr.delete(2),await Hp(n)):t||(n.Gr.add(2),await Yp(n),n.Jr.set("Unknown"))}function _m(e){return e.Xr||(e.Xr=function(e,t,n){const r=Bu(e);return r.Or(),new Qp(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:om.bind(null,e),Ni:sm.bind(null,e),br:am.bind(null,e)}),e.zr.push((async t=>{t?(e.Xr.wr(),nm(e)?tm(e):e.Jr.set("Unknown")):(await e.Xr.stop(),im(e))}))),e.Xr}function Em(e){return e.Zr||(e.Zr=function(e,t,n){const r=Bu(e);return r.Or(),new $p(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:mm.bind(null,e),Ni:vm.bind(null,e),Nr:gm.bind(null,e),Cr:ym.bind(null,e)}),e.zr.push((async t=>{t?(e.Zr.wr(),await lm(e)):(await e.Zr.stop(),e.Qr.length>0&&(Mu("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))}))),e.Zr}class km{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $u,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new km(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Qu(zu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tm(e,t){if(Fu("AsyncQueue",`${t}: ${e}`),Bd(e))return new Qu(zu.UNAVAILABLE,`${t}: ${e}`);throw e}class Im{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Oc.comparator(t.key,n.key):(e,t)=>Oc.comparator(e.key,t.key),this.keyedMap=bh(),this.sortedSet=new hh(this.comparator)}static emptySet(e){return new Im(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Im))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Im;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Sm{constructor(){this.eo=new hh(Oc.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Vu():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Om{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Om(e,t,Im.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&El(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class Cm{constructor(){this.so=void 0,this.listeners=[]}}class Nm{constructor(){this.queries=new jf((e=>kl(e)),El),this.onlineState="Unknown",this.io=new Set}}async function Am(e,t){const n=Bu(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Cm),i)try{o.so=await n.onListen(r)}catch(e){const n=Tm(e,`Initialization of query '${Tl(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.ro(n.onlineState),o.so&&t.oo(o.so)&&Rm(n)}async function xm(e,t){const n=Bu(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Dm(e,t){const n=Bu(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.oo(e)&&(r=!0);i.so=e}}r&&Rm(n)}function Pm(e,t,n){const r=Bu(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Rm(e){e.io.forEach((e=>{e.next()}))}class Lm{constructor(e,t,n){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Om(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.wo&&n||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=Om.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class Mm{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class Fm{constructor(e){this.k=e}Hn(e){return $h(this.k,e)}Jn(e){return e.metadata.exists?Jh(this.k,e.document,!1):Qc.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return qh(e)}}class jm{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=Um(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new Fm(this.k);for(const r of e)if(r.metadata.queries){const e=n.Hn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||kh()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Bu(e);let o=kh(),s=yh(),a=_h();for(const e of n){const n=t.Hn(e.metadata.name);e.document&&(o=o.add(n)),s=s.insert(n,t.Jn(e)),a=a.insert(n,t.Yn(e.metadata.readTime))}const u=i.Qn.newChangeBuffer({trackRemovals:!0}),c=await up(i,function(e){return wl(fl(dc.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>sp(e,u,s,ac.min(),a).next((t=>(u.apply(e),t))).next((t=>i.He.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.He.addMatchingKeys(e,o,c.targetId))).next((()=>i.Wn.Vn(e,t))).next((()=>t))))))}(this.localStore,new Fm(this.k),this.documents,this.mo.id),t=this.po(this.documents);for(const e of this.queries)await fp(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new Xf(Object.assign({},this.progress),e)}}function Um(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Vm{constructor(e){this.key=e}}class qm{constructor(e){this.key=e}}class Bm{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=kh(),this.mutatedKeys=kh(),this.Ao=Sl(e),this.Ro=new Im(this.Ao)}get bo(){return this.To}Po(e,t){const n=t?t.vo:new Sm,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a=pl(this.query)&&r.size===this.query.limit?r.last():null,u=ml(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),l=Il(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Vo(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Ao(l,a)>0||u&&this.Ao(l,u)<0)&&(s=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(s=!0)),f&&(l?(o=o.add(l),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),pl(this.query)||ml(this.query))for(;o.size>this.query.limit;){const e=pl(this.query)?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:o,vo:n,Bn:s,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vu()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc))),this.So(n);const o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,a=s!==this.Eo;return this.Eo=s,0!==i.length||a?{snapshot:new Om(this.query,e.Ro,r,i,e.mutatedKeys,0===s,a,!1),Co:o}:{Co:o}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Sm,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach((e=>this.To=this.To.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.To=this.To.delete(e))),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=kh(),this.Ro.forEach((e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))}));const t=[];return e.forEach((e=>{this.Io.has(e)||t.push(new qm(e))})),this.Io.forEach((n=>{e.has(n)||t.push(new Vm(n))})),t}ko(e){this.To=e.zn,this.Io=kh();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return Om.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class zm{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Qm{constructor(e){this.key=e,this.$o=!1}}class $m{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new jf((e=>kl(e)),El),this.Fo=new Map,this.Lo=new Set,this.Bo=new hh(Oc.comparator),this.Uo=new Map,this.qo=new mp,this.Ko={},this.jo=new Map,this.Qo=Sf.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function Wm(e,t){const n=vg(e);let r,i;const o=n.Mo.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.xo();else{const e=await up(n.localStore,wl(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Km(n,t,r,"current"===o),n.isPrimaryClient&&Jp(n.remoteStore,e)}return i}async function Km(e,t,n,r){e.Go=(t,n,r)=>async function(e,t,n,r){let i=t.view.Po(n);i.Bn&&(i=await lp(e.localStore,t.query,!1).then((({documents:e})=>t.view.Po(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return ig(e,t.targetId,s.Co),s.snapshot}(e,t,n,r);const i=await lp(e.localStore,t,!0),o=new Bm(t,i.zn),s=o.Po(i.documents),a=Oh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),u=o.applyChanges(s,e.isPrimaryClient,a);ig(e,n,u.Co);const c=new zm(t,n,o);return e.Mo.set(t,c),e.Fo.has(n)?e.Fo.get(n).push(t):e.Fo.set(n,[t]),u.snapshot}async function Gm(e,t){const n=Bu(e),r=n.Mo.get(t),i=n.Fo.get(r.targetId);if(i.length>1)return n.Fo.set(r.targetId,i.filter((e=>!El(e,t)))),void n.Mo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cp(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Xp(n.remoteStore,r.targetId),ng(n,r.targetId)})).catch(xf)):(ng(n,r.targetId),await cp(n.localStore,r.targetId,!0))}async function Hm(e,t){const n=Bu(e);try{const e=await function(e,t){const n=Bu(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const s=[];t.targetChanges.forEach(((o,a)=>{const u=i.get(a);if(!u)return;s.push(n.He.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.He.addMatchingKeys(e,o.addedDocuments,a))));let c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?c=c.withResumeToken(gc.EMPTY_BYTE_STRING,ac.min()).withLastLimboFreeSnapshotVersion(ac.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,o)&&s.push(n.He.updateTargetData(e,c))}));let a=yh();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(sp(e,o,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(ac.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next((t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Fd.waitFor(s).next((()=>o.apply(e))).next((()=>n.Wn.Vn(e,a))).next((()=>a))})).then((e=>(n.qn=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Uo.get(t);r&&(qu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?qu(r.$o):e.removedDocuments.size>0&&(qu(r.$o),r.$o=!1))})),await ag(n,e,t)}catch(e){await xf(e)}}function Ym(e,t,n){const r=Bu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Mo.forEach(((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Bu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.ro(t)&&(r=!0)})),r&&Rm(n)}(r.eventManager,t),e.length&&r.Oo.br(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Jm(e,t,n){const r=Bu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),o=i&&i.key;if(o){let e=new hh(Oc.comparator);e=e.insert(o,Qc.newNoDocument(o,ac.min()));const n=kh().add(o),i=new Sh(ac.min(),new Map,new ph(rc),e,n);await Hm(r,i),r.Bo=r.Bo.remove(o),r.Uo.delete(t),sg(r)}else await cp(r.localStore,t,!1).then((()=>ng(r,t,n))).catch(xf)}async function Xm(e,t){const n=Bu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Bu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Fd.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);qu(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),s.next((()=>e.An.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(n.localStore,t);tg(n,r,null),eg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ag(n,e)}catch(e){await xf(e)}}async function Zm(e,t,n){const r=Bu(e);try{const e=await function(e,t){const n=Bu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.An.lookupMutationBatch(e,t).next((t=>(qu(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(r.localStore,t);tg(r,t,n),eg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ag(r,e)}catch(n){await xf(n)}}function eg(e,t){(e.jo.get(t)||[]).forEach((e=>{e.resolve()})),e.jo.delete(t)}function tg(e,t,n){const r=Bu(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function ng(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Fo.get(t))e.Mo.delete(r),n&&e.Oo.zo(r,n);e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((t=>{e.qo.containsKey(t)||rg(e,t)}))}function rg(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(Xp(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),sg(e))}function ig(e,t,n){for(const r of n)r instanceof Vm?(e.qo.addReference(r.key,t),og(e,r)):r instanceof qm?(Mu("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||rg(e,r.key)):Vu()}function og(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Mu("SyncEngine","New document in limbo: "+n),e.Lo.add(r),sg(e))}function sg(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new Oc(dc.fromString(t)),r=e.Qo.next();e.Uo.set(r,new Qm(n)),e.Bo=e.Bo.insert(n,r),Jp(e.remoteStore,new Jd(wl(fl(n.path)),r,2,ec.I))}}async function ag(e,t,n){const r=Bu(e),i=[],o=[],s=[];r.Mo.isEmpty()||(r.Mo.forEach(((e,a)=>{s.push(r.Go(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=ep.$n(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Oo.br(i),await async function(e,t){const n=Bu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Fd.forEach(t,(t=>Fd.forEach(t.kn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Fd.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Bd(e))throw e;Mu("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(t,i)}}}(r.localStore,o))}async function ug(e,t){const n=Bu(e);if(!n.currentUser.isEqual(t)){Mu("SyncEngine","User change. New user:",t.toKey());const e=await ip(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach((e=>{e.forEach((e=>{e.reject(new Qu(zu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ag(n,e.Gn)}}function cg(e,t){const n=Bu(e),r=n.Uo.get(t);if(r&&r.$o)return kh().add(r.key);{let e=kh();const r=n.Fo.get(t);if(!r)return e;for(const t of r){const r=n.Mo.get(t);e=e.unionWith(r.view.bo)}return e}}async function lg(e,t){const n=Bu(e),r=await lp(n.localStore,t.query,!0),i=t.view.ko(r);return n.isPrimaryClient&&ig(n,t.targetId,i.Co),i}async function hg(e){const t=Bu(e);return dp(t.localStore).then((e=>ag(t,e)))}async function dg(e,t,n,r){const i=Bu(e),o=await function(e,t){const n=Bu(e),r=Bu(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Zt(e,t).next((t=>t?n.Wn.vn(e,t):Fd.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await lm(i.remoteStore):"acknowledged"===n||"rejected"===n?(tg(i,t,r||null),eg(i,t),function(e,t){Bu(Bu(e).An).ee(t)}(i.localStore,t)):Vu(),await ag(i,o)):Mu("SyncEngine","Cannot apply mutation batch with id: "+t)}async function fg(e,t,n){const r=Bu(e),i=[],o=[];for(const e of t){let t;const n=r.Fo.get(e);if(n&&0!==n.length){t=await up(r.localStore,wl(n[0]));for(const e of n){const t=r.Mo.get(e),n=await lg(r,t);n.snapshot&&o.push(n.snapshot)}}else{const n=await hp(r.localStore,e);t=await up(r.localStore,n),await Km(r,pg(n),e,!1)}i.push(t)}return r.Oo.br(o),i}function pg(e){return dl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mg(e){const t=Bu(e);return Bu(Bu(t.localStore).persistence).Tn()}async function gg(e,t,n,r){const i=Bu(e);if(i.Wo)Mu("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(t))switch(n){case"current":case"not-current":{const e=await dp(i.localStore),r=Sh.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await ag(i,e,r);break}case"rejected":await cp(i.localStore,t,!0),ng(i,t,r);break;default:Vu()}}async function yg(e,t,n){const r=vg(e);if(r.Wo){for(const e of t){if(r.Fo.has(e)){Mu("SyncEngine","Adding an already active target "+e);continue}const t=await hp(r.localStore,e),n=await up(r.localStore,t);await Km(r,pg(t),n.targetId,!1),Jp(r.remoteStore,n)}for(const e of n)r.Fo.has(e)&&await cp(r.localStore,e,!1).then((()=>{Xp(r.remoteStore,e),ng(r,e)})).catch(xf)}}function vg(e){const t=Bu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Hm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jm.bind(null,t),t.Oo.br=Dm.bind(null,t.eventManager),t.Oo.zo=Pm.bind(null,t.eventManager),t}function bg(e){const t=Bu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Xm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Zm.bind(null,t),t}class wg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=qp(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return rp(this.persistence,new tp,e.initialUser,this.k)}Yo(e){return new _p(kp.ks,this.k)}Jo(e){return new Pp}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _g extends wg{constructor(e,t,n){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Bu(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=zf(e);let n=ac.min();return t.jt({index:Id.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=nf(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.jn=e}))}(this.localStore),await this.tc.initialize(this,e),await bg(this.tc.syncEngine),await lm(this.tc.remoteStore),await this.persistence.sn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Zo(e){return rp(this.persistence,new tp,e.initialUser,this.k)}Xo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new Rf(t,e.asyncQueue)}Yo(e){const t=Jf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?vf.withCacheSize(this.cacheSizeBytes):vf.DEFAULT;return new Gf(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Up(),Vp(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new Pp}}class Eg extends _g{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.tc.syncEngine;this.sharedClientState instanceof Dp&&(this.sharedClientState.syncEngine={mi:dg.bind(null,t),gi:gg.bind(null,t),yi:yg.bind(null,t),Tn:mg.bind(null,t),_i:hg.bind(null,t)},await this.sharedClientState.start()),await this.persistence.sn((async e=>{await async function(e,t){const n=Bu(e);if(vg(n),bg(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await fg(n,e.toArray());n.Wo=!0,await wm(n.remoteStore,!0);for(const e of t)Jp(n.remoteStore,e)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Fo.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(ng(n,i),cp(n.localStore,i,!0)))),Xp(n.remoteStore,i)})),await t,await fg(n,e),function(e){const t=Bu(e);t.Uo.forEach(((e,n)=>{Xp(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new hh(Oc.comparator)}(n),n.Wo=!1,await wm(n.remoteStore,!1)}}(this.tc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Jo(e){const t=Up();if(!Dp.Pt(t))throw new Qu(zu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Jf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Dp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class kg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ym(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ug.bind(null,this.syncEngine),await wm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Nm}createDatastore(e){const t=qp(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new jp(r));var r;return function(e,t,n,r){return new Wp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Ym(this.syncEngine,e,0),o=Lp.Pt()?new Lp:new Rp,new Gp(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new $m(e,t,n,r,i,o);return s&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Bu(e);Mu("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Yp(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}function Tg(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Sg{constructor(e,t){this.sc=e,this.k=t,this.metadata=new $u,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then((e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.sc.cancel()}async getMetadata(){return this.metadata.promise}async Ho(){return await this.getMetadata(),this.rc()}async rc(){const e=await this.oc();if(null===e)return null;const t=this.ic.decode(e),n=Number(t);isNaN(n)&&this.cc(`length string (${t}) is not valid number`);const r=await this.ac(n);return new Mm(JSON.parse(r),e.length+n)}uc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async oc(){for(;this.uc()<0&&!await this.hc(););if(0===this.buffer.length)return null;const e=this.uc();e<0&&this.cc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ac(e){for(;this.buffer.length<e;)await this.hc()&&this.cc("Reached the end of bundle when more is expected.");const t=this.ic.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}async hc(){const e=await this.sc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Og{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Qu(zu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Bu(e),r=Gh(n.k)+"/documents",i={documents:t.map((e=>Qh(n.k,e)))},o=await n.ji("BatchGetDocuments",r,i),s=new Map;o.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){qu(!!t.found),t.found.name,t.found.updateTime;const n=$h(e,t.found.name),r=qh(t.found.updateTime),i=new Bc({mapValue:{fields:t.found.fields}});return Qc.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){qu(!!t.missing),qu(!!t.readTime);const n=$h(e,t.missing),r=qh(t.readTime);return Qc.newNoDocument(n,r)}(e,t):Vu()}(n.k,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());qu(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ih(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Oc.fromPath(t);this.mutations.push(new oh(n,this.precondition(n)))})),await async function(e,t){const n=Bu(e),r=Gh(n.k)+"/documents",i={writes:t.map((e=>Xh(n.k,e)))};await n.Bi("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Vu();t=ac.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Qu(zu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?$l.updateTime(t):$l.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ac.min()))throw new Qu(zu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $l.updateTime(t)}return $l.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Cg{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.lc=5,this.ur=new Bp(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){this.ur.Zi((async()=>{const e=new Og(this.datastore),t=this.dc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.wc(e)}))))})).catch((e=>{this.wc(e)}))}))}dc(e){try{const t=this.updateFunction(e);return!Tc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget((()=>(this.fc(),Promise.resolve())))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ch(t)}return!1}}class Ng{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Du.UNAUTHENTICATED,this.clientId=nc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Mu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Mu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Qu(zu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $u;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Tm(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ag(e,t){e.asyncQueue.verifyOperationInProgress(),Mu("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ip(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function xg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Dg(e);Mu("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>bm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>bm(t.remoteStore,n))),e.onlineComponents=t}async function Dg(e){return e.offlineComponents||(Mu("FirestoreClient","Using default OfflineComponentProvider"),await Ag(e,new wg)),e.offlineComponents}async function Pg(e){return e.onlineComponents||(Mu("FirestoreClient","Using default OnlineComponentProvider"),await xg(e,new kg)),e.onlineComponents}function Rg(e){return Dg(e).then((e=>e.persistence))}function Lg(e){return Dg(e).then((e=>e.localStore))}function Mg(e){return Pg(e).then((e=>e.remoteStore))}function Fg(e){return Pg(e).then((e=>e.syncEngine))}async function jg(e){const t=await Pg(e),n=t.eventManager;return n.onListen=Wm.bind(null,t.syncEngine),n.onUnlisten=Gm.bind(null,t.syncEngine),n}function Ug(e,t,n={}){const r=new $u;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Ig({next:o=>{t.enqueueAndForget((()=>xm(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Qu(zu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Qu(zu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Lm(fl(n.path),o,{includeMetadataChanges:!0,wo:!0});return Am(e,s)}(await jg(e),e.asyncQueue,t,n,r))),r.promise}function Vg(e,t,n={}){const r=new $u;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Ig({next:n=>{t.enqueueAndForget((()=>xm(e,s))),n.fromCache&&"server"===r.source?i.reject(new Qu(zu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Lm(n,o,{includeMetadataChanges:!0,wo:!0});return Am(e,s)}(await jg(e),e.asyncQueue,t,n,r))),r.promise}class qg{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class Bg{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bg&&e.projectId===this.projectId&&e.database===this.database}}const zg=new Map;function Qg(e,t,n){if(!n)throw new Qu(zu.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function $g(e,t,n,r){if(!0===t&&!0===r)throw new Qu(zu.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Wg(e){if(!Oc.isDocumentKey(e))throw new Qu(zu.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Kg(e){if(Oc.isDocumentKey(e))throw new Qu(zu.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Gg(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Vu()}function Hg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Qu(zu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gg(e);throw new Qu(zu.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Yg(e,t){if(t<=0)throw new Qu(zu.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Jg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Qu(zu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Qu(zu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$g("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xg{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jg({}),this._settingsFrozen=!1,e instanceof Bg?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Qu(zu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bg(e.options.projectId)}(e))}get app(){if(!this._app)throw new Qu(zu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Qu(zu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jg(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ku;switch(e.type){case"gapi":const t=e.client;return qu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ju(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Qu(zu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zg.get(e);t&&(Mu("ComponentProvider","Removing Datastore"),zg.delete(e),t.terminate())}(this),Promise.resolve()}}class Zg{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ty(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zg(this.firestore,e,this._key)}}class ey{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ey(this.firestore,e,this._query)}}class ty extends ey{constructor(e,t,n){super(e,t,fl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zg(this.firestore,null,new Oc(e))}withConverter(e){return new ty(this.firestore,e,this._path)}}function ny(e,t,...n){if(e=C(e),Qg("collection","path",t),e instanceof Xg){const r=dc.fromString(t,...n);return Kg(r),new ty(e,null,r)}{if(!(e instanceof Zg||e instanceof ty))throw new Qu(zu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(dc.fromString(t,...n));return Kg(r),new ty(e.firestore,null,r)}}function ry(e,t,...n){if(e=C(e),1===arguments.length&&(t=nc.A()),Qg("doc","path",t),e instanceof Xg){const r=dc.fromString(t,...n);return Wg(r),new Zg(e,null,new Oc(r))}{if(!(e instanceof Zg||e instanceof ty))throw new Qu(zu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(dc.fromString(t,...n));return Wg(r),new Zg(e.firestore,e instanceof ty?e.converter:null,new Oc(r))}}function iy(e,t){return e=C(e),t=C(t),(e instanceof Zg||e instanceof ty)&&(t instanceof Zg||t instanceof ty)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function oy(e,t){return e=C(e),t=C(t),e instanceof ey&&t instanceof ey&&e.firestore===t.firestore&&El(e._query,t._query)&&e.converter===t.converter}class sy{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new Bp(this,"async_queue_retry"),this.bc=()=>{const e=Vp();e&&Mu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=Vp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=Vp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise((()=>{}));const t=new $u;return this.vc((()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.gc.push(e),this.Vc())))}async Vc(){if(0!==this.gc.length){try{await this.gc[0](),this.gc.shift(),this.ur.reset()}catch(e){if(!Bd(e))throw e;Mu("AsyncQueue","Operation failed with retryable error: "+e)}this.gc.length>0&&this.ur.Zi((()=>this.Vc()))}}vc(e){const t=this.mc.then((()=>(this.Ic=!0,e().catch((e=>{this.Ec=e,this.Ic=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ic=!1,e))))));return this.mc=t,t}enqueueAfterDelay(e,t,n){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const r=km.createAndSchedule(this,e,t,n,(e=>this.Sc(e)));return this.Tc.push(r),r}Pc(){this.Ec&&Vu()}verifyOperationInProgress(){}async Dc(){let e;do{e=this.mc,await e}while(e!==this.mc)}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then((()=>{this.Tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()}))}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function ay(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class uy{constructor(){this._progressObserver={},this._taskCompletionResolver=new $u,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cy extends Xg{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new sy,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||hy(this),this._firestoreClient.terminate()}}function ly(e){return e._firestoreClient||hy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hy(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new qg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ng(e._authCredentials,e._appCheckCredentials,e._queue,r)}function dy(e,t,n){const r=new $u;return e.asyncQueue.enqueue((async()=>{try{await Ag(e,n),await xg(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===zu.FAILED_PRECONDITION||e.code===zu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function fy(e){if(e._initialized||e._terminated)throw new Qu(zu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class py{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Qu(zu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pc(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class my{constructor(e){this._byteString=e}static fromBase64String(e){try{return new my(gc.fromBase64String(e))}catch(e){throw new Qu(zu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new my(gc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gy{constructor(e){this._methodName=e}}class yy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qu(zu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qu(zu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rc(this._lat,e._lat)||rc(this._long,e._long)}}const vy=/^__.*__$/;class by{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new eh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Zl(e,this.data,t,this.fieldTransforms)}}class wy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new eh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _y(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vu()}}class Ey{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new Ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}Bc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return By(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(_y(this.$c)&&vy.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class ky{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||qp(e)}Qc(e,t,n,r=!1){return new Ey({$c:e,methodName:t,jc:n,path:pc.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Ty(e){const t=e._freezeSettings(),n=qp(e._databaseId);return new ky(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Iy(e,t,n,r,i,o={}){const s=e.Qc(o.merge||o.mergeFields?2:0,t,n,i);jy("Data must be an object, but it was:",s,r);const a=My(r,s);let u,c;if(o.merge)u=new mc(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Uy(t,r,n);if(!s.contains(i))throw new Qu(zu.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);zy(e,i)||e.push(i)}u=new mc(e),c=s.fieldTransforms.filter((e=>u.covers(e.field)))}else u=null,c=s.fieldTransforms;return new by(new Bc(a),u,c)}class Sy extends gy{_toFieldTransform(e){if(2!==e.$c)throw 1===e.$c?e.qc(`${this._methodName}() can only appear at the top level of your update data`):e.qc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sy}}function Oy(e,t,n){return new Ey({$c:3,jc:t.settings.jc,methodName:e._methodName,Fc:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class Cy extends gy{_toFieldTransform(e){return new zl(e.path,new Ll)}isEqual(e){return e instanceof Cy}}class Ny extends gy{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=Oy(this,e,!0),n=this.Wc.map((e=>Ly(e,t))),r=new Ml(n);return new zl(e.path,r)}isEqual(e){return this===e}}class Ay extends gy{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=Oy(this,e,!0),n=this.Wc.map((e=>Ly(e,t))),r=new jl(n);return new zl(e.path,r)}isEqual(e){return this===e}}class xy extends gy{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new Vl(e.k,Al(e.k,this.Gc));return new zl(e.path,t)}isEqual(e){return this===e}}function Dy(e,t,n,r){const i=e.Qc(1,t,n);jy("Data must be an object, but it was:",i,r);const o=[],s=Bc.empty();cc(r,((e,r)=>{const a=qy(t,e,n);r=C(r);const u=i.Bc(a);if(r instanceof Sy)o.push(a);else{const e=Ly(r,u);null!=e&&(o.push(a),s.set(a,e))}}));const a=new mc(o);return new wy(s,a,i.fieldTransforms)}function Py(e,t,n,r,i,o){const s=e.Qc(1,t,n),a=[Uy(t,r,n)],u=[i];if(o.length%2!=0)throw new Qu(zu.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)a.push(Uy(t,o[e])),u.push(o[e+1]);const c=[],l=Bc.empty();for(let e=a.length-1;e>=0;--e)if(!zy(c,a[e])){const t=a[e];let n=u[e];n=C(n);const r=s.Bc(t);if(n instanceof Sy)c.push(t);else{const e=Ly(n,r);null!=e&&(c.push(t),l.set(t,e))}}const h=new mc(c);return new wy(l,h,s.fieldTransforms)}function Ry(e,t,n,r=!1){return Ly(n,e.Qc(r?4:3,t))}function Ly(e,t){if(Fy(e=C(e)))return jy("Unsupported field value:",t,e),My(e,t);if(e instanceof gy)return function(e,t){if(!_y(t.$c))throw t.qc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.qc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ly(i,t.Uc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=C(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Al(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=sc.fromDate(e);return{timestampValue:jh(t.k,n)}}if(e instanceof sc){const n=new sc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jh(t.k,n)}}if(e instanceof yy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof my)return{bytesValue:Uh(t.k,e._byteString)};if(e instanceof Zg){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.qc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Bh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc(`Unsupported field value: ${Gg(e)}`)}(e,t)}function My(e,t){const n={};return lc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cc(e,((e,r)=>{const i=Ly(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Fy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof sc||e instanceof yy||e instanceof my||e instanceof Zg||e instanceof gy)}function jy(e,t,n){if(!Fy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Gg(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}function Uy(e,t,n){if((t=C(t))instanceof py)return t._internalPath;if("string"==typeof t)return qy(e,t);throw By("Field path arguments must be of type string or ",e,!1,void 0,n)}const Vy=new RegExp("[~\\*/\\[\\]]");function qy(e,t,n){if(t.search(Vy)>=0)throw By(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new py(...t.split("."))._internalPath}catch(r){throw By(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function By(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Qu(zu.INVALID_ARGUMENT,a+e+u)}function zy(e,t){return e.some((e=>e.isEqual(t)))}class Qy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Zg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $y extends Qy{data(){return super.data()}}function Wy(e,t){return"string"==typeof t?qy(e,t):t instanceof py?t._internalPath:t._delegate._internalPath}class Ky{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gy extends Qy{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Wy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Hy extends Gy{data(e={}){return super.data(e)}}class Yy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Ky(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Hy(this._firestore,this._userDataWriter,n.key,n,new Ky(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qu(zu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Hy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ky(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Hy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ky(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Jy(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jy(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vu()}}function Xy(e,t){return e instanceof Gy&&t instanceof Gy?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Yy&&t instanceof Yy&&e._firestore===t._firestore&&oy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Zy(e){if(ml(e)&&0===e.explicitOrderBy.length)throw new Qu(zu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}function tv(e,...t){for(const n of t)e=n._apply(e);return e}class nv extends ev{constructor(e,t,n){super(),this.zc=e,this.Hc=t,this.Jc=n,this.type="where"}_apply(e){const t=Ty(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Qu(zu.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){cv(s,o);const t=[];for(const n of s)t.push(uv(r,e,n));a={arrayValue:{values:t}}}else a=uv(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||cv(s,o),a=Ry(n,"where",s,"in"===o||"not-in"===o);const u=Yc.create(i,o,a);return function(e,t){if(t.V()){const n=yl(e);if(null!==n&&!n.isEqual(t.field))throw new Qu(zu.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=gl(e);null!==r&&lv(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Qu(zu.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Qu(zu.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,u),u}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new ey(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new hl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class rv extends ev{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Qu(zu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Qu(zu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new al(t,n);return function(e,t){if(null===gl(e)){const n=yl(e);null!==n&&lv(0,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new ey(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new hl(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class iv extends ev{constructor(e,t,n){super(),this.type=e,this.Xc=t,this.Zc=n}_apply(e){return new ey(e.firestore,e.converter,_l(e._query,this.Xc,this.Zc))}}class ov extends ev{constructor(e,t,n){super(),this.type=e,this.ta=t,this.ea=n}_apply(e){const t=av(e,this.type,this.ta,this.ea);return new ey(e.firestore,e.converter,function(e,t){return new hl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class sv extends ev{constructor(e,t,n){super(),this.type=e,this.ta=t,this.ea=n}_apply(e){const t=av(e,this.type,this.ta,this.ea);return new ey(e.firestore,e.converter,function(e,t){return new hl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function av(e,t,n,r){if(n[0]=C(n[0]),n[0]instanceof Qy)return function(e,t,n,r,i){if(!r)throw new Qu(zu.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of bl(e))if(n.field.isKeyField())o.push(Lc(t,r.key));else{const e=r.data.field(n.field);if(_c(e))throw new Qu(zu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new Qu(zu.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new ol(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Ty(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Qu(zu.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let o=0;o<i.length;o++){const u=i[o];if(s[o].field.isKeyField()){if("string"!=typeof u)throw new Qu(zu.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof u}`);if(!vl(e)&&-1!==u.indexOf("/"))throw new Qu(zu.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${u}' contains a slash.`);const n=e.path.child(dc.fromString(u));if(!Oc.isDocumentKey(n))throw new Qu(zu.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Oc(n);a.push(Lc(t,i))}else{const e=Ry(n,r,u);a.push(e)}}return new ol(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function uv(e,t,n){if("string"==typeof(n=C(n))){if(""===n)throw new Qu(zu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vl(t)&&-1!==n.indexOf("/"))throw new Qu(zu.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(dc.fromString(n));if(!Oc.isDocumentKey(r))throw new Qu(zu.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lc(e,new Oc(r))}if(n instanceof Zg)return Lc(e,n._key);throw new Qu(zu.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gg(n)}.`)}function cv(e,t){if(!Array.isArray(e)||0===e.length)throw new Qu(zu.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Qu(zu.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function lv(e,t,n){if(!n.isEqual(t))throw new Qu(zu.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class hv{convertValue(e,t="none"){switch(Cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Vu()}}convertObject(e,t){const n={};return cc(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new yy(bc(e.latitude),bc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ec(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(kc(e));default:return null}}convertTimestamp(e){const t=vc(e);return new sc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=dc.fromString(e);qu(fd(n));const r=new Bg(n.get(1),n.get(3)),i=new Oc(n.popFirst(5));return r.isEqual(t)||Fu(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function dv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class fv extends hv{constructor(e){super(),this.firestore=e}convertBytes(e){return new my(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zg(this.firestore,null,t)}}class pv{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ty(e)}set(e,t,n){this._verifyNotCommitted();const r=mv(e,this._firestore),i=dv(r.converter,t,n),o=Iy(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,$l.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=mv(e,this._firestore);let o;return o="string"==typeof(t=C(t))||t instanceof py?Py(this._dataReader,"WriteBatch.update",i._key,t,n,r):Dy(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,$l.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mv(e,this._firestore);return this._mutations=this._mutations.concat(new ih(t._key,$l.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qu(zu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mv(e,t){if((e=C(e)).firestore!==t)throw new Qu(zu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class gv extends hv{constructor(e){super(),this.firestore=e}convertBytes(e){return new my(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zg(this.firestore,null,t)}}function yv(e,t,n){e=Hg(e,Zg);const r=Hg(e.firestore,cy),i=dv(e.converter,t,n);return wv(r,[Iy(Ty(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,$l.none())])}function vv(e,t,n,...r){e=Hg(e,Zg);const i=Hg(e.firestore,cy),o=Ty(i);let s;return s="string"==typeof(t=C(t))||t instanceof py?Py(o,"updateDoc",e._key,t,n,r):Dy(o,"updateDoc",e._key,t),wv(i,[s.toMutation(e._key,$l.exists(!0))])}function bv(e,...t){var n,r,i;e=C(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||ay(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(ay(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,l;if(e instanceof Zg)c=Hg(e.firestore,cy),l=fl(e._key.path),u={next:n=>{t[s]&&t[s](_v(c,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Hg(e,ey);c=Hg(n.firestore,cy),l=n._query;const r=new gv(c);u={next:e=>{t[s]&&t[s](new Yy(c,r,n,e))},error:t[s+1],complete:t[s+2]},Zy(e._query)}return function(e,t,n,r){const i=new Ig(r),o=new Lm(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Am(await jg(e),o))),()=>{i.nc(),e.asyncQueue.enqueueAndForget((async()=>xm(await jg(e),o)))}}(ly(c),l,a,u)}function wv(e,t){return function(e,t){const n=new $u;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=bg(e);try{const e=await function(e,t){const n=Bu(e),r=sc.now(),i=t.reduce(((e,t)=>e.add(t.key)),kh());let o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Wn.vn(e,i).next((i=>{o=i;const s=[];for(const e of t){const t=Yl(e,o.get(e.key));null!=t&&s.push(new eh(e.key,t,zc(t.value.mapValue),$l.exists(!0)))}return n.An.addMutationBatch(e,r,s,t)})))).then((e=>(e.applyToLocalDocumentSet(o),{batchId:e.batchId,changes:o})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new hh(rc)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await ag(r,e.changes),await lm(r.remoteStore)}catch(e){const t=Tm(e,"Failed to persist write");n.reject(t)}}(await Fg(e),t,n))),n.promise}(ly(e),t)}function _v(e,t,n){const r=n.docs.get(t._key),i=new gv(e);return new Gy(e,i,t._key,r,new Ky(n.hasPendingWrites,n.fromCache),t.converter)}class Ev extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ty(e)}get(e){const t=mv(e,this._firestore),n=new fv(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Vu();const r=e[0];if(r.isFoundDocument())return new Qy(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Qy(this._firestore,n,t._key,null,t.converter);throw Vu()}))}set(e,t,n){const r=mv(e,this._firestore),i=dv(r.converter,t,n),o=Iy(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=mv(e,this._firestore);let o;return o="string"==typeof(t=C(t))||t instanceof py?Py(this._dataReader,"Transaction.update",i._key,t,n,r):Dy(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=mv(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mv(e,this._firestore),n=new gv(this._firestore);return super.get(e).then((e=>new Gy(this._firestore,n,t._key,e._document,new Ky(!1,!1),t.converter)))}}function kv(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Qu("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Tv(){if("undefined"==typeof Uint8Array)throw new Qu("unimplemented","Uint8Arrays are not available in this environment.")}function Iv(){if("undefined"==typeof atob)throw new Qu("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){Pu=e}(ne),Y(new N("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new cy(r,new Hu(e.getProvider("auth-internal")),new Zu(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),ae(xu,"3.4.4",e),ae(xu,"3.4.4","esm2017")}();class Sv{constructor(e){this._delegate=e}static fromBase64String(e){return Iv(),new Sv(my.fromBase64String(e))}static fromUint8Array(e){return Tv(),new Sv(my.fromUint8Array(e))}toBase64(){return Iv(),this._delegate.toBase64()}toUint8Array(){return Tv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ov(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Cv{enableIndexedDbPersistence(e,t){return function(e,t){fy(e=Hg(e,cy));const n=ly(e),r=e._freezeSettings(),i=new kg;return dy(n,i,new _g(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){fy(e=Hg(e,cy));const t=ly(e),n=e._freezeSettings(),r=new kg;return dy(t,r,new Eg(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Qu(zu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new $u;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Ud.Pt())return Promise.resolve();const t=e+"main";await Ud.delete(t)}(Jf(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class Nv{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Bg||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ju("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const o=(e=Hg(e,Xg))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ju("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Du.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Qu(zu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Du(o)}e._authCredentials=new Gu(new Wu(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Rg(e),n=await Mg(e);return t.setNetworkEnabled(!0),function(e){const t=Bu(e);return t.Gr.delete(0),Hp(t)}(n)}))}(ly(e=Hg(e,cy)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await Rg(e),n=await Mg(e);return t.setNetworkEnabled(!1),async function(e){const t=Bu(e);t.Gr.add(0),await Yp(t),t.Jr.set("Offline")}(n)}))}(ly(e=Hg(e,cy)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,$g("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new $u;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Bu(e);rm(n.remoteStore)||Mu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Bu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.An.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.jo.get(e)||[];r.push(t),n.jo.set(e,r)}catch(e){const n=Tm(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Fg(e),t))),t.promise}(ly(e=Hg(e,cy)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new Ig(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Bu(e).io.add(t),t.next()}(await jg(e),n))),()=>{n.nc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Bu(e).io.delete(t)}(await jg(e),n)))}}(ly(e=Hg(e,cy)),ay(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Qu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zv(this,ny(this._delegate,e))}catch(e){throw Lv(e,"collection()","Firestore.collection()")}}doc(e){try{return new Rv(this,ry(this._delegate,e))}catch(e){throw Lv(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vv(this,function(e,t){if(e=Hg(e,Xg),Qg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Qu(zu.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ey(e,null,function(e){return new hl(dc.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Lv(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new $u;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return Pg(e).then((e=>e.datastore))}(e);new Cg(e.asyncQueue,r,t,n).run()})),n.promise}(ly(e=Hg(e,cy)),(n=>t(new Ev(e,n))))}(this._delegate,(t=>e(new xv(this,t))))}batch(){return ly(this._delegate),new Dv(new pv(this._delegate,(e=>wv(this._delegate,e))))}loadBundle(e){return function(e,t){const n=ly(e=Hg(e,cy)),r=new uy;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Sg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Tg(e,t);if(e instanceof ArrayBuffer)return Tg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,qp(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Bu(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Bu(e),r=qh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ye.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Um(r));const i=new jm(r,e.localStore,t.k);let o=await t.Ho();for(;o;){const e=await i.yo(o);e&&n._updateProgress(e),o=await t.Ho()}const s=await i.complete();await ag(e,s.In,void 0),await function(e,t){const n=Bu(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ye.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress)}catch(e){ju("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await Fg(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Bu(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ye.getNamedQuery(e,t)))}(await Lg(e),t)))}(ly(e=Hg(e,cy)),t).then((t=>t?new ey(e,null,t.query):null))}(this._delegate,e).then((e=>e?new Vv(this,e):null))}}class Av extends hv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sv(new my(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Rv.forKey(t,this.firestore,null)}}class xv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Av(e)}get(e){const t=Qv(e);return this._delegate.get(t).then((e=>new jv(this._firestore,new Gy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Qv(e);return n?(kv("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Qv(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Qv(e);return this._delegate.delete(t),this}}class Dv{constructor(e){this._delegate=e}set(e,t,n){const r=Qv(e);return n?(kv("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Qv(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Qv(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Pv{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Hy(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Uv(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Pv.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Pv(e,new Av(e),t),r.set(t,i)),i}}Pv.INSTANCES=new WeakMap;class Rv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Av(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Qu("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Rv(t,new Zg(t._delegate,n,new Oc(e)))}static forKey(e,t,n){return new Rv(t,new Zg(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new zv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zv(this.firestore,ny(this._delegate,e))}catch(e){throw Lv(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=C(e))instanceof Zg&&iy(this._delegate,e)}set(e,t){t=kv("DocumentReference.set",t);try{return t?yv(this._delegate,e,t):yv(this._delegate,e)}catch(e){throw Lv(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?vv(this._delegate,e):vv(this._delegate,e,t,...n)}catch(e){throw Lv(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return wv(Hg(e.firestore,cy),[new ih(e._key,$l.none())])}(this._delegate)}onSnapshot(...e){const t=Mv(e),n=Fv(e,(e=>new jv(this.firestore,new Gy(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return bv(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Hg(e,Zg);const t=Hg(e.firestore,cy),n=ly(t),r=new gv(t);return function(e,t){const n=new $u;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Bu(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Wn.Rn(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Qu(zu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Tm(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Lg(e),t,n))),n.promise}(n,e._key).then((n=>new Gy(t,r,e._key,n,new Ky(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Hg(e,Zg);const t=Hg(e.firestore,cy);return Ug(ly(t),e._key,{source:"server"}).then((n=>_v(t,e,n)))}(this._delegate):function(e){e=Hg(e,Zg);const t=Hg(e.firestore,cy);return Ug(ly(t),e._key).then((n=>_v(t,e,n)))}(this._delegate),t.then((e=>new jv(this.firestore,new Gy(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Rv(this.firestore,e?this._delegate.withConverter(Pv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Lv(e,t,n){return e.message=e.message.replace(t,n),e}function Mv(e){for(const t of e)if("object"==typeof t&&!Ov(t))return t;return{}}function Fv(e,t){var n,r;let i;return i=Ov(e[0])?e[0]:Ov(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class jv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Rv(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Xy(this._delegate,e._delegate)}}class Uv extends jv{data(e){const t=this._delegate.data(e);return function(e,t){e||Vu()}(void 0!==t),t}}class Vv{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Av(e)}where(e,t,n){try{return new Vv(this.firestore,tv(this._delegate,function(e,t,n){const r=t,i=Wy("where",e);return new nv(i,r,n)}(e,t,n)))}catch(e){throw Lv(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vv(this.firestore,tv(this._delegate,function(e,t="asc"){const n=t,r=Wy("orderBy",e);return new rv(r,n)}(e,t)))}catch(e){throw Lv(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vv(this.firestore,tv(this._delegate,function(e){return Yg("limit",e),new iv("limit",e,"F")}(e)))}catch(e){throw Lv(e,"limit()","Query.limit()")}}limitToLast(e){try{return new Vv(this.firestore,tv(this._delegate,function(e){return Yg("limitToLast",e),new iv("limitToLast",e,"L")}(e)))}catch(e){throw Lv(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vv(this.firestore,tv(this._delegate,function(...e){return new ov("startAt",e,!0)}(...e)))}catch(e){throw Lv(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vv(this.firestore,tv(this._delegate,function(...e){return new ov("startAfter",e,!1)}(...e)))}catch(e){throw Lv(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vv(this.firestore,tv(this._delegate,function(...e){return new sv("endBefore",e,!0)}(...e)))}catch(e){throw Lv(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vv(this.firestore,tv(this._delegate,function(...e){return new sv("endAt",e,!1)}(...e)))}catch(e){throw Lv(e,"endAt()","Query.endAt()")}}isEqual(e){return oy(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Hg(e,ey);const t=Hg(e.firestore,cy),n=ly(t),r=new gv(t);return function(e,t){const n=new $u;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await lp(e,t,!0),i=new Bm(t,r.zn),o=i.Po(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Tm(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Lg(e),t,n))),n.promise}(n,e._query).then((n=>new Yy(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Hg(e,ey);const t=Hg(e.firestore,cy),n=ly(t),r=new gv(t);return Vg(n,e._query,{source:"server"}).then((n=>new Yy(t,r,e,n)))}(this._delegate):function(e){e=Hg(e,ey);const t=Hg(e.firestore,cy),n=ly(t),r=new gv(t);return Zy(e._query),Vg(n,e._query).then((n=>new Yy(t,r,e,n)))}(this._delegate),t.then((e=>new Bv(this.firestore,new Yy(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=Mv(e),n=Fv(e,(e=>new Bv(this.firestore,new Yy(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return bv(this._delegate,t,n)}withConverter(e){return new Vv(this.firestore,e?this._delegate.withConverter(Pv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class qv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Uv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Bv{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vv(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new Uv(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new qv(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new Uv(this._firestore,n))}))}isEqual(e){return Xy(this._delegate,e._delegate)}}class zv extends Vv{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Rv(this.firestore,e):null}doc(e){try{return new Rv(this.firestore,void 0===e?ry(this._delegate):ry(this._delegate,e))}catch(e){throw Lv(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Hg(e.firestore,cy),r=ry(e),i=dv(e.converter,t);return wv(n,[Iy(Ty(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,$l.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Rv(this.firestore,e)))}isEqual(e){return iy(this._delegate,e._delegate)}withConverter(e){return new zv(this.firestore,e?this._delegate.withConverter(Pv.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Qv(e){return Hg(e,Zg)}class $v{constructor(...e){this._delegate=new py(...e)}static documentId(){return new $v(pc.keyField().canonicalString())}isEqual(e){return(e=C(e))instanceof py&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wv{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Cy("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Wv(e)}static delete(){const e=new Sy("deleteField");return e._methodName="FieldValue.delete",new Wv(e)}static arrayUnion(...e){const t=function(...e){return new Ny("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Wv(t)}static arrayRemove(...e){const t=function(...e){return new Ay("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Wv(t)}static increment(e){const t=function(e){return new xy("increment",e)}(e);return t._methodName="FieldValue.increment",new Wv(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Kv={Firestore:Nv,GeoPoint:yy,Timestamp:sc,Blob:Sv,Transaction:xv,WriteBatch:Dv,DocumentReference:Rv,DocumentSnapshot:jv,Query:Vv,QueryDocumentSnapshot:Uv,QuerySnapshot:Bv,CollectionReference:zv,FieldPath:$v,FieldValue:Wv,setLogLevel:function(e){!function(e){Ru.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function Gv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gv(Object(n),!0).forEach((function(t){Yv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jv(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}!function(e){e.INTERNAL.registerComponent(new N("firestore-compat",(e=>((e,t)=>new Nv(e,t,new Cv))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},Kv))),e.registerVersion("@firebase/firestore-compat","0.1.13")}(pe);var Xv=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){Jv(o,r,i,s,a,"next",e)}function a(e){Jv(o,r,i,s,a,"throw",e)}s(void 0)}))}}(regeneratorRuntime.mark((function e(t,n){var r,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=tb.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return i=t.displayName,o=t.email,s=new Date,e.prev=9,e.next=12,r.set(Hv({displayName:i,email:o,createdAd:s},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}(),Zv=function(e){return e.docs.map((function(e){var t=e.data(),n=t.title,r=t.items;return{routeName:encodeURI(n.toLowerCase()),id:e.id,title:n,items:r}}))};pe.initializeApp({apiKey:"AIzaSyDRXI1n2iBV6m0Z0FTkxjpe4wGNqkrTbTk",authDomain:"eshop-8bfe9.firebaseapp.com",databaseURL:"https://eshop-8bfe9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"eshop-8bfe9",storageBucket:"eshop-8bfe9.appspot.com",messagingSenderId:"568735057365",appId:"1:568735057365:web:1a9ecc7905639bd984a95c"});var eb=pe.auth(),tb=pe.firestore(),nb=new pe.auth.GoogleAuthProvider;nb.setCustomParameters({prompt:"select_account"});var rb=function(){return eb.signInWithPopup(nb)}},4554:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,'body{font-family:"Open Sans Condensed"}.components{font-family:"Open Sans Condensed";padding:20px 60px}*{box-sizing:border-box}@media(max-width: 800px){.components{width:100%;padding:10px}}',""]),t.Z=s},9041:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".cart-dropdown{position:absolute;width:240px;height:340px;display:flex;flex-direction:column;padding:10px;border:1px solid #000;background-color:#fff;top:70px;right:1px;z-index:5;border-bottom-left-radius:10px;border-bottom-right-radius:10px;border-color:#f5f5f5}.cart-dropdown .cart-items{height:240px;display:flex;flex-direction:column;overflow:scroll}.cart-dropdown .cart-items .empty{display:flex;justify-content:center;align-items:center;margin-top:45%}.cart-dropdown button{margin-top:auto}",""]),t.Z=s},4160:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".cart-item{width:100%;display:flex;height:80px;margin-bottom:15px}.cart-item img{width:30%}.cart-item .item-details{width:70%;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:10px 20px}.cart-item .item-details .name{font-size:16px}.cart-item .item-details .price-quantity{display:block;justify-content:center;align-items:center}",""]),t.Z=s},372:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".cart-icon{width:45px;height:45px;position:relative;display:flex;align-items:center;justify-content:center;cursor:pointer}.cart-icon i{font-size:large !important;color:#000}.cart-icon .item-count{margin-top:10px !important;font-size:10px;font-weight:bold;bottom:12px}",""]),t.Z=s},4744:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".collection-item{width:22%;display:flex;flex-direction:column;height:350px;align-items:center;position:relative}.collection-item .image{width:100%;height:95%;background-size:cover;background-position:center;margin-bottom:5px}.collection-item button{display:flex;opacity:.7;position:absolute;top:255px}.collection-item:hover .image{opacity:.8}.collection-item:hover .custom-button{opacity:.8;display:flex}.collection-item .collection-footer{width:100%;height:5%;display:flex;justify-content:space-between;font-size:18px}.collection-item .collection-footer .name{width:90%;margin-bottom:15px}.collection-item .collection-footer .price{width:10%}@media(max-width: 800px){.collection-item{width:40vw}.collection-item button{display:block;opacity:.9;min-width:unset;padding:0px 10px}.collection-item:hover .image{opacity:unset}.collection-item:hover .custom-button{opacity:unset}}",""]),t.Z=s},3708:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".collection-overview .title{display:flex;justify-content:center;align-items:center;margin:30px auto;font-size:40px}.collection-overview .collection{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:center}.collection-overview .collection .collection-item{margin-bottom:25px}",""]),t.Z=s},9994:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,'.custom-botton{min-width:165px;width:auto;height:50px;letter-spacing:.5px;line-height:50px;padding:0 35px 0 35px;font-size:15px;background-color:#000;color:#fff;text-transform:uppercase;font-family:"Open Sans Condensed";font-weight:bolder;border:none;cursor:pointer;display:flex;justify-content:center}.custom-botton:hover{background-color:#fff;color:#000;border:1px solid #000}.custom-botton.google-sign-in{background-color:#4285f4;color:#fff}.custom-botton.google-sign-in:hover{background-color:#357ae8;border:none}.custom-botton.inverted{background-color:#f5f5f5;color:#000;border:1px solid #000}.custom-botton.inverted:hover{background-color:#000;color:#f5f5f5;border:none}',""]),t.Z=s},5060:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".header{height:70px;width:100%;display:flex;justify-content:space-between;margin-bottom:25px;background-color:#f5f5f5;box-shadow:5px 10px 18px #888;position:sticky;top:0;z-index:100}.header .logo-container{height:70px;width:70px;margin-left:20px}.header .logo-container .logo{display:flex;justify-content:center;align-items:center;text-align:center;margin:25% auto 25% auto}.header .options{width:50%;height:100%;display:flex;align-items:center;justify-content:flex-end;margin-right:50px}.header .options .option{padding:10px 15px;text-decoration:none;color:#000;cursor:pointer}@media(max-width: 800px){.logo-container{width:50px;padding:0}.options{width:100% !important;margin-right:0 !important}}",""]),t.Z=s},5354:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,".spinner-overlay{height:60vh;width:100%;display:flex;justify-content:center;align-items:center}.spinner-container{display:inline-block;width:50px;height:50px;border:3px solid rgba(195,195,195,.6);border-radius:50%;border-top-color:#636767;animation:spin 1s ease-in-out infinite;-webkit-animation:spin 1s ease-in-out infinite}@keyframes spin{to{-webkit-transform:rotate(360deg)}}@-webkit-keyframes spin{to{-webkit-transform:rotate(360deg)}}",""]),t.Z=s},4800:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),s=n.n(o)()(i());s.push([e.id,"*{margin:0}",""]),t.Z=s},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(s[u]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},8081:function(e){"use strict";e.exports=function(e){return e[1]}},5648:function(e,t,n){"use strict";n.d(t,{aU:function(){return r},lX:function(){return l},Ep:function(){return u},cP:function(){return c}});var r,i=n(7462),o=r||(r={});o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE";function s(e){e.preventDefault(),e.returnValue=""}function a(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function u(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function c(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function l(e){function t(){var e=d.location,t=f.state||{};return[t.idx,{pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"}]}function n(e){return"string"==typeof e?e:u(e)}function o(e,t){return void 0===t&&(t=null),(0,i.Z)({pathname:y.pathname,hash:"",search:""},"string"==typeof e?c(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function l(e){m=e,e=t(),g=e[0],y=e[1],v.call({action:m,location:y})}function h(e){f.go(e)}void 0===e&&(e={});var d=void 0===(e=e.window)?document.defaultView:e,f=d.history,p=null;d.addEventListener("popstate",(function(){if(p)b.call(p),p=null;else{var e=r.Pop,n=t(),i=n[0];if(n=n[1],b.length){if(null!=i){var o=g-i;o&&(p={action:e,location:n,retry:function(){h(-1*o)}},h(o))}}else l(e)}}));var m=r.Pop,g=(e=t())[0],y=e[1],v=a(),b=a();return null==g&&(g=0,f.replaceState((0,i.Z)({},f.state,{idx:g}),"")),{get action(){return m},get location(){return y},createHref:n,push:function e(t,i){var s=r.Push,a=o(t,i);if(!b.length||(b.call({action:s,location:a,retry:function(){e(t,i)}}),0)){var u=[{usr:a.state,key:a.key,idx:g+1},n(a)];a=u[0],u=u[1];try{f.pushState(a,"",u)}catch(e){d.location.assign(u)}l(s)}},replace:function e(t,i){var s=r.Replace,a=o(t,i);b.length&&(b.call({action:s,location:a,retry:function(){e(t,i)}}),1)||(a=[{usr:a.state,key:a.key,idx:g},n(a)],f.replaceState(a[0],"",a[1]),l(s))},go:h,back:function(){h(-1)},forward:function(){h(1)},listen:function(e){return v.push(e)},block:function(e){var t=b.push(e);return 1===b.length&&d.addEventListener("beforeunload",s),function(){t(),b.length||d.removeEventListener("beforeunload",s)}}}}},8679:function(e,t,n){"use strict";var r=n(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var i=f(n);i&&i!==p&&e(t,i,r)}var s=l(n);h&&(s=s.concat(h(n)));for(var a=u(t),m=u(n),g=0;g<s.length;++g){var y=s[g];if(!(o[y]||r&&r[y]||m&&m[y]||a&&a[y])){var v=d(n,y);try{c(t,y,v)}catch(e){}}}}return t}},7418:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var s,a,u=i(e),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))n.call(s,l)&&(u[l]=s[l]);if(t){a=t(s);for(var h=0;h<a.length;h++)r.call(s,a[h])&&(u[a[h]]=s[a[h]])}}return u}},4448:function(e,t,n){"use strict";var r=n(7294),i=n(7418),o=n(3840);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,k=60106,T=60107,I=60108,S=60114,O=60109,C=60110,N=60112,A=60113,x=60120,D=60115,P=60116,R=60121,L=60128,M=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),k=U("react.portal"),T=U("react.fragment"),I=U("react.strict_mode"),S=U("react.profiler"),O=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),x=U("react.suspense_list"),D=U("react.memo"),P=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,q="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var Q=!1;function $(e,t){if(!e||Q)return"";Q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{Q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 22:return $(e.type._render,!1);case 1:return $(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case T:return"Fragment";case k:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case x:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case D:return K(e.type);case R:return K(e._render);case P:t=e._payload,e=e._init;try{return K(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ce(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(s(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Oe=null,Ce=null;function Ne(e){if(e=ni(e)){if("function"!=typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=ii(t),Se(e.stateNode,e.type,t))}}function Ae(e){Oe?Ce?Ce.push(e):Ce=[e]:Oe=e}function xe(){if(Oe){var e=Oe,t=Ce;if(Ce=Oe=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function De(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Re(){}var Le=De,Me=!1,Fe=!1;function je(){null===Oe&&null===Ce||(Re(),xe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(s(231,t,typeof n));return n}var Ve=!1;if(h)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Ve=!1}function Be(e,t,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var ze=!1,Qe=null,$e=!1,We=null,Ke={onError:function(e){ze=!0,Qe=e}};function Ge(e,t,n,r,i,o,s,a,u){ze=!1,Qe=null,Be.apply(Ke,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Je(e){if(He(e)!==e)throw Error(s(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,ut=null,ct=new Map,lt=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==at&&yt(at)&&(at=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(vt),lt.forEach(vt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==at&&wt(at,e),null!==ut&&wt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Tt={},It={};function St(e){if(Tt[e])return Tt[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Tt[e]=n[t];return e}h&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Ot=St("animationend"),Ct=St("animationiteration"),Nt=St("animationstart"),At=St("transitionend"),xt=new Map,Dt=new Map,Pt=["abort","abort",Ot,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Rt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),xt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!=(1&e))return Lt=15,1;if(0!=(2&e))return Lt=14,2;if(0!=(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!=(32&e)?(Lt=11,32):0!=(t=192&e)?(Lt=10,t):0!=(256&e)?(Lt=9,256):0!=(t=3584&e)?(Lt=8,t):0!=(4096&e)?(Lt=7,4096):0!=(t=4186112&e)?(Lt=6,t):0!=(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!=(134217728&e)?(Lt=3,134217728):0!=(t=805306368&e)?(Lt=2,t):0!=(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!=(o=134217727&n)){var u=o&~s;0!==u?(r=Mt(u),i=Lt):0!=(a&=o)&&(r=Mt(a),i=Lt)}else 0!=(o=n&~s)?(r=Mt(o),i=Lt):0!==a&&(r=Mt(a),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&s)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-zt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&0===(e=Vt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Vt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Qt(e)/$t|0)|0},Qt=Math.log,$t=Math.LN2,Wt=o.unstable_UserBlockingPriority,Kt=o.unstable_runWithPriority,Gt=!0;function Ht(e,t,n,r){Me||Re();var i=Jt,o=Me;Me=!0;try{Pe(i,e,t,n,r)}finally{(Me=o)||je()}}function Yt(e,t,n,r){Kt(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lt.set(o,mt(lt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Rr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Ie(r);if(null!==(i=ti(i))){var o=He(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ye(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Rr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,ln,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),fn=i({},hn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),gn=an(mn),yn=an(i({},mn,{dataTransfer:0})),vn=an(i({},fn,{relatedTarget:0})),bn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=an(wn),En=an(i({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function On(){return Sn}var Cn=i({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Cn),An=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Dn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var jn=h&&"TextEvent"in window&&!Fn,Un=h&&(!Mn||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),qn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Qn=!1,$n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Kn(e,t,n,r){Ae(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Yn(e){Cr(e,0)}function Jn(e){if(J(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Hn=Gn=null)}function ir(e){if("value"===e.propertyName&&Jn(Hn)){var t=[];if(Kn(t,Hn,e,Ie(e)),e=Yn,Me)e(t);else{Me=!0;try{De(e,t)}finally{Me=!1,je()}}}}function or(e,t,n){"focusin"===e?(rr(),Hn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Hn)}function ar(e,t){if("click"===e)return Jn(t)}function ur(e,t){if("input"===e||"change"===e)return Jn(t)}var cr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},lr=Object.prototype.hasOwnProperty;function hr(e,t){if(cr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,vr=null,br=null,wr=null,_r=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==vr||vr!==X(r)||(r="selectionStart"in(r=vr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Mr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Rt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Rt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Rt(Pt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<kr.length;Tr++)Dt.set(kr[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,u,c){if(Ge.apply(this,arguments),ze){if(!ze)throw Error(s(198));var l=Qe;ze=!1,Qe=null,$e||($e=!0,We=l)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Or(i,a,c),o=u}else for(s=0;s<r.length;s++){if(u=(a=r[s]).instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Or(i,a,c),o=u}}}if($e)throw e=We,$e=!1,We=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function xr(e){e[Ar]||(e[Ar]=!0,a.forEach((function(t){Sr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=oi(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Pr(o,e,i,t),s.add(a))}function Pr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Ht;break;case 1:i=Yt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Rr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&((u=s.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ti(a)))return;if(5===(u=s.tag)||6===u){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Le(e,t,n)}finally{Fe=!1,je()}}((function(){var r=o,i=Ie(n),s=[];e:{var a=xt.get(e);if(void 0!==a){var u=dn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=vn;break;case"focusout":c="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=xn;break;case Ot:case Ct:case Nt:u=bn;break;case At:u=Dn;break;case"scroll":u=pn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!=(4&t),h=!l&&"scroll"===e,d=l?null!==a?a+"Capture":null:a;l=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Ue(p,d))&&l.push(Lr(p,m,f))),h)break;p=p.return}0<l.length&&(a=new u(a,c,null,n,i),s.push({event:a,listeners:l}))}}if(0==(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(h=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==u?a:ri(u),f=null==c?a:ri(c),(a=new l(m,p+"leave",u,n,i)).target=h,a.relatedTarget=f,m=null,ti(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=f,l.relatedTarget=h,m=l),h=m,u&&c)e:{for(d=c,p=0,f=l=u;f;f=Fr(f))p++;for(f=0,m=d;m;m=Fr(m))f++;for(;0<p-f;)l=Fr(l),p--;for(;0<f-p;)d=Fr(d),f--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Fr(l),d=Fr(d)}l=null}else l=null;null!==u&&jr(s,a,u,l,!1),null!==c&&null!==h&&jr(s,h,c,l,!0)}if("select"===(u=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Xn;else if(Wn(a))if(Zn)g=ur;else{g=sr;var y=or}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Kn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ri(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(vr=y,br=r,wr=null);break;case"focusout":wr=br=vr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Er(s,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Er(s,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Qn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(Qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Qn&&(v=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Qn=!0)),0<(y=Mr(r,b)).length&&(b=new En(b,e,null,n,i),s.push({event:b,listeners:y}),(v||null!==(v=zn(n)))&&(b.data=v))),(v=jn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(qn=!0,Vn);case"textInput":return(e=t.data)===Vn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Qn)return"compositionend"===e||!Mn&&Bn(e,t)?(e=nn(),tn=en=Zt=null,Qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v)}Cr(s,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(u=Ue(n,o))&&s.unshift(Lr(n,u,a)):i||null!=(u=Ue(n,o))&&s.push(Lr(n,u,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Ur(){}var Vr=null,qr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function zr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Qr="function"==typeof setTimeout?setTimeout:void 0,$r="function"==typeof clearTimeout?clearTimeout:void 0;function Wr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Kr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0,Yr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Jr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Jr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ii(e){return e[Xr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var si=[],ai=-1;function ui(e){return{current:e}}function ci(e){0>ai||(e.current=si[ai],si[ai]=null,ai--)}function li(e,t){ai++,si[ai]=e.current,e.current=t}var hi={},di=ui(hi),fi=ui(!1),pi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!=e.childContextTypes}function yi(){ci(fi),ci(di)}function vi(e,t,n){if(di.current!==hi)throw Error(s(168));li(di,t),li(fi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,K(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=di.current,li(di,e),li(fi,fi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(fi),ci(di),li(di,e)):ci(fi),li(fi,n)}var Ei=null,ki=null,Ti=o.unstable_runWithPriority,Ii=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Ni=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,xi=o.unstable_ImmediatePriority,Di=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Ri=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=void 0!==Ci?Ci:function(){},ji=null,Ui=null,Vi=!1,qi=Ni(),Bi=1e4>qi?Ni:function(){return Ni()-qi};function zi(){switch(Ai()){case xi:return 99;case Di:return 98;case Pi:return 97;case Ri:return 96;case Li:return 95;default:throw Error(s(332))}}function Qi(e){switch(e){case 99:return xi;case 98:return Di;case 97:return Pi;case 96:return Ri;case 95:return Li;default:throw Error(s(332))}}function $i(e,t){return e=Qi(e),Ti(e,t)}function Wi(e,t,n){return e=Qi(e),Ii(e,t,n)}function Ki(){if(null!==Ui){var e=Ui;Ui=null,Si(e)}Gi()}function Gi(){if(!Vi&&null!==ji){Vi=!0;var e=0;try{var t=ji;$i(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(t){throw null!==ji&&(ji=ji.slice(e+1)),Ii(xi,Ki),t}finally{Vi=!1}}}var Hi=_.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ui(null),Xi=null,Zi=null,eo=null;function to(){eo=Zi=Xi=null}function no(e){var t=Ji.current;ci(Ji),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Xi=e,eo=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ms=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Xi)throw Error(s(308));Zi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var so=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===a?s=l:a.next=l,a=c;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=l:d.next=l,h.lastBaseUpdate=c)}}if(null!==s){for(d=o.baseState,a=0,h=l=c=null;;){u=s.lane;var f=s.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(u=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,u);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(f,d,u):p))break e;d=i({},d,u);break e;case 2:so=!0}}null!==s.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[s]:u.push(s))}else f={eventTime:f,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(l=h=f,c=d):h=h.next=f,a|=u;if(null===(s=s.next)){if(null===(u=o.shared.pending))break;s=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,ja|=a,e.lanes=a,e.memoizedState=d}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(s(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cu(),i=lu(e),o=co(r,i);o.payload=t,null!=n&&(o.callback=n),lo(e,o),hu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cu(),i=lu(e),o=co(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),lo(e,o),hu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cu(),r=lu(e),i=co(n,r);i.tag=2,null!=t&&(i.callback=t),lo(e,i),hu(e,r,n)}};function vo(e,t,n,r,i,o,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,o))}function bo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"==typeof o&&null!==o?o=oo(o):(i=gi(t)?pi:di.current,o=(r=null!=(r=t.contextTypes))?mi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,ao(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=oo(o):(o=gi(t)?pi:di.current,i.context=mi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Eo=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Io(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=zu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ku(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=Qu(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=$u(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ku(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Qu(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case k:return(t=Gu(t,e.mode,n)).return=e,t}if(Eo(t)||B(t))return(t=$u(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===T?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case k:return n.key===i?l(e,t,n,r):null}if(Eo(n)||B(n))return null!==i?null:h(e,t,n,r,null);To(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===T?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Eo(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function m(i,s,a,u){for(var c=null,l=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===l?c=y:l.sibling=y,l=y,h=g}if(m===a.length)return n(i,h),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],u))&&(s=o(h,s,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,a,u,c){var l=B(u);if("function"!=typeof l)throw Error(s(150));if(null==(u=l.call(u)))throw Error(s(151));for(var h=l=null,m=a,g=a=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?l=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),l;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,g),null===h?l=v:h.sibling=v,h=v);return l}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?l=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=ko(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=$u(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Qu(o.type,o.key,o.props,null,e.mode,u)).ref=ko(e,r,o),u.return=e,e=u)}return a(e);case k:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gu(o,e.mode,u)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ku(o,e.mode,u)).return=e,e=r),a(e);if(Eo(o))return m(e,r,o,u);if(B(o))return g(e,r,o,u);if(l&&To(e,o),void 0===o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,K(e.type)||"Component"))}return n(e,r)}}var So=Io(!0),Oo=Io(!1),Co={},No=ui(Co),Ao=ui(Co),xo=ui(Co);function Do(e){if(e===Co)throw Error(s(174));return e}function Po(e,t){switch(li(xo,t),li(Ao,e),li(No,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(No),li(No,t)}function Ro(){ci(No),ci(Ao),ci(xo)}function Lo(e){Do(xo.current);var t=Do(No.current),n=fe(t,e.type);t!==n&&(li(Ao,e),li(No,n))}function Mo(e){Ao.current===e&&(ci(No),ci(Ao))}var Fo=ui(0);function jo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,Vo=null,qo=!1;function Bo(e,t){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Qo(e){if(qo){var t=Vo;if(t){var n=t;if(!zo(e,t)){if(!(t=Kr(n.nextSibling))||!zo(e,t))return e.flags=-1025&e.flags|2,qo=!1,void(Uo=e);Bo(Uo,n)}Uo=e,Vo=Kr(t.firstChild)}else e.flags=-1025&e.flags|2,qo=!1,Uo=e}}function $o(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Wo(e){if(e!==Uo)return!1;if(!qo)return $o(e),qo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!zr(t,e.memoizedProps))for(t=Vo;t;)Bo(e,t),t=Kr(t.nextSibling);if($o(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vo=Kr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vo=null}}else Vo=Uo?Kr(e.stateNode.nextSibling):null;return!0}function Ko(){Vo=Uo=null,qo=!1}var Go=[];function Ho(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Yo=_.ReactCurrentDispatcher,Jo=_.ReactCurrentBatchConfig,Xo=0,Zo=null,es=null,ts=null,ns=!1,rs=!1;function is(){throw Error(s(321))}function os(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ss(e,t,n,r,i,o){if(Xo=o,Zo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Ds:Ps,e=n(r,i),rs){o=0;do{if(rs=!1,!(25>o))throw Error(s(301));o+=1,ts=es=null,t.updateQueue=null,Yo.current=Rs,e=n(r,i)}while(rs)}if(Yo.current=xs,t=null!==es&&null!==es.next,Xo=0,ts=es=Zo=null,ns=!1,t)throw Error(s(300));return e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Zo.memoizedState=ts=e:ts=ts.next=e,ts}function us(){if(null===es){var e=Zo.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Zo.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e)throw Error(s(310));e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Zo.memoizedState=ts=e:ts=ts.next=e}return ts}function cs(e,t){return"function"==typeof t?t(e):t}function ls(e){var t=us(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=es,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,c=i;do{var l=c.lane;if((Xo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(a=u=h,o=r):u=u.next=h,Zo.lanes|=l,ja|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=a,cr(r,t.memoizedState)||(Ms=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function hs(e){var t=us(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);cr(o,t.memoizedState)||(Ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ds(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(s(350))}function fs(e,t,n,r){var i=Aa;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),u=Yo.current,c=u.useState((function(){return ds(i,t,n)})),l=c[1],h=c[0];c=ts;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=Zo;return e.memoizedState={refs:f,source:t,subscribe:r},u.useEffect((function(){f.getSnapshot=n,f.setSnapshot=l;var e=o(t._source);if(!cr(a,e)){e=n(t._source),cr(h,e)||(l(e),e=lu(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var u=31-zt(s),c=1<<u;r[u]|=e,s&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=lu(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),cr(p,n)&&cr(m,t)&&cr(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:cs,lastRenderedState:h}).dispatch=l=As.bind(null,Zo,e),c.queue=e,c.baseQueue=null,h=ds(i,t,n),c.memoizedState=c.baseState=h),h}function ps(e,t,n){return fs(us(),e,t,n)}function ms(e){var t=as();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e}).dispatch=As.bind(null,Zo,e),[t.memoizedState,e]}function gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Zo.updateQueue)?(t={lastEffect:null},Zo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ys(e){return e={current:e},as().memoizedState=e}function vs(){return us().memoizedState}function bs(e,t,n,r){var i=as();Zo.flags|=e,i.memoizedState=gs(1|t,n,void 0,void 0===r?null:r)}function ws(e,t,n,r){var i=us();r=void 0===r?null:r;var o=void 0;if(null!==es){var s=es.memoizedState;if(o=s.destroy,null!==r&&os(r,s.deps))return void gs(t,n,o,r)}Zo.flags|=e,i.memoizedState=gs(1|t,n,o,r)}function _s(e,t){return bs(516,4,e,t)}function Es(e,t){return ws(516,4,e,t)}function ks(e,t){return ws(4,2,e,t)}function Ts(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Is(e,t,n){return n=null!=n?n.concat([e]):null,ws(4,2,Ts.bind(null,t,e),n)}function Ss(){}function Os(e,t){var n=us();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cs(e,t){var n=us();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ns(e,t){var n=zi();$i(98>n?98:n,(function(){e(!0)})),$i(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function As(e,t,n){var r=cu(),i=lu(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Zo||null!==s&&s===Zo)rs=ns=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,u=s(a,n);if(o.eagerReducer=s,o.eagerState=u,cr(u,a))return}catch(e){}hu(e,i,r)}}var xs={readContext:oo,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useOpaqueIdentifier:is,unstable_isNewReconciler:!1},Ds={readContext:oo,useCallback:function(e,t){return as().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:_s,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,bs(4,2,Ts.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bs(4,2,e,t)},useMemo:function(e,t){var n=as();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=as();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=As.bind(null,Zo,e),[r.memoizedState,e]},useRef:ys,useState:ms,useDebugValue:Ss,useDeferredValue:function(e){var t=ms(e),n=t[0],r=t[1];return _s((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return ys(e=Ns.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=as();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fs(r,e,t,n)},useOpaqueIdentifier:function(){if(qo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(s(355))})),n=ms(t)[1];return 0==(2&Zo.mode)&&(Zo.flags|=516,gs(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return ms(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},Ps={readContext:oo,useCallback:Os,useContext:oo,useEffect:Es,useImperativeHandle:Is,useLayoutEffect:ks,useMemo:Cs,useReducer:ls,useRef:vs,useState:function(){return ls(cs)},useDebugValue:Ss,useDeferredValue:function(e){var t=ls(cs),n=t[0],r=t[1];return Es((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ls(cs)[0];return[vs().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return ls(cs)[0]},unstable_isNewReconciler:!1},Rs={readContext:oo,useCallback:Os,useContext:oo,useEffect:Es,useImperativeHandle:Is,useLayoutEffect:ks,useMemo:Cs,useReducer:hs,useRef:vs,useState:function(){return hs(cs)},useDebugValue:Ss,useDeferredValue:function(e){var t=hs(cs),n=t[0],r=t[1];return Es((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=hs(cs)[0];return[vs().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return hs(cs)[0]},unstable_isNewReconciler:!1},Ls=_.ReactCurrentOwner,Ms=!1;function Fs(e,t,n,r){t.child=null===e?Oo(t,null,n,r):So(t,e.child,n,r)}function js(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=ss(e,t,n,r,o,i),null===e||Ms?(t.flags|=1,Fs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function Us(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!=typeof s||Bu(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Vs(e,t,s,r,i,o))}return s=e.child,0==(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?na(e,t,o):(t.flags|=1,(e=zu(s,r)).ref=t.ref,e.return=t,t.child=e)}function Vs(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Ms=!1,0==(o&i))return t.lanes=e.lanes,na(e,t,o);0!=(16384&e.flags)&&(Ms=!0)}return zs(e,t,n,r,o)}function qs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},bu(0,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(0,e),null;t.memoizedState={baseLanes:0},bu(0,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bu(0,r);return Fs(e,t,i,n),t.child}function Bs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function zs(e,t,n,r,i){var o=gi(n)?pi:di.current;return o=mi(t,o),io(t,i),n=ss(e,t,n,r,o,i),null===e||Ms?(t.flags|=1,Fs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function Qs(e,t,n,r,i){if(gi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;c="object"==typeof c&&null!==c?oo(c):mi(t,c=gi(n)?pi:di.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof s.getSnapshotBeforeUpdate;h||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==r||u!==c)&&wo(t,s,r,c),so=!1;var d=t.memoizedState;s.state=d,fo(t,r,s,i),u=t.memoizedState,a!==r||d!==u||fi.current||so?("function"==typeof l&&(go(t,n,l,r),u=t.memoizedState),(a=so||vo(t,n,a,r,d,u,c))?(h||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):("function"==typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,uo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Yi(t.type,a),s.props=c,h=t.pendingProps,d=s.context,u="object"==typeof(u=n.contextType)&&null!==u?oo(u):mi(t,u=gi(n)?pi:di.current);var f=n.getDerivedStateFromProps;(l="function"==typeof f||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==h||d!==u)&&wo(t,s,r,u),so=!1,d=t.memoizedState,s.state=d,fo(t,r,s,i);var p=t.memoizedState;a!==h||d!==p||fi.current||so?("function"==typeof f&&(go(t,n,f,r),p=t.memoizedState),(c=so||vo(t,n,c,r,d,p,u))?(l||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,u),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=u,r=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return $s(e,t,n,r,o,i)}function $s(e,t,n,r,i,o){Bs(e,t);var s=0!=(64&t.flags);if(!r&&!s)return i&&_i(t,n,!1),na(e,t,o);r=t.stateNode,Ls.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=So(t,e.child,null,o),t.child=So(t,null,a,o)):Fs(e,t,a,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ws(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Po(e,t.containerInfo)}var Ks,Gs,Hs,Ys={dehydrated:null,retryLane:0};function Js(e,t,n){var r,i=t.pendingProps,o=Fo.current,s=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(Fo,1&o),null===e?(void 0!==i.fallback&&Qo(t),e=i.children,o=i.fallback,s?(e=Xs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ys,e):"number"==typeof i.unstable_expectedLoadTime?(e=Xs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ys,t.lanes=33554432,e):((n=Wu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=function(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0==(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=zu(s,a),null!==e?r=zu(e,r):(r=$u(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Ys,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=zu(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Xs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Wu(t,i,0,null),n=$u(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function Zs(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ea(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function ta(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fs(e,t,r.children,n),0!=(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zs(e,n);else if(19===e.tag)Zs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(Fo,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ea(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===jo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ea(t,!0,n,null,o,t.lastEffect);break;case"together":ea(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function na(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ja|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=zu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ra(e,t){if(!qo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ia(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Ro(),ci(fi),ci(di),Ho(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Do(xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Gs(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Do(No.current),Wo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Jr]=t,r[Xr]=a,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":ue(r,a),Nr("invalid",r)}for(var c in ke(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"==typeof o?r.textContent!==o&&(e=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Xr]=r,Ks(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),o=r;break;case"iframe":case"object":case"embed":Nr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)Nr(Ir[o],e);o=r;break;case"source":Nr("error",e),o=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),o=r;break;case"details":Nr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Nr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),o=ae(e,r),Nr("invalid",e);break;default:o=r}ke(n,o);var l=o;for(a in l)if(l.hasOwnProperty(a)){var h=l[a];"style"===a?_e(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Nr("scroll",e):null!=h&&w(e,a,h,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Ur)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Hs(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(s(166));n=Do(xo.current),Do(No.current),Wo(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return ci(Fo),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wo(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Fo.current)?0===La&&(La=3):(0!==La&&3!==La||(La=4),null===Aa||0==(134217727&ja)&&0==(134217727&Ua)||mu(Aa,Da))),(r||n)&&(t.flags|=4),null);case 4:return Ro(),null===e&&xr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ci(Fo),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(c=r.rendering))if(a)ra(r,!1);else{if(0!==La||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=jo(e))){for(t.flags|=64,ra(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>za&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=jo(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>za&&1073741824!==n&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Fo.current,li(Fo,a?1&t|2:1&t),n):null;case 23:case 24:return wu(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function oa(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Ro(),ci(fi),ci(di),Ho(),0!=(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return ci(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(Fo),null;case 4:return Ro(),null;case 10:return no(e),null;case 23:case 24:return wu(),null;default:return null}}function sa(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function aa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Ks=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Do(No.current);var s,a=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Ur)}for(h in ke(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(a=a||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Nr("scroll",e),a||c===l||(a=[])):"object"==typeof l&&null!==l&&l.$$typeof===L?l.toString():(a=a||[]).push(h,l))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Hs=function(e,t,n,r){n!==r&&(t.flags|=4)};var ua="function"==typeof WeakMap?WeakMap:Map;function ca(e,t,n){(n=co(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ka||(Ka=!0,Ga=r),aa(0,t)},n}function la(e,t,n){(n=co(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return aa(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ha?Ha=new Set([this]):Ha.add(this),aa(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function da(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fu(e,t)}else t.current=null}function fa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(s(163))}function pa(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ru(n,e),Pu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(s(163))}function ma(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ga(e,t){if(ki&&"function"==typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(Ei,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Ru(t,n);else{r=t;try{i()}catch(e){Fu(r,e)}}n=n.next}while(n!==e)}break;case 1:if(da(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Fu(t,e)}break;case 5:da(t);break;case 4:Ea(e,t)}}function ya(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function va(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:{for(var t=e.return;null!==t;){if(va(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||va(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?wa(e,n,t):_a(e,n,t)}function wa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function _a(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Ea(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,u=i,c=u;;)if(ga(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,u=i.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ga(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function ka(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];"style"===a?_e(n,u):"dangerouslySetInnerHTML"===a?ge(n,u):"children"===a?ye(n,u):w(n,a,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ba=Bi(),ma(t.child,!0)),void Ta(t);case 19:return void Ta(t);case 23:case 24:return void ma(t,null!==t.memoizedState)}throw Error(s(163))}function Ta(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ha),t.forEach((function(t){var r=Uu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ia(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Sa=Math.ceil,Oa=_.ReactCurrentDispatcher,Ca=_.ReactCurrentOwner,Na=0,Aa=null,xa=null,Da=0,Pa=0,Ra=ui(0),La=0,Ma=null,Fa=0,ja=0,Ua=0,Va=0,qa=null,Ba=0,za=1/0;function Qa(){za=Bi()+500}var $a,Wa=null,Ka=!1,Ga=null,Ha=null,Ya=!1,Ja=null,Xa=90,Za=[],eu=[],tu=null,nu=0,ru=null,iu=-1,ou=0,su=0,au=null,uu=!1;function cu(){return 0!=(48&Na)?Bi():-1!==iu?iu:iu=Bi()}function lu(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===zi()?1:2;if(0===ou&&(ou=Fa),0!==Hi.transition){0!==su&&(su=null!==qa?qa.pendingLanes:0),e=ou;var t=4186112&~su;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=zi(),e=Ut(0!=(4&Na)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ou)}function hu(e,t,n){if(50<nu)throw nu=0,ru=null,Error(s(185));if(null===(e=du(e,t)))return null;Bt(e,t,n),e===Aa&&(Ua|=t,4===La&&mu(e,Da));var r=zi();1===t?0!=(8&Na)&&0==(48&Na)?gu(e):(fu(e,n),0===Na&&(Qa(),Ki())):(0==(4&Na)||98!==r&&99!==r||(null===tu?tu=new Set([e]):tu.add(e)),fu(e,n)),qa=e}function du(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-zt(a),c=1<<u,l=o[u];if(-1===l){if(0==(c&r)||0!=(c&i)){l=t,Mt(c);var h=Lt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);a&=~c}if(r=Ft(e,e===Aa?Da:0),t=Lt,0===r)null!==n&&(n!==Mi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Si(n)}15===t?(n=gu.bind(null,e),null===ji?(ji=[n],Ui=Ii(xi,Gi)):ji.push(n),n=Mi):14===t?n=Wi(99,gu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Wi(n,pu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function pu(e){if(iu=-1,su=ou=0,0!=(48&Na))throw Error(s(327));var t=e.callbackNode;if(Du()&&e.callbackNode!==t)return null;var n=Ft(e,e===Aa?Da:0);if(0===n)return null;var r=n,i=Na;Na|=16;var o=ku();for(Aa===e&&Da===r||(Qa(),_u(e,r));;)try{Su();break}catch(t){Eu(e,t)}if(to(),Oa.current=o,Na=i,null!==xa?r=0:(Aa=null,Da=0,r=La),0!=(Fa&Ua))_u(e,0);else if(0!==r){if(2===r&&(Na|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=jt(e))&&(r=Tu(e,n))),1===r)throw t=Ma,_u(e,0),mu(e,n),fu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Nu(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=Ba+500-Bi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){cu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Qr(Nu.bind(null,e),r);break}Nu(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-zt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sa(n/1960))-n)){e.timeoutHandle=Qr(Nu.bind(null,e),n);break}Nu(e);break;default:throw Error(s(329))}}return fu(e,Bi()),e.callbackNode===t?pu.bind(null,e):null}function mu(e,t){for(t&=~Va,t&=~Ua,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function gu(e){if(0!=(48&Na))throw Error(s(327));if(Du(),e===Aa&&0!=(e.expiredLanes&Da)){var t=Da,n=Tu(e,t);0!=(Fa&Ua)&&(n=Tu(e,t=Ft(e,t)))}else n=Tu(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Na|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=jt(e))&&(n=Tu(e,t))),1===n)throw n=Ma,_u(e,0),mu(e,t),fu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nu(e),fu(e,Bi()),null}function yu(e,t){var n=Na;Na|=1;try{return e(t)}finally{0===(Na=n)&&(Qa(),Ki())}}function vu(e,t){var n=Na;Na&=-2,Na|=8;try{return e(t)}finally{0===(Na=n)&&(Qa(),Ki())}}function bu(e,t){li(Ra,Pa),Pa|=t,Fa|=t}function wu(){Pa=Ra.current,ci(Ra)}function _u(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,$r(n)),null!==xa)for(n=xa.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yi();break;case 3:Ro(),ci(fi),ci(di),Ho();break;case 5:Mo(r);break;case 4:Ro();break;case 13:case 19:ci(Fo);break;case 10:no(r);break;case 23:case 24:wu()}n=n.return}Aa=e,xa=zu(e.current,null),Da=Pa=Fa=t,La=0,Ma=null,Va=Ua=ja=0}function Eu(e,t){for(;;){var n=xa;try{if(to(),Yo.current=xs,ns){for(var r=Zo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ns=!1}if(Xo=0,ts=es=Zo=null,rs=!1,Ca.current=null,null===n||null===n.return){La=1,Ma=t,xa=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=Da,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u;if(0==(2&a.mode)){var l=a.alternate;l?(a.updateQueue=l.updateQueue,a.memoizedState=l.memoizedState,a.lanes=l.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Fo.current),d=s;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var y=new Set;y.add(c),d.updateQueue=y}else g.add(c);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=co(-1,1);v.tag=2,lo(a,v)}a.lanes|=1;break e}u=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ua,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(a)){u.add(a);var w=ju.bind(null,o,c,a);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((K(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==La&&(La=2),u=sa(u,a),d=s;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t,ho(d,ca(0,o,t));break e;case 1:o=u;var _=d.type,E=d.stateNode;if(0==(64&d.flags)&&("function"==typeof _.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Ha||!Ha.has(E)))){d.flags|=4096,t&=-t,d.lanes|=t,ho(d,la(d,o,t));break e}}d=d.return}while(null!==d)}Cu(n)}catch(e){t=e,xa===n&&null!==n&&(xa=n=n.return);continue}break}}function ku(){var e=Oa.current;return Oa.current=xs,null===e?xs:e}function Tu(e,t){var n=Na;Na|=16;var r=ku();for(Aa===e&&Da===t||_u(e,t);;)try{Iu();break}catch(t){Eu(e,t)}if(to(),Na=n,Oa.current=r,null!==xa)throw Error(s(261));return Aa=null,Da=0,La}function Iu(){for(;null!==xa;)Ou(xa)}function Su(){for(;null!==xa&&!Oi();)Ou(xa)}function Ou(e){var t=$a(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,null===t?Cu(e):xa=t,Ca.current=null}function Cu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ia(n,t,Pa)))return void(xa=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Pa)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=oa(t)))return n.flags&=2047,void(xa=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(xa=t);xa=t=e}while(null!==t);0===La&&(La=5)}function Nu(e){var t=zi();return $i(99,Au.bind(null,e,t)),null}function Au(e,t){do{Du()}while(null!==Ja);if(0!=(48&Na))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-zt(o),l=1<<c;i[c]=0,a[c]=-1,u[c]=-1,o&=~l}if(null!==tu&&0==(24&r)&&tu.has(e)&&tu.delete(e),e===Aa&&(xa=Aa=null,Da=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Na,Na|=32,Ca.current=null,Vr=Gt,gr(a=mr())){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else e:if(u=(u=a.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(e){u=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,y=null;t:for(;;){for(var v;g!==u||0!==o&&3!==g.nodeType||(d=h+o),g!==c||0!==l&&3!==g.nodeType||(f=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break t;if(y===u&&++p===o&&(d=h),y===c&&++m===l&&(f=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}u=-1===d||-1===f?null:{start:d,end:f}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:a,selectionRange:u},Gt=!1,au=null,uu=!1,Wa=r;do{try{xu()}catch(e){if(null===Wa)throw Error(s(330));Fu(Wa,e),Wa=Wa.nextEffect}}while(null!==Wa);au=null,Wa=r;do{try{for(a=e;null!==Wa;){var b=Wa.flags;if(16&b&&ye(Wa.stateNode,""),128&b){var w=Wa.alternate;if(null!==w){var _=w.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&b){case 2:ba(Wa),Wa.flags&=-3;break;case 6:ba(Wa),Wa.flags&=-3,ka(Wa.alternate,Wa);break;case 1024:Wa.flags&=-1025;break;case 1028:Wa.flags&=-1025,ka(Wa.alternate,Wa);break;case 4:ka(Wa.alternate,Wa);break;case 8:Ea(a,u=Wa);var E=u.alternate;ya(u),null!==E&&ya(E)}Wa=Wa.nextEffect}}catch(e){if(null===Wa)throw Error(s(330));Fu(Wa,e),Wa=Wa.nextEffect}}while(null!==Wa);if(_=qr,w=mr(),b=_.focusedElem,a=_.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==a&&gr(b)&&(w=a.start,void 0===(_=a.end)&&(_=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(_,b.value.length)):(_=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(_=_.getSelection(),u=b.textContent.length,E=Math.min(a.start,u),a=void 0===a.end?E:Math.min(a.end,u),!_.extend&&E>a&&(u=a,a=E,E=u),u=fr(b,E),o=fr(b,a),u&&o&&(1!==_.rangeCount||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==o.node||_.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),_.removeAllRanges(),E>a?(_.addRange(w),_.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),_.addRange(w))))),w=[];for(_=b;_=_.parentNode;)1===_.nodeType&&w.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(_=w[b]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Gt=!!Vr,qr=Vr=null,e.current=n,Wa=r;do{try{for(b=e;null!==Wa;){var k=Wa.flags;if(36&k&&pa(b,Wa.alternate,Wa),128&k){w=void 0;var T=Wa.ref;if(null!==T){var I=Wa.stateNode;Wa.tag,w=I,"function"==typeof T?T(w):T.current=w}}Wa=Wa.nextEffect}}catch(e){if(null===Wa)throw Error(s(330));Fu(Wa,e),Wa=Wa.nextEffect}}while(null!==Wa);Wa=null,Fi(),Na=i}else e.current=n;if(Ya)Ya=!1,Ja=e,Xa=t;else for(Wa=r;null!==Wa;)t=Wa.nextEffect,Wa.nextEffect=null,8&Wa.flags&&((k=Wa).sibling=null,k.stateNode=null),Wa=t;if(0===(r=e.pendingLanes)&&(Ha=null),1===r?e===ru?nu++:(nu=0,ru=e):nu=0,n=n.stateNode,ki&&"function"==typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(Ei,n,void 0,64==(64&n.current.flags))}catch(e){}if(fu(e,Bi()),Ka)throw Ka=!1,e=Ga,Ga=null,e;return 0!=(8&Na)||Ki(),null}function xu(){for(;null!==Wa;){var e=Wa.alternate;uu||null===au||(0!=(8&Wa.flags)?Ze(Wa,au)&&(uu=!0):13===Wa.tag&&Ia(e,Wa)&&Ze(Wa,au)&&(uu=!0));var t=Wa.flags;0!=(256&t)&&fa(e,Wa),0==(512&t)||Ya||(Ya=!0,Wi(97,(function(){return Du(),null}))),Wa=Wa.nextEffect}}function Du(){if(90!==Xa){var e=97<Xa?97:Xa;return Xa=90,$i(e,Lu)}return!1}function Pu(e,t){Za.push(t,e),Ya||(Ya=!0,Wi(97,(function(){return Du(),null})))}function Ru(e,t){eu.push(t,e),Ya||(Ya=!0,Wi(97,(function(){return Du(),null})))}function Lu(){if(null===Ja)return!1;var e=Ja;if(Ja=null,0!=(48&Na))throw Error(s(331));var t=Na;Na|=32;var n=eu;eu=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(s(330));Fu(o,e)}}for(n=Za,Za=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(e){if(null===o)throw Error(s(330));Fu(o,e)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Na=t,Ki(),!0}function Mu(e,t,n){lo(e,t=ca(0,t=sa(n,t),1)),t=cu(),null!==(e=du(e,1))&&(Bt(e,1,t),fu(e,t))}function Fu(e,t){if(3===e.tag)Mu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Mu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ha||!Ha.has(r))){var i=la(n,e=sa(t,e),1);if(lo(n,i),i=cu(),null!==(n=du(n,1)))Bt(n,1,i),fu(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ha||!Ha.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function ju(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=cu(),e.pingedLanes|=e.suspendedLanes&n,Aa===e&&(Da&n)===n&&(4===La||3===La&&(62914560&Da)===Da&&500>Bi()-Ba?_u(e,0):Va|=n),fu(e,t)}function Uu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===zi()?1:2:(0===ou&&(ou=Fa),0===(t=Vt(62914560&~ou))&&(t=4194304))),n=cu(),null!==(e=du(e,t))&&(Bt(e,t,n),fu(e,n))}function Vu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(e,t,n,r){return new Vu(e,t,n,r)}function Bu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zu(e,t){var n=e.alternate;return null===n?((n=qu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qu(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)Bu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case T:return $u(n.children,i,o,t);case M:a=8,i|=16;break;case I:a=8,i|=1;break;case S:return(e=qu(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=o,e;case A:return(e=qu(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case x:return(e=qu(19,n,t,i)).elementType=x,e.lanes=o,e;case F:return Wu(n,i,o,t);case j:return(e=qu(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:a=10;break e;case C:a=9;break e;case N:a=11;break e;case D:a=14;break e;case P:a=16,r=null;break e;case R:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=qu(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function $u(e,t,n,r){return(e=qu(7,e,r,t)).lanes=n,e}function Wu(e,t,n,r){return(e=qu(23,e,r,t)).elementType=F,e.lanes=n,e}function Ku(e,t,n){return(e=qu(6,e,null,t)).lanes=n,e}function Gu(e,t,n){return(t=qu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Yu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ju(e,t,n,r){var i=t.current,o=cu(),a=lu(i);e:if(n){t:{if(He(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=co(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),hu(i,a,o),a}function Xu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ec(e,t){Zu(e,t),(e=e.alternate)&&Zu(e,t)}function tc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hu(e,t,null!=n&&!0===n.hydrate),t=qu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Zr]=n.current,xr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Xu(s);a.call(e)}}Ju(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tc(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"==typeof i){var u=i;i=function(){var e=Xu(s);u.call(e)}}vu((function(){Ju(t,s,e,i)}))}return Xu(s)}function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nc(t))throw Error(s(200));return Yu(e,t,null,n)}$a=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ms=!0;else{if(0==(n&r)){switch(Ms=!1,t.tag){case 3:Ws(t),Ko();break;case 5:Lo(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Js(e,t,n):(li(Fo,1&Fo.current),null!==(t=na(e,t,n))?t.sibling:null);li(Fo,1&Fo.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ta(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,qs(e,t,n)}return na(e,t,n)}Ms=0!=(16384&e.flags)}else Ms=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),io(t,n),i=ss(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&go(t,r,a,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,_o(t,r,e,n),t=$s(null,t,r,!0,o,n)}else t.tag=0,Fs(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return Bu(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=zs(null,t,i,e,n);break e;case 1:t=Qs(null,t,i,e,n);break e;case 11:t=js(null,t,i,e,n);break e;case 14:t=Us(null,t,i,Yi(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,zs(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Qs(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ws(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,uo(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Ko(),t=na(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Vo=Kr(t.stateNode.containerInfo.firstChild),Uo=t,o=qo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=Oo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fs(e,t,r,n),Ko();t=t.child}return t;case 5:return Lo(t),null===e&&Qo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,zr(r,i)?a=null:null!==o&&zr(r,o)&&(t.flags|=16),Bs(e,t),Fs(e,t,a,n),t.child;case 6:return null===e&&Qo(t),null;case 13:return Js(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):Fs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var u=t.type._context;if(li(Ji,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0==(o=cr(u,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!fi.current){t=na(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){a=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!=(l.observedBits&o)){1===u.tag&&((l=co(-1,n&-n)).tag=2,lo(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ro(u.return,n),c.lanes|=n;break}l=l.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Fs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Fs(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Us(e,t,i,o=Yi(i.type,o),r,n);case 15:return Vs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,io(t,n),bo(t,r,i),_o(t,r,i,n),$s(null,t,r,!0,e,n);case 19:return ta(e,t,n);case 23:case 24:return qs(e,t,n)}throw Error(s(156,t.tag))},tc.prototype.render=function(e){Ju(e,this._internalRoot,null,null)},tc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ju(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(hu(e,4,cu()),ec(e,4))},tt=function(e){13===e.tag&&(hu(e,67108864,cu()),ec(e,67108864))},nt=function(e){if(13===e.tag){var t=cu(),n=lu(e);hu(e,n,t),ec(e,n)}},rt=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(s(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},De=yu,Pe=function(e,t,n,r,i){var o=Na;Na|=4;try{return $i(98,e.bind(null,t,n,r,i))}finally{0===(Na=o)&&(Qa(),Ki())}},Re=function(){0==(49&Na)&&(function(){if(null!==tu){var e=tu;tu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fu(e,Bi())}))}Ki()}(),Du())},Le=function(e,t){var n=Na;Na|=2;try{return e(t)}finally{0===(Na=n)&&(Qa(),Ki())}};var oc={Events:[ni,ri,ii,Ae,xe,Du,{current:!1}]},sc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},ac={bundleType:sc.bundleType,version:sc.version,rendererPackageName:sc.rendererPackageName,rendererConfig:sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:sc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Ei=uc.inject(ac),ki=uc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oc,t.createPortal=ic,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Na;if(0!=(48&n))return e(t);Na|=1;try{if(e)return $i(99,e.bind(null,t))}finally{Na=n,Ki()}},t.hydrate=function(e,t,n){if(!nc(t))throw Error(s(200));return rc(null,e,t,!0,n)},t.render=function(e,t,n){if(!nc(t))throw Error(s(200));return rc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(s(40));return!!e._reactRootContainer&&(vu((function(){rc(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=yu,t.unstable_createPortal=function(e,t){return ic(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return rc(e,t,n,!1,r)},t.version="17.0.2"},3935:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},9921:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case h:case o:case a:case s:case f:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case u:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.AsyncMode=l,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return E(e)||_(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===a||e===s||e===f||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=_},9864:function(e,t,n){"use strict";e.exports=n(9921)},9704:function(e,t,n){"use strict";n.d(t,{zt:function(){return l},I0:function(){return m},v9:function(){return b}});var r=n(7294),i=r.createContext(null),o=function(e){e()},s=function(){return o},a={notify:function(){},get:function(){return[]}};function u(e,t){var n,r=a;function i(){u.onStateChange&&u.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=s(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var u={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=a)},getListeners:function(){return r}};return u}var c="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect,l=function(e){var t=e.store,n=e.context,o=e.children,s=(0,r.useMemo)((function(){var e=u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),a=(0,r.useMemo)((function(){return t.getState()}),[t]);c((function(){var e=s.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,a]);var l=n||i;return r.createElement(l.Provider,{value:s},o)};function h(){return(0,r.useContext)(i)}function d(e){void 0===e&&(e=i);var t=e===i?h:function(){return(0,r.useContext)(e)};return function(){return t().store}}n(8679),n(2973),n(7462);var f=d();function p(e){void 0===e&&(e=i);var t=e===i?f:d(e);return function(){return t().dispatch}}var m=p(),g=function(e,t){return e===t};function y(e){void 0===e&&(e=i);var t=e===i?h:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=g);var i=t(),o=function(e,t,n,i){var o,s=(0,r.useReducer)((function(e){return e+1}),0)[1],a=(0,r.useMemo)((function(){return u(n,i)}),[n,i]),l=(0,r.useRef)(),h=(0,r.useRef)(),d=(0,r.useRef)(),f=(0,r.useRef)(),p=n.getState();try{if(e!==h.current||p!==d.current||l.current){var m=e(p);o=void 0!==f.current&&t(m,f.current)?f.current:m}else o=f.current}catch(e){throw l.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),e}return c((function(){h.current=e,d.current=p,f.current=o,l.current=void 0})),c((function(){function e(){try{var e=n.getState();if(e===d.current)return;var r=h.current(e);if(t(r,f.current))return;f.current=r,d.current=e}catch(e){l.current=e}s()}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}}),[n,a]),o}(e,n,i.store,i.subscription);return(0,r.useDebugValue)(o),o}}var v,b=y();v=n(3935).unstable_batchedUpdates,o=v},8359:function(e,t){"use strict";if("function"==typeof Symbol&&Symbol.for){var n=Symbol.for;n("react.element"),n("react.portal"),n("react.fragment"),n("react.strict_mode"),n("react.profiler"),n("react.provider"),n("react.context"),n("react.forward_ref"),n("react.suspense"),n("react.suspense_list"),n("react.memo"),n("react.lazy"),n("react.block"),n("react.server.block"),n("react.fundamental"),n("react.debug_trace_mode"),n("react.legacy_hidden")}},2973:function(e,t,n){"use strict";n(8359)},9711:function(e,t,n){"use strict";n.d(t,{VK:function(){return u},rU:function(){return c}});var r=n(7294),i=n(5648),o=n(6974);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const a=["onClick","reloadDocument","replace","state","target","to"];function u(e){let{basename:t,children:n,window:s}=e,a=(0,r.useRef)();null==a.current&&(a.current=(0,i.lX)({window:s}));let u=a.current,[c,l]=(0,r.useState)({action:u.action,location:u.location});return(0,r.useLayoutEffect)((()=>u.listen(l)),[u]),(0,r.createElement)(o.F0,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u})}const c=(0,r.forwardRef)((function(e,t){let{onClick:n,reloadDocument:u,replace:c=!1,state:l,target:h,to:d}=e,f=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a),p=(0,o.oQ)(d),m=function(e,t){let{target:n,replace:s,state:a}=void 0===t?{}:t,u=(0,o.s0)(),c=(0,o.TH)(),l=(0,o.WU)(e);return(0,r.useCallback)((t=>{if(!(0!==t.button||n&&"_self"!==n||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t))){t.preventDefault();let n=!!s||(0,i.Ep)(c)===(0,i.Ep)(l);u(e,{replace:n,state:a})}}),[c,u,l,s,a,n,e])}(d,{replace:c,state:l,target:h});return(0,r.createElement)("a",s({},f,{href:p,onClick:function(e){n&&n(e),e.defaultPrevented||u||m(e)},ref:t,target:h}))}))},6974:function(e,t,n){"use strict";n.d(t,{AW:function(){return l},F0:function(){return h},Z5:function(){return d},oQ:function(){return f},TH:function(){return m},s0:function(){return g},UO:function(){return v},WU:function(){return b}});var r=n(7294),i=n(5648);function o(e,t){if(!e)throw new Error(t)}const s=(0,r.createContext)(null),a=(0,r.createContext)(null),u=(0,r.createContext)({outlet:null,matches:[]});function c(e){return function(e){let t=(0,r.useContext)(u).outlet;return t?(0,r.createElement)(y.Provider,{value:e},t):t}(e.context)}function l(e){o(!1)}function h(e){let{basename:t="/",children:n=null,location:u,navigationType:c=i.aU.Pop,navigator:l,static:h=!1}=e;p()&&o(!1);let d=A(t),f=(0,r.useMemo)((()=>({basename:d,navigator:l,static:h})),[d,l,h]);"string"==typeof u&&(u=(0,i.cP)(u));let{pathname:m="/",search:g="",hash:y="",state:v=null,key:b="default"}=u,w=(0,r.useMemo)((()=>{let e=C(m,d);return null==e?null:{pathname:e,search:g,hash:y,state:v,key:b}}),[d,m,g,y,v,b]);return null==w?null:(0,r.createElement)(s.Provider,{value:f},(0,r.createElement)(a.Provider,{children:n,value:{location:w,navigationType:c}}))}function d(e){let{children:t,location:n}=e;return function(e,t){p()||o(!1);let{matches:n}=(0,r.useContext)(u),s=n[n.length-1],a=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let h,d=m();if(t){var f;let e="string"==typeof t?(0,i.cP)(t):t;"/"===l||(null==(f=e.pathname)?void 0:f.startsWith(l))||o(!1),h=e}else h=d;let g=h.pathname||"/",y=function(e,t,n){void 0===n&&(n="/");let r=C(("string"==typeof t?(0,i.cP)(t):t).pathname||"/",n);if(null==r)return null;let o=_(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let e=0;null==s&&e<o.length;++e)s=I(o[e],r);return s}(e,{pathname:"/"===l?g:g.slice(l.length)||"/"});return function(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight(((n,i,o)=>(0,r.createElement)(u.Provider,{children:void 0!==i.route.element?i.route.element:(0,r.createElement)(c,null),value:{outlet:n,matches:t.concat(e.slice(0,o+1))}})),null)}(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:N([l,e.pathname]),pathnameBase:"/"===e.pathnameBase?l:N([l,e.pathnameBase])}))),n)}(w(t),n)}function f(e){p()||o(!1);let{basename:t,navigator:n}=(0,r.useContext)(s),{hash:a,pathname:u,search:c}=b(e),l=u;if("/"!==t){let n=function(e){return""===e||""===e.pathname?"/":"string"==typeof e?(0,i.cP)(e).pathname:e.pathname}(e),r=null!=n&&n.endsWith("/");l="/"===u?t+(r?"/":""):N([t,u])}return n.createHref({pathname:l,search:c,hash:a})}function p(){return null!=(0,r.useContext)(a)}function m(){return p()||o(!1),(0,r.useContext)(a).location}function g(){p()||o(!1);let{basename:e,navigator:t}=(0,r.useContext)(s),{matches:n}=(0,r.useContext)(u),{pathname:i}=m(),a=JSON.stringify(n.map((e=>e.pathnameBase))),c=(0,r.useRef)(!1);return(0,r.useEffect)((()=>{c.current=!0})),(0,r.useCallback)((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"==typeof n)return void t.go(n);let o=O(n,JSON.parse(a),i);"/"!==e&&(o.pathname=N([e,o.pathname])),(r.replace?t.replace:t.push)(o,r.state)}),[e,t,a,i])}const y=(0,r.createContext)(null);function v(){let{matches:e}=(0,r.useContext)(u),t=e[e.length-1];return t?t.params:{}}function b(e){let{matches:t}=(0,r.useContext)(u),{pathname:n}=m(),i=JSON.stringify(t.map((e=>e.pathnameBase)));return(0,r.useMemo)((()=>O(e,JSON.parse(i),n)),[e,i,n])}function w(e){let t=[];return r.Children.forEach(e,(e=>{if(!(0,r.isValidElement)(e))return;if(e.type===r.Fragment)return void t.push.apply(t,w(e.props.children));e.type!==l&&o(!1);let n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=w(e.props.children)),t.push(n)})),t}function _(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let s={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(s.relativePath.startsWith(r)||o(!1),s.relativePath=s.relativePath.slice(r.length));let a=N([r,s.relativePath]),u=n.concat(s);e.children&&e.children.length>0&&(!0===e.index&&o(!1),_(e.children,t,u,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:u})})),t}const E=/^:\w+$/,k=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=-2),t&&(r+=2),n.filter((e=>!k(e))).reduce(((e,t)=>e+(E.test(t)?3:""===t?1:10)),r)}function I(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let s=n[e],a=e===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=S({path:s.relativePath,caseSensitive:s.caseSensitive,end:a},u);if(!c)return null;Object.assign(r,c.params);let l=s.route;o.push({params:r,pathname:N([i,c.pathname]),pathnameBase:N([i,c.pathnameBase]),route:l}),"/"!==c.pathnameBase&&(i=N([i,c.pathnameBase]))}return o}function S(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(t){return e}}(a[n]||""),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function O(e,t,n){let r,o="string"==typeof e?(0,i.cP)(e):e,s=""===e||""===o.pathname?"/":o.pathname;if(null==s)r=n;else{let e=t.length-1;if(s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}r=e>=0?t[e]:"/"}let a=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?(0,i.cP)(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:x(r),hash:D(o)}}(o,r);return s&&"/"!==s&&s.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function C(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const N=e=>e.join("/").replace(/\/\/+/g,"/"),A=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},2408:function(e,t,n){"use strict";var r=n(7418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},_=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var u=!1;if(null===e)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return s=s(u=e),e=""===r?"."+S(u,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),O(s,t,n,"",(function(e){return e}))):null!=s&&(T(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(a=e[c],c);u+=O(a,t,n,l,s)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)u+=O(a=a.value,t,n,l=r+S(a,c++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function x(){var e=A.current;if(null===e)throw Error(f(321));return e}var D={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)_.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return x().useCallback(e,t)},t.useContext=function(e,t){return x().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return x().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return x().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return x().useLayoutEffect(e,t)},t.useMemo=function(e,t){return x().useMemo(e,t)},t.useReducer=function(e,t,n){return x().useReducer(e,t,n)},t.useRef=function(e){return x().useRef(e)},t.useState=function(e){return x().useState(e)},t.version="17.0.2"},7294:function(e,t,n){"use strict";e.exports=n(2408)},4500:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function s(e,t){s.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function u(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t=void 0===e?"undefined":I(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,h,d,f){f=f||[];var p=(h=h||[]).slice(0);if(void 0!==d){if(r){if("function"==typeof r&&r(p,d))return;if("object"===(void 0===r?"undefined":I(r))){if(r.prefilter&&r.prefilter(p,d))return;if(r.normalize){var m=r.normalize(p,d,e,t);m&&(e=m[0],t=m[1])}}}p.push(d)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var g=void 0===e?"undefined":I(e),y=void 0===t?"undefined":I(t),v="undefined"!==g||f&&f[f.length-1].lhs&&f[f.length-1].lhs.hasOwnProperty(d),b="undefined"!==y||f&&f[f.length-1].rhs&&f[f.length-1].rhs.hasOwnProperty(d);if(!v&&b)n(new o(p,t));else if(!b&&v)n(new s(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!=0)n(new i(p,e,t));else if("object"===g&&null!==e&&null!==t)if(f.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(f.push({lhs:e,rhs:t}),Array.isArray(e)){var w;for(e.length,w=0;w<e.length;w++)w>=t.length?n(new a(p,w,new s(void 0,e[w]))):l(e[w],t[w],n,r,p,w,f);for(;w<t.length;)n(new a(p,w,new o(void 0,t[w++])))}else{var _=Object.keys(e),E=Object.keys(t);_.forEach((function(i,o){var s=E.indexOf(i);s>=0?(l(e[i],t[i],n,r,p,i,f),E=u(E,s)):l(e[i],void 0,n,r,p,i,f)})),E.forEach((function(e){l(void 0,t[e],n,r,p,e,f)}))}f.length=f.length-1}else e!==t&&("number"===g&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function h(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function d(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":d(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=u(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function f(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,o=n.path?n.path.length-1:0;++i<o;)void 0===r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":d(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],o=n.path.length-1;for(r=0;r<o;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=u(e,t)}return e}function m(e){return"color: "+C[e].color+"; font-weight: bold"}function g(e,t,n,r){var i=h(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=function(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,o=e.index,s=e.item;switch(t){case"E":return[n.join("."),r,"→",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+o+"]",s];default:return[]}}(e);n.log.apply(n,["%c "+C[t].text,m(t)].concat(S(r)))})):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}function y(e,t,n,r){switch(void 0===e?"undefined":I(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,S(n)):e[r];case"function":return e(t);default:return e}}function v(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,o=void 0===i?function(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+r),n&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}(t):i,s=t.collapsed,a=t.colors,u=t.level,c=t.diff,l=void 0===t.titleFormatter;e.forEach((function(i,h){var d=i.started,f=i.startedTime,p=i.action,m=i.prevState,v=i.error,b=i.took,w=i.nextState,_=e[h+1];_&&(w=_.prevState,b=_.started-d);var E=r(p),T="function"==typeof s?s((function(){return w}),p,i):s,I=k(f),S=a.title?"color: "+a.title(E)+";":"",O=["color: gray; font-weight: lighter;"];O.push(S),t.timestamp&&O.push("color: gray; font-weight: lighter;"),t.duration&&O.push("color: gray; font-weight: lighter;");var C=o(E,I,b);try{T?a.title&&l?n.groupCollapsed.apply(n,["%c "+C].concat(O)):n.groupCollapsed(C):a.title&&l?n.group.apply(n,["%c "+C].concat(O)):n.group(C)}catch(e){n.log(C)}var N=y(u,E,[m],"prevState"),A=y(u,E,[E],"action"),x=y(u,E,[v,m],"error"),D=y(u,E,[w],"nextState");if(N)if(a.prevState){var P="color: "+a.prevState(m)+"; font-weight: bold";n[N]("%c prev state",P,m)}else n[N]("prev state",m);if(A)if(a.action){var R="color: "+a.action(E)+"; font-weight: bold";n[A]("%c action    ",R,E)}else n[A]("action    ",E);if(v&&x)if(a.error){var L="color: "+a.error(v,m)+"; font-weight: bold;";n[x]("%c error     ",L,v)}else n[x]("error     ",v);if(D)if(a.nextState){var M="color: "+a.nextState(w)+"; font-weight: bold";n[D]("%c next state",M,w)}else n[D]("next state",w);c&&g(m,w,n,T);try{n.groupEnd()}catch(e){n.log("—— log end ——")}}))}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},N,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,o=t.predicate,s=t.logErrors,a=t.diffPredicate;if(void 0===n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var u=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof o&&!o(n,c))return e(c);var l={};u.push(l),l.started=T.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var h=void 0;if(s)try{h=e(c)}catch(e){l.error=i(e)}else h=e(c);l.took=T.now()-l.started,l.nextState=r(n());var d=t.diff&&"function"==typeof a?a(n,c):t.diff;if(v(u,Object.assign({},t,{diff:d})),u.length=0,l.error)throw l.error;return h}}}}var w,_,E=function(e,t){return function(e,t){return new Array(t+1).join(e)}("0",t-e.toString().length)+e},k=function(e){return E(e.getHours(),2)+":"+E(e.getMinutes(),2)+":"+E(e.getSeconds(),2)+"."+E(e.getMilliseconds(),3)},T="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},O=[];w="object"===(void 0===n.g?"undefined":I(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(_=w.DeepDiff)&&O.push((function(){void 0!==_&&w.DeepDiff===h&&(w.DeepDiff=_,_=void 0)})),t(i,r),t(o,r),t(s,r),t(a,r),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:function(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||f(e,t,r)}))},enumerable:!0},applyChange:{value:f,enumerable:!0},revertChange:{value:function(e,t,n){if(e&&t&&n&&n.kind){var r,i,o=e;for(i=n.path.length-1,r=0;r<i;r++)void 0===o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":p(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}},enumerable:!0},isConflict:{value:function(){return void 0!==_},enumerable:!0},noConflict:{value:function(){return O&&(O.forEach((function(e){e()})),O=null),h},enumerable:!0}});var C={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},N={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?b()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=N,e.createLogger=b,e.logger=A,e.default=A,Object.defineProperty(e,"__esModule",{value:!0})}(t)},3488:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,i.default)(e);return{getItem:function(e){return new Promise((function(n,r){n(t.getItem(e))}))},setItem:function(e,n){return new Promise((function(r,i){r(t.setItem(e,n))}))},removeItem:function(e){return new Promise((function(n,r){n(t.removeItem(e))}))}}};var r,i=(r=n(7290))&&r.__esModule?r:{default:r}},7290:function(e,t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(){}t.__esModule=!0,t.default=function(e){var t="".concat(e,"Storage");return function(e){if("object"!==("undefined"==typeof self?"undefined":n(self))||!(e in self))return!1;try{var t=self[e],r="redux-persist ".concat(e," test");t.setItem(r,"test"),t.getItem(r),t.removeItem(r)}catch(e){return!1}return!0}(t)?self[t]:i};var i={getItem:r,setItem:r,removeItem:r}},6734:function(e,t,n){"use strict";var r;t.Z=void 0;var i=(0,((r=n(3488))&&r.__esModule?r:{default:r}).default)("local");t.Z=i},53:function(e,t){"use strict";var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,l=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,_=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+v;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,u=e[a];if(void 0!==s&&0>I(s,n))void 0!==u&&0>I(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],O=[],C=1,N=null,A=3,x=!1,D=!1,P=!1;function R(e){for(var t=k(O);null!==t;){if(null===t.callback)T(O);else{if(!(t.startTime<=e))break;T(O),t.sortIndex=t.expirationTime,E(S,t)}t=k(O)}}function L(e){if(P=!1,R(e),!D)if(null!==k(S))D=!0,n(M);else{var t=k(O);null!==t&&r(L,t.startTime-e)}}function M(e,n){D=!1,P&&(P=!1,i()),x=!0;var o=A;try{for(R(n),N=k(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=N.callback;if("function"==typeof s){N.callback=null,A=N.priorityLevel;var a=s(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?N.callback=a:N===k(S)&&T(S),R(n)}else T(S);N=k(S)}if(null!==N)var u=!0;else{var c=k(O);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{N=null,A=o,x=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||x||(D=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return k(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:s,expirationTime:u=s+u,sortIndex:-1},s>a?(e.sortIndex=s,E(O,e),null===k(S)&&e===k(O)&&(P?i():P=!0,r(L,s-a))):(e.sortIndex=u,E(S,e),D||x||(D=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},3840:function(e,t,n){"use strict";e.exports=n(53)},3379:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var u=e[a],c=r.base?u[0]+r.base:u[0],l=o[c]||0,h="".concat(c," ").concat(l);o[c]=l+1;var d=n(h),f={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=i(f,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:p,references:1})}s.push(h)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var u=r(e,i),c=0;c<o.length;c++){var l=n(o[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=u}}},569:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},655:function(e,t,n){"use strict";n.d(t,{ZT:function(){return i},pi:function(){return o},_T:function(){return s},mG:function(){return a},Jh:function(){return u},ev:function(){return c}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create},7462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})}},r={};function i(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e].call(o.exports,o,o.exports,i),o.exports}i.m=n,i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=function(e){return Promise.all(Object.keys(i.f).reduce((function(t,n){return i.f[n](e,t),t}),[]))},i.u=function(e){return e+".js"},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="eshop:",i.l=function(n,r,o,s){if(e[n])e[n].push(r);else{var a,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==t+o){a=h;break}}a||(u=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[r];var d=function(t,r){a.onerror=a.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),u&&document.head.appendChild(a)}},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e}(),function(){var e={179:0};i.f.j=function(t,n){var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=o);var s=i.p+i.u(t),a=new Error;i.l(s,(function(n){if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}}),"chunk-"+t,t)}};var t=function(t,n){var r,o,s=n[0],a=n[1],u=n[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(r in a)i.o(a,r)&&(i.m[r]=a[r]);u&&u(i)}for(t&&t(n);c<s.length;c++)o=s[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkeshop=self.webpackChunkeshop||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=i(7294),t=i(3935),n=i(3379),r=i.n(n),o=i(7795),s=i.n(o),a=i(569),u=i.n(a),c=i(3565),l=i.n(c),h=i(9216),d=i.n(h),f=i(4589),p=i.n(f),m=i(4800),g={};g.styleTagTransform=p(),g.setAttributes=l(),g.insert=u().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=d(),r()(m.Z,g),m.Z&&m.Z.locals&&m.Z.locals;var y=i(6974),v=i(4554),b={};b.styleTagTransform=p(),b.setAttributes=l(),b.insert=u().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=d(),r()(v.Z,b),v.Z&&v.Z.locals&&v.Z.locals;var w=i(5060),_={};function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}_.styleTagTransform=p(),_.setAttributes=l(),_.insert=u().bind(null,"head"),_.domAPI=s(),_.insertStyleElement=d(),r()(w.Z,_),w.Z&&w.Z.locals&&w.Z.locals;var k=({styles:t={},...n})=>e.createElement("svg",E({width:"50",height:"39",xmlns:"http://www.w3.org/2000/svg"},n),e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("path",{fill:"#808282",d:"M3 14l22 12.5L47 14l-6.145 25H9.085z"}),e.createElement("path",{fillOpacity:".263",fill:"#101A1A",d:"M25 8l15 31H10z"}),e.createElement("circle",{fill:"#5E6363",cx:"2",cy:"9",r:"2"}),e.createElement("circle",{fill:"#5E6363",cx:"25",cy:"2",r:"2"}),e.createElement("circle",{fill:"#5E6363",cx:"48",cy:"9",r:"2"}))),T=i(9711),I=i(4584),S=i(9704),O=i(5748),C=i(372),N={};N.styleTagTransform=p(),N.setAttributes=l(),N.insert=u().bind(null,"head"),N.domAPI=s(),N.insertStyleElement=d(),r()(C.Z,N),C.Z&&C.Z.locals&&C.Z.locals;var A=function(){var t=(0,S.v9)((function(e){return{hidden:e.cart.hidden}}));console.log(t);var n=(0,S.I0)(),r=(0,S.v9)((function(e){return{Total_Price:e.cart.cartItem.reduce((function(e,t){return e+t.quantity*t.price}),0)}})).Total_Price;return e.createElement("div",{className:"cart-icon"},e.createElement("i",{class:"fas fa-shopping-cart shopping-cart",onClick:function(){console.log("click"),n((0,O.Oi)((function(e){return{hidden:e.hidden}})))}}),e.createElement("span",{className:"item-count"},0===r?0:"".concat(r,"$")))},x=i(9041),D={};D.styleTagTransform=p(),D.setAttributes=l(),D.insert=u().bind(null,"head"),D.domAPI=s(),D.insertStyleElement=d(),r()(x.Z,D),x.Z&&x.Z.locals&&x.Z.locals;var P=i(108),R=i(4160),L={};L.styleTagTransform=p(),L.setAttributes=l(),L.insert=u().bind(null,"head"),L.domAPI=s(),L.insertStyleElement=d(),r()(R.Z,L),R.Z&&R.Z.locals&&R.Z.locals;var M=function(t){var n=t.id,r=t.imageUrl,i=t.name,o=t.price,s=t.quantity;return e.createElement("div",{className:"cart-item",key:n},e.createElement("img",{src:r,alt:"item"}),e.createElement("div",{className:"item-details"},e.createElement("span",{className:"name"},i),e.createElement("div",{className:"price-quantity"},e.createElement("span",{className:"quantity"},s," X "),e.createElement("span",{className:"price"}," $",o))))},F=function(){var t=(0,S.v9)((function(e){return{cartItem:e.cart.cartItem}}));console.log(t);var n=(0,y.s0)(),r=(0,S.I0)(),i=(0,S.v9)((function(e){return{Total_Quantity:e.cart.cartItem.reduce((function(e,t){return e+t.quantity}),0)}})).Total_Quantity,o=(0,S.v9)((function(e){return{Total_Price:e.cart.cartItem.reduce((function(e,t){return e+t.quantity*t.price}),0)}})).Total_Price;return console.log(i,o),e.createElement("div",{className:"cart-dropdown"},e.createElement("div",{className:"cart-items"},t.cartItem.length<=0?e.createElement("span",{className:"empty"},"Your cart is empty"):t.cartItem.map((function(t){return e.createElement(M,{id:t.id,imageUrl:t.imageUrl,price:t.price,quantity:t.quantity,name:t.name})}))),0===i?null:e.createElement("div",null,"Total Quantity: ",i),0===o?null:e.createElement("div",null,"Total Price: ",o,"$"),e.createElement(P.Z,{onClick:function(e){e.preventDefault(),n({pathname:"/checkout"}),r((0,O.Oi)((function(e){return{hidden:e.hidden}})))}},"Go to CheckOut"))},j="SET_CURRENT_USER",U="SIGN_OUT",V=function(){var t=(0,S.v9)((function(e){return e.user.User}));console.log(t);var n=(0,S.v9)((function(e){return{hidden:e.cart.hidden}}));console.log(n.hidden);var r=(0,S.I0)();return e.createElement("div",{className:"header"},e.createElement(T.rU,{to:"/",className:"logo-container"},e.createElement("img",{src:k,alt:"Logo",className:"logo"})),e.createElement("div",{className:"options"},e.createElement(T.rU,{to:"/shop",className:"option"},"Shop"),e.createElement(T.rU,{to:"/contact",className:"option"},"Contact Us"),e.createElement(T.rU,{to:!t&&"/signin",className:"option"},e.createElement("a",{onClick:function(e){I.I8.signOut().then(r({type:U,payload:undefined}))}},t?"Sign Out":"Sign In")),e.createElement(A,null)),!0===n.hidden?null:e.createElement(F,null))},q=i(655);function B(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}const z=/\r\n|[\n\r]/g;function Q(e,t){let n=0,r=1;for(const i of e.body.matchAll(z)){if("number"==typeof i.index||B(!1),i.index>=t)break;n=i.index+i[0].length,r+=1}return{line:r,column:t+1-n}}function $(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=1===t.line?n:0,u=t.column+a,c=`${e.name}:${s}:${u}\n`,l=r.split(/\r\n|[\n\r]/g),h=l[i];if(h.length>120){const e=Math.floor(u/80),t=u%80,n=[];for(let e=0;e<h.length;e+=80)n.push(h.slice(e,e+80));return c+W([[`${s} |`,n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return c+W([[s-1+" |",l[i-1]],[`${s} |`,h],["|","^".padStart(u)],[`${s+1} |`,l[i+1]]])}function W(e){const t=e.filter((([e,t])=>void 0!==t)),n=Math.max(...t.map((([e])=>e.length)));return t.map((([e,t])=>e.padStart(n)+(t?" "+t:""))).join("\n")}class K extends Error{constructor(e,...t){var n,r,i;const{nodes:o,source:s,positions:a,path:u,originalError:c,extensions:l}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(t);super(e),this.name="GraphQLError",this.path=null!=u?u:void 0,this.originalError=null!=c?c:void 0,this.nodes=G(Array.isArray(o)?o:o?[o]:void 0);const h=G(null===(n=this.nodes)||void 0===n?void 0:n.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!=s?s:null==h||null===(r=h[0])||void 0===r?void 0:r.source,this.positions=null!=a?a:null==h?void 0:h.map((e=>e.start)),this.locations=a&&s?a.map((e=>Q(s,e))):null==h?void 0:h.map((e=>Q(e.source,e.start)));const d="object"==typeof(f=null==c?void 0:c.extensions)&&null!==f?null==c?void 0:c.extensions:void 0;var f;this.extensions=null!==(i=null!=l?l:d)&&void 0!==i?i:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=c&&c.stack?Object.defineProperty(this,"stack",{value:c.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,K):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+="\n\n"+$((t=n.loc).source,Q(t.source,t.start)));else if(this.source&&this.locations)for(const t of this.locations)e+="\n\n"+$(this.source,t);var t;return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function G(e){return void 0===e||0===e.length?void 0:e}function H(e,t,n){return new K(`Syntax Error: ${n}`,void 0,e,[t])}class Y{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class J{constructor(e,t,n,r,i,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const X={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Z=new Set(Object.keys(X));function ee(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&Z.has(t)}let te,ne,re,ie;function oe(e){return 9===e||32===e}function se(e){return e>=48&&e<=57}function ae(e){return e>=97&&e<=122||e>=65&&e<=90}function ue(e){return ae(e)||95===e}function ce(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,i=-1;for(let t=0;t<e.length;++t){var o;const s=e[t],a=le(s);a!==s.length&&(r=null!==(o=r)&&void 0!==o?o:t,i=t,0!==t&&a<n&&(n=a))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,i+1)}function le(e){let t=0;for(;t<e.length&&oe(e.charCodeAt(t));)++t;return t}var he,de;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(te||(te={})),function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(ne||(ne={})),(de=re||(re={})).NAME="Name",de.DOCUMENT="Document",de.OPERATION_DEFINITION="OperationDefinition",de.VARIABLE_DEFINITION="VariableDefinition",de.SELECTION_SET="SelectionSet",de.FIELD="Field",de.ARGUMENT="Argument",de.FRAGMENT_SPREAD="FragmentSpread",de.INLINE_FRAGMENT="InlineFragment",de.FRAGMENT_DEFINITION="FragmentDefinition",de.VARIABLE="Variable",de.INT="IntValue",de.FLOAT="FloatValue",de.STRING="StringValue",de.BOOLEAN="BooleanValue",de.NULL="NullValue",de.ENUM="EnumValue",de.LIST="ListValue",de.OBJECT="ObjectValue",de.OBJECT_FIELD="ObjectField",de.DIRECTIVE="Directive",de.NAMED_TYPE="NamedType",de.LIST_TYPE="ListType",de.NON_NULL_TYPE="NonNullType",de.SCHEMA_DEFINITION="SchemaDefinition",de.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",de.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",de.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",de.FIELD_DEFINITION="FieldDefinition",de.INPUT_VALUE_DEFINITION="InputValueDefinition",de.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",de.UNION_TYPE_DEFINITION="UnionTypeDefinition",de.ENUM_TYPE_DEFINITION="EnumTypeDefinition",de.ENUM_VALUE_DEFINITION="EnumValueDefinition",de.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",de.DIRECTIVE_DEFINITION="DirectiveDefinition",de.SCHEMA_EXTENSION="SchemaExtension",de.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",de.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",de.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",de.UNION_TYPE_EXTENSION="UnionTypeExtension",de.ENUM_TYPE_EXTENSION="EnumTypeExtension",de.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension",(he=ie||(ie={})).SOF="<SOF>",he.EOF="<EOF>",he.BANG="!",he.DOLLAR="$",he.AMP="&",he.PAREN_L="(",he.PAREN_R=")",he.SPREAD="...",he.COLON=":",he.EQUALS="=",he.AT="@",he.BRACKET_L="[",he.BRACKET_R="]",he.BRACE_L="{",he.PIPE="|",he.BRACE_R="}",he.NAME="Name",he.INT="Int",he.FLOAT="Float",he.STRING="String",he.BLOCK_STRING="BlockString",he.COMMENT="Comment";class fe{constructor(e){const t=new J(ie.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==ie.EOF)do{if(e.next)e=e.next;else{const t=we(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===ie.COMMENT);return e}}function pe(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function me(e,t){return ge(e.charCodeAt(t))&&ye(e.charCodeAt(t+1))}function ge(e){return e>=55296&&e<=56319}function ye(e){return e>=56320&&e<=57343}function ve(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return ie.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":`"${e}"`}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function be(e,t,n,r,i){const o=e.line,s=1+n-e.lineStart;return new J(t,n,r,o,s,i)}function we(e,t){const n=e.source.body,r=n.length;let i=t;for(;i<r;){const t=n.charCodeAt(i);switch(t){case 65279:case 9:case 32:case 44:++i;continue;case 10:++i,++e.line,e.lineStart=i;continue;case 13:10===n.charCodeAt(i+1)?i+=2:++i,++e.line,e.lineStart=i;continue;case 35:return _e(e,i);case 33:return be(e,ie.BANG,i,i+1);case 36:return be(e,ie.DOLLAR,i,i+1);case 38:return be(e,ie.AMP,i,i+1);case 40:return be(e,ie.PAREN_L,i,i+1);case 41:return be(e,ie.PAREN_R,i,i+1);case 46:if(46===n.charCodeAt(i+1)&&46===n.charCodeAt(i+2))return be(e,ie.SPREAD,i,i+3);break;case 58:return be(e,ie.COLON,i,i+1);case 61:return be(e,ie.EQUALS,i,i+1);case 64:return be(e,ie.AT,i,i+1);case 91:return be(e,ie.BRACKET_L,i,i+1);case 93:return be(e,ie.BRACKET_R,i,i+1);case 123:return be(e,ie.BRACE_L,i,i+1);case 124:return be(e,ie.PIPE,i,i+1);case 125:return be(e,ie.BRACE_R,i,i+1);case 34:return 34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)?Ae(e,i):Te(e,i)}if(se(t)||45===t)return Ee(e,i,t);if(ue(t))return xe(e,i);throw H(e.source,i,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":pe(t)||me(n,i)?`Unexpected character: ${ve(e,i)}.`:`Invalid character: ${ve(e,i)}.`)}return be(e,ie.EOF,r,r)}function _e(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r;){const e=n.charCodeAt(i);if(10===e||13===e)break;if(pe(e))++i;else{if(!me(n,i))break;i+=2}}return be(e,ie.COMMENT,t,i,n.slice(t+1,i))}function Ee(e,t,n){const r=e.source.body;let i=t,o=n,s=!1;if(45===o&&(o=r.charCodeAt(++i)),48===o){if(o=r.charCodeAt(++i),se(o))throw H(e.source,i,`Invalid number, unexpected digit after 0: ${ve(e,i)}.`)}else i=ke(e,i,o),o=r.charCodeAt(i);if(46===o&&(s=!0,o=r.charCodeAt(++i),i=ke(e,i,o),o=r.charCodeAt(i)),69!==o&&101!==o||(s=!0,o=r.charCodeAt(++i),43!==o&&45!==o||(o=r.charCodeAt(++i)),i=ke(e,i,o),o=r.charCodeAt(i)),46===o||ue(o))throw H(e.source,i,`Invalid number, expected digit but got: ${ve(e,i)}.`);return be(e,s?ie.FLOAT:ie.INT,t,i,r.slice(t,i))}function ke(e,t,n){if(!se(n))throw H(e.source,t,`Invalid number, expected digit but got: ${ve(e,t)}.`);const r=e.source.body;let i=t+1;for(;se(r.charCodeAt(i));)++i;return i}function Te(e,t){const n=e.source.body,r=n.length;let i=t+1,o=i,s="";for(;i<r;){const r=n.charCodeAt(i);if(34===r)return s+=n.slice(o,i),be(e,ie.STRING,t,i+1,s);if(92!==r){if(10===r||13===r)break;if(pe(r))++i;else{if(!me(n,i))throw H(e.source,i,`Invalid character within String: ${ve(e,i)}.`);i+=2}}else{s+=n.slice(o,i);const t=117===n.charCodeAt(i+1)?123===n.charCodeAt(i+2)?Ie(e,i):Se(e,i):Ne(e,i);s+=t.value,i+=t.size,o=i}}throw H(e.source,i,"Unterminated string.")}function Ie(e,t){const n=e.source.body;let r=0,i=3;for(;i<12;){const e=n.charCodeAt(t+i++);if(125===e){if(i<5||!pe(r))break;return{value:String.fromCodePoint(r),size:i}}if(r=r<<4|Ce(e),r<0)break}throw H(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+i)}".`)}function Se(e,t){const n=e.source.body,r=Oe(n,t+2);if(pe(r))return{value:String.fromCodePoint(r),size:6};if(ge(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=Oe(n,t+8);if(ye(e))return{value:String.fromCodePoint(r,e),size:12}}throw H(e.source,t,`Invalid Unicode escape sequence: "${n.slice(t,t+6)}".`)}function Oe(e,t){return Ce(e.charCodeAt(t))<<12|Ce(e.charCodeAt(t+1))<<8|Ce(e.charCodeAt(t+2))<<4|Ce(e.charCodeAt(t+3))}function Ce(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Ne(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw H(e.source,t,`Invalid character escape sequence: "${n.slice(t,t+2)}".`)}function Ae(e,t){const n=e.source.body,r=n.length;let i=e.lineStart,o=t+3,s=o,a="";const u=[];for(;o<r;){const r=n.charCodeAt(o);if(34===r&&34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)){a+=n.slice(s,o),u.push(a);const r=be(e,ie.BLOCK_STRING,t,o+3,ce(u).join("\n"));return e.line+=u.length-1,e.lineStart=i,r}if(92!==r||34!==n.charCodeAt(o+1)||34!==n.charCodeAt(o+2)||34!==n.charCodeAt(o+3))if(10!==r&&13!==r)if(pe(r))++o;else{if(!me(n,o))throw H(e.source,o,`Invalid character within String: ${ve(e,o)}.`);o+=2}else a+=n.slice(s,o),u.push(a),13===r&&10===n.charCodeAt(o+1)?o+=2:++o,a="",s=o,i=o;else a+=n.slice(s,o),s=o+1,o+=4}throw H(e.source,o,"Unterminated string.")}function xe(e,t){const n=e.source.body,r=n.length;let i=t+1;for(;i<r&&(ae(o=n.charCodeAt(i))||se(o)||95===o);)++i;var o;return be(e,ie.NAME,t,i,n.slice(t,i))}function De(e,t){if(!Boolean(e))throw new Error(t)}function Pe(e){return Re(e,[])}function Re(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:Re(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,i=[];for(let r=0;r<n;++r)i.push(Re(e[r],t));return 1===r?i.push("... 1 more item"):r>1&&i.push(`... ${r} more items`),"["+i.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((([e,n])=>e+": "+Re(n,t)));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}class Le{constructor(e,t="GraphQL request",n={line:1,column:1}){"string"==typeof e||De(!1,`Body must be a string. Received: ${Pe(e)}.`),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||De(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||De(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class Me{constructor(e,t){const n=function(e){return e instanceof Le}(e)?e:new Le(e);this._lexer=new fe(n),this._options=t}parseName(){const e=this.expectToken(ie.NAME);return this.node(e,{kind:re.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:re.DOCUMENT,definitions:this.many(ie.SOF,this.parseDefinition,ie.EOF)})}parseDefinition(){if(this.peek(ie.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===ie.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw H(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(ie.BRACE_L))return this.node(e,{kind:re.OPERATION_DEFINITION,operation:te.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(ie.NAME)&&(n=this.parseName()),this.node(e,{kind:re.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(ie.NAME);switch(e.value){case"query":return te.QUERY;case"mutation":return te.MUTATION;case"subscription":return te.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(ie.PAREN_L,this.parseVariableDefinition,ie.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:re.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(ie.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(ie.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(ie.DOLLAR),this.node(e,{kind:re.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:re.SELECTION_SET,selections:this.many(ie.BRACE_L,this.parseSelection,ie.BRACE_R)})}parseSelection(){return this.peek(ie.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(ie.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:re.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(ie.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(ie.PAREN_L,t,ie.PAREN_R)}parseArgument(e=!1){const t=this._lexer.token,n=this.parseName();return this.expectToken(ie.COLON),this.node(t,{kind:re.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(ie.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(ie.NAME)?this.node(e,{kind:re.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:re.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){var e;const t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacyFragmentVariables)?this.node(t,{kind:re.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:re.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case ie.BRACKET_L:return this.parseList(e);case ie.BRACE_L:return this.parseObject(e);case ie.INT:return this._lexer.advance(),this.node(t,{kind:re.INT,value:t.value});case ie.FLOAT:return this._lexer.advance(),this.node(t,{kind:re.FLOAT,value:t.value});case ie.STRING:case ie.BLOCK_STRING:return this.parseStringLiteral();case ie.NAME:switch(this._lexer.advance(),t.value){case"true":return this.node(t,{kind:re.BOOLEAN,value:!0});case"false":return this.node(t,{kind:re.BOOLEAN,value:!1});case"null":return this.node(t,{kind:re.NULL});default:return this.node(t,{kind:re.ENUM,value:t.value})}case ie.DOLLAR:if(e){if(this.expectToken(ie.DOLLAR),this._lexer.token.kind===ie.NAME){const e=this._lexer.token.value;throw H(this._lexer.source,t.start,`Unexpected variable "$${e}" in constant value.`)}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this._lexer.advance(),this.node(e,{kind:re.STRING,value:e.value,block:e.kind===ie.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:re.LIST,values:this.any(ie.BRACKET_L,(()=>this.parseValueLiteral(e)),ie.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:re.OBJECT,fields:this.any(ie.BRACE_L,(()=>this.parseObjectField(e)),ie.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(ie.COLON),this.node(t,{kind:re.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(ie.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(ie.AT),this.node(t,{kind:re.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(ie.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(ie.BRACKET_R),t=this.node(e,{kind:re.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(ie.BANG)?this.node(e,{kind:re.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:re.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(ie.STRING)||this.peek(ie.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(ie.BRACE_L,this.parseOperationTypeDefinition,ie.BRACE_R);return this.node(e,{kind:re.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(ie.COLON);const n=this.parseNamedType();return this.node(e,{kind:re.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:re.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:re.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(ie.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(ie.BRACE_L,this.parseFieldDefinition,ie.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(ie.COLON);const i=this.parseTypeReference(),o=this.parseConstDirectives();return this.node(e,{kind:re.FIELD_DEFINITION,description:t,name:n,arguments:r,type:i,directives:o})}parseArgumentDefs(){return this.optionalMany(ie.PAREN_L,this.parseInputValueDef,ie.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(ie.COLON);const r=this.parseTypeReference();let i;this.expectOptionalToken(ie.EQUALS)&&(i=this.parseConstValueLiteral());const o=this.parseConstDirectives();return this.node(e,{kind:re.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:i,directives:o})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),i=this.parseConstDirectives(),o=this.parseFieldsDefinition();return this.node(e,{kind:re.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:i,fields:o})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseUnionMemberTypes();return this.node(e,{kind:re.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:i})}parseUnionMemberTypes(){return this.expectOptionalToken(ie.EQUALS)?this.delimitedMany(ie.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseEnumValuesDefinition();return this.node(e,{kind:re.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:i})}parseEnumValuesDefinition(){return this.optionalMany(ie.BRACE_L,this.parseEnumValueDefinition,ie.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:re.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw H(this._lexer.source,this._lexer.token.start,`${Fe(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),i=this.parseInputFieldsDefinition();return this.node(e,{kind:re.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:i})}parseInputFieldsDefinition(){return this.optionalMany(ie.BRACE_L,this.parseInputValueDef,ie.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===ie.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(ie.BRACE_L,this.parseOperationTypeDefinition,ie.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:re.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:re.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:re.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),i=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===i.length)throw this.unexpected();return this.node(e,{kind:re.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:i})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:re.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:re.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:re.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(ie.AT);const n=this.parseName(),r=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const o=this.parseDirectiveLocations();return this.node(e,{kind:re.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:i,locations:o})}parseDirectiveLocations(){return this.delimitedMany(ie.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(ne,t.value))return t;throw this.unexpected(e)}node(e,t){var n;return!0!==(null===(n=this._options)||void 0===n?void 0:n.noLocation)&&(t.loc=new Y(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw H(this._lexer.source,t.start,`Expected ${je(e)}, found ${Fe(t)}.`)}expectOptionalToken(e){return this._lexer.token.kind===e&&(this._lexer.advance(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==ie.NAME||t.value!==e)throw H(this._lexer.source,t.start,`Expected "${e}", found ${Fe(t)}.`);this._lexer.advance()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===ie.NAME&&t.value===e&&(this._lexer.advance(),!0)}unexpected(e){const t=null!=e?e:this._lexer.token;return H(this._lexer.source,t.start,`Unexpected ${Fe(t)}.`)}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}}function Fe(e){const t=e.value;return je(e.kind)+(null!=t?` "${t}"`:"")}function je(e){return function(e){return e===ie.BANG||e===ie.DOLLAR||e===ie.AMP||e===ie.PAREN_L||e===ie.PAREN_R||e===ie.SPREAD||e===ie.COLON||e===ie.EQUALS||e===ie.AT||e===ie.BRACKET_L||e===ie.BRACKET_R||e===ie.BRACE_L||e===ie.PIPE||e===ie.BRACE_R}(e)?`"${e}"`:e}var Ue=new Map,Ve=new Map,qe=!0,Be=!1;function ze(e){return e.replace(/[\s,]+/g," ").trim()}function Qe(e){var t,n,r,i=ze(e);if(!Ue.has(i)){var o=function(e,t){return new Me(e,t).parseDocument()}(e,{experimentalFragmentVariables:Be,allowLegacyFragmentVariables:Be});if(!o||"Document"!==o.kind)throw new Error("Not a valid GraphQL document.");Ue.set(i,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"==typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}((t=o,n=new Set,r=[],t.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var t=e.name.value,i=ze((s=e.loc).source.body.substring(s.start,s.end)),o=Ve.get(t);o&&!o.has(i)?qe&&console.warn("Warning: fragment with name "+t+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):o||Ve.set(t,o=new Set),o.add(i),n.has(i)||(n.add(i),r.push(e))}else r.push(e);var s})),(0,q.pi)((0,q.pi)({},t),{definitions:r}))))}return Ue.get(i)}function $e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"==typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),Qe(r)}var We,Ke=$e;(We=$e||($e={})).gql=Ke,We.resetCaches=function(){Ue.clear(),Ve.clear()},We.disableFragmentWarnings=function(){qe=!1},We.enableExperimentalFragmentVariables=function(){Be=!0},We.disableExperimentalFragmentVariables=function(){Be=!1},$e.default=$e;var Ge=Object.prototype,He=Ge.toString,Ye=Ge.hasOwnProperty,Je=Function.prototype.toString,Xe=new Map;function Ze(e,t){try{return et(e,t)}finally{Xe.clear()}}function et(e,t){if(e===t)return!0;var n,r,i,o=He.call(e);if(o!==He.call(t))return!1;switch(o){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":if(it(e,t))return!0;var s=tt(e),a=tt(t),u=s.length;if(u!==a.length)return!1;for(var c=0;c<u;++c)if(!Ye.call(t,s[c]))return!1;for(c=0;c<u;++c){var l=s[c];if(!et(e[l],t[l]))return!1}return!0;case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!=e)return t!=t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==""+t;case"[object Map]":case"[object Set]":if(e.size!==t.size)return!1;if(it(e,t))return!0;for(var h=e.entries(),d="[object Map]"===o;;){var f=h.next();if(f.done)break;var p=f.value,m=p[0],g=p[1];if(!t.has(m))return!1;if(d&&!et(g,t.get(m)))return!1}return!0;case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":var y=e.byteLength;if(y===t.byteLength)for(;y--&&e[y]===t[y];);return-1===y;case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":var v=Je.call(e);return v===Je.call(t)&&(r=rt,!((i=(n=v).length-r.length)>=0&&n.indexOf(r,i)===i))}return!1}function tt(e){return Object.keys(e).filter(nt,e)}function nt(e){return void 0!==this[e]}var rt="{ [native code] }";function it(e,t){var n=Xe.get(e);if(n){if(n.has(t))return!0}else Xe.set(e,n=new Set);return n.add(t),!1}var ot="Invariant Violation",st=Object.setPrototypeOf,at=void 0===st?function(e,t){return e.__proto__=t,e}:st,ut=function(e){function t(n){void 0===n&&(n=ot);var r=e.call(this,"number"==typeof n?ot+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=ot,at(r,t.prototype),r}return(0,q.ZT)(t,e),t}(Error);function ct(e,t){if(!e)throw new ut(t)}var lt=["debug","log","warn","error","silent"],ht=lt.indexOf("log");function dt(e){return function(){if(lt.indexOf(e)>=ht){var t=console[e]||console.log;return t.apply(console,arguments)}}}function ft(e){try{return e()}catch(e){}}!function(e){e.debug=dt("debug"),e.log=dt("log"),e.warn=dt("warn"),e.error=dt("error")}(ct||(ct={}));var pt=ft((function(){return globalThis}))||ft((function(){return window}))||ft((function(){return self}))||ft((function(){return global}))||ft((function(){return ft.constructor("return this")()})),mt="__",gt=[mt,mt].join("DEV"),yt=function(){try{return Boolean(__DEV__)}catch(e){return Object.defineProperty(pt,gt,{value:"production"!==ft((function(){return"production"})),enumerable:!1,configurable:!0,writable:!0}),pt[gt]}}();function vt(e){try{return e()}catch(e){}}var bt=vt((function(){return globalThis}))||vt((function(){return window}))||vt((function(){return self}))||vt((function(){return i.g}))||vt((function(){return vt.constructor("return this")()})),wt=!1;function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t,n){return t&&Et(e.prototype,t),n&&Et(e,n),e}!bt||vt((function(){return"production"}))||vt((function(){return process}))||(Object.defineProperty(bt,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),wt=!0),wt&&(delete bt.process,wt=!1),__DEV__?ct("boolean"==typeof yt,yt):ct("boolean"==typeof yt,36);var Tt=function(){return"function"==typeof Symbol},It=function(e){return Tt()&&Boolean(Symbol[e])},St=function(e){return It(e)?Symbol[e]:"@@"+e};Tt()&&!It("observable")&&(Symbol.observable=Symbol("observable"));var Ot=St("iterator"),Ct=St("observable"),Nt=St("species");function At(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function xt(e){var t=e.constructor;return void 0!==t&&null===(t=t[Nt])&&(t=void 0),void 0!==t?t:qt}function Dt(e){return e instanceof qt}function Pt(e){Pt.log?Pt.log(e):setTimeout((function(){throw e}))}function Rt(e){Promise.resolve().then((function(){try{e()}catch(e){Pt(e)}}))}function Lt(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=At(t,"unsubscribe");n&&n.call(t)}}catch(e){Pt(e)}}function Mt(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function Ft(e,t,n){e._state="running";var r=e._observer;try{var i=At(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(Mt(e),!i)throw n;i.call(r,n);break;case"complete":Mt(e),i&&i.call(r)}}catch(e){Pt(e)}"closed"===e._state?Lt(e):"running"===e._state&&(e._state="ready")}function jt(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void Rt((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(Ft(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void Ft(e,t,n);e._queue.push({type:t,value:n})}}var Ut=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new Vt(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(Mt(this),Lt(this))},kt(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),Vt=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){jt(this._subscription,"next",e)},t.error=function(e){jt(this._subscription,"error",e)},t.complete=function(){jt(this._subscription,"complete")},kt(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),qt=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"==typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new Ut(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(xt(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(xt(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return n.error(e)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=xt(this),r=arguments.length>1,i=!1,o=arguments[1],s=o;return new n((function(n){return t.subscribe({next:function(t){var o=!i;if(i=!0,!o||r)try{s=e(s,t)}catch(e){return n.error(e)}else s=t},error:function(e){n.error(e)},complete:function(){if(!i&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(s),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=xt(this);return new i((function(t){var r,o=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===n.length?(r=void 0,t.complete()):e(i.from(n[o++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var n=xt(this);return new n((function(r){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return r.error(e)}var o=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),s()}});i.push(o)},error:function(e){r.error(e)},complete:function(){s()}});function s(){o.closed&&0===i.length&&r.complete()}return function(){i.forEach((function(e){return e.unsubscribe()})),o.unsubscribe()}}))},t[Ct]=function(){return this},e.from=function(t){var n="function"==typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=At(t,Ct);if(r){var i=r.call(t);if(Object(i)!==i)throw new TypeError(i+" is not an object");return Dt(i)&&i.constructor===n?i:new n((function(e){return i.subscribe(e)}))}if(It("iterator")&&(r=At(t,Ot)))return new n((function(e){Rt((function(){if(!e.closed){for(var n,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r.call(t));!(n=i()).done;){var o=n.value;if(e.next(o),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){Rt((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i="function"==typeof this?this:e;return new i((function(e){Rt((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},kt(e,null,[{key:Nt,get:function(){return this}}]),e}();function Bt(e){return null!==e&&"object"==typeof e}function zt(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw __DEV__?new ut("Found a ".concat(e.operation," operation").concat(e.name?" named '".concat(e.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new ut(41);"FragmentDefinition"===e.kind&&r.push(e)})),void 0===n&&(__DEV__?ct(1===r.length,"Found ".concat(r.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):ct(1===r.length,42),n=r[0].name.value),(0,q.pi)((0,q.pi)({},e),{definitions:(0,q.ev)([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function Qt(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function $t(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=t&&t[e.name.value];return __DEV__?ct(n,"No fragment named ".concat(e.name.value,".")):ct(n,43),n;default:return null}}function Wt(e){return{__ref:String(e)}}function Kt(e){return Boolean(e&&"object"==typeof e&&"string"==typeof e.__ref)}function Gt(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var i={};n.fields.map((function(e){return Gt(i,e.name,e.value,r)})),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(n)){var o=(r||{})[n.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return Gt(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw __DEV__?new ut('The inline argument "'.concat(t.value,'" of kind "').concat(n.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new ut(52);e[t.value]=null}}Tt()&&Object.defineProperty(qt,Symbol("extensions"),{value:{symbol:Ct,hostReportError:Pt},configurable:!0});var Ht=["connection","include","skip","client","rest","export"],Yt=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var i={};return r.forEach((function(e){i[e]=t[e]})),"".concat(n.connection.key,"(").concat(Jt(i),")")}return n.connection.key}var o=e;if(t){var s=Jt(t);o+="(".concat(s,")")}return n&&Object.keys(n).forEach((function(e){-1===Ht.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?o+="@".concat(e,"(").concat(Jt(n[e]),")"):o+="@".concat(e))})),o}),{setStringify:function(e){var t=Jt;return Jt=e,t}}),Jt=function(e){return JSON.stringify(e,Xt)};function Xt(e,t){return Bt(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{})),t}function Zt(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,i=e.value;return Gt(n,r,i,t)})),n}return null}function en(e){return e.alias?e.alias.value:e.name.value}function tn(e,t,n){if("string"==typeof e.__typename)return e.__typename;for(var r=0,i=t.selections;r<i.length;r++){var o=i[r];if(nn(o)){if("__typename"===o.name.value)return e[en(o)]}else{var s=tn(e,$t(o,n).selectionSet,n);if("string"==typeof s)return s}}}function nn(e){return"Field"===e.kind}function rn(e){return"InlineFragment"===e.kind}function on(e){__DEV__?ct(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):ct(e&&"Document"===e.kind,44);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw __DEV__?new ut('Schema type definitions not allowed in queries. Found: "'.concat(e.kind,'"')):new ut(45);return e}));return __DEV__?ct(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):ct(t.length<=1,46),e}function sn(e){return on(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function an(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&e.name})).map((function(e){return e.name.value}))[0]||null}function un(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function cn(e){var t=sn(e);return __DEV__?ct(t&&"query"===t.operation,"Must contain a query definition."):ct(t&&"query"===t.operation,47),t}function ln(e){var t;on(e);for(var n=0,r=e.definitions;n<r.length;n++){var i=r[n];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw __DEV__?new ut("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new ut(51)}function hn(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&Gt(t,e.variable.name,e.defaultValue)})),t}function dn(e,t){return t?t(e):qt.of()}function fn(e){return"function"==typeof e?new gn(e):e}function pn(e){return e.request.length<=1}var mn=function(e){function t(t,n){var r=e.call(this,t)||this;return r.link=n,r}return(0,q.ZT)(t,e),t}(Error),gn=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return qt.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(fn).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var i=fn(n),o=fn(r||new e(dn));return pn(i)&&pn(o)?new e((function(e){return t(e)?i.request(e)||qt.of():o.request(e)||qt.of()})):new e((function(e,n){return t(e)?i.request(e,n)||qt.of():o.request(e,n)||qt.of()}))},e.execute=function(e,t){return e.request(function(e,t){var n=(0,q.pi)({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n="function"==typeof e?(0,q.pi)((0,q.pi)({},n),e(n)):(0,q.pi)((0,q.pi)({},n),e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return(0,q.pi)({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?an(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(t.indexOf(i)<0)throw __DEV__?new ut("illegal argument: ".concat(i)):new ut(24)}return e}(t))))||qt.of()},e.concat=function(t,n){var r=fn(t);if(pn(r))return __DEV__&&ct.warn(new mn("You are calling concat on a terminating link, which will have no effect",r)),r;var i=fn(n);return pn(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||qt.of()}))||qt.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||qt.of()}))||qt.of()}))},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(dn)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw __DEV__?new ut("request is not implemented"):new ut(19)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),yn=gn.execute;function vn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}const bn=Object.freeze({});function wn(e,t,n=X){const r=new Map;for(const e of Object.values(re))r.set(e,_n(t,e));let i,o,s,a=Array.isArray(e),u=[e],c=-1,l=[],h=e;const d=[],f=[];do{c++;const e=c===u.length,y=e&&0!==l.length;if(e){if(o=0===f.length?void 0:d[d.length-1],h=s,s=f.pop(),y)if(a){h=h.slice();let e=0;for(const[t,n]of l){const r=t-e;null===n?(h.splice(r,1),e++):h[r]=n}}else{h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h));for(const[e,t]of l)h[e]=t}c=i.index,u=i.keys,l=i.edits,a=i.inArray,i=i.prev}else if(s){if(o=a?c:u[c],h=s[o],null==h)continue;d.push(o)}let v;if(!Array.isArray(h)){var p,m;ee(h)||De(!1,`Invalid AST Node: ${Pe(h)}.`);const n=e?null===(p=r.get(h.kind))||void 0===p?void 0:p.leave:null===(m=r.get(h.kind))||void 0===m?void 0:m.enter;if(v=null==n?void 0:n.call(t,h,o,s,d,f),v===bn)break;if(!1===v){if(!e){d.pop();continue}}else if(void 0!==v&&(l.push([o,v]),!e)){if(!ee(v)){d.pop();continue}h=v}}var g;void 0===v&&y&&l.push([o,h]),e?d.pop():(i={inArray:a,index:c,keys:u,edits:l,prev:i},a=Array.isArray(h),u=a?h:null!==(g=n[h.kind])&&void 0!==g?g:[],c=-1,l=[],s&&f.push(s),s=h)}while(void 0!==i);return 0!==l.length?l[l.length-1][1]:e}function _n(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}var En=function(e,t){var n;try{n=JSON.stringify(e)}catch(e){var r=__DEV__?new ut("Network request failed. ".concat(t," is not serializable: ").concat(e.message)):new ut(21);throw r.parseError=e,r}return n},kn=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r},Tn=Object.prototype.hasOwnProperty;const In=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function Sn(e){return On[e.charCodeAt(0)]}const On=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];function Cn(e){return wn(e,Nn)}const Nn={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>An(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=Dn("(",An(e.variableDefinitions,", "),")"),n=An([e.operation,An([e.name,t]),An(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+Dn(" = ",n)+Dn(" ",An(r," "))},SelectionSet:{leave:({selections:e})=>xn(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=Dn("",e,": ")+t;let s=o+Dn("(",An(n,", "),")");return s.length>80&&(s=o+Dn("(\n",Pn(An(n,"\n")),"\n)")),An([s,An(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Dn(" ",An(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>An(["...",Dn("on ",e),An(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${Dn("(",An(n,", "),")")} on ${t} ${Dn("",An(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?function(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),i=1===r.length,o=r.length>1&&r.slice(1).every((e=>0===e.length||oe(e.charCodeAt(0)))),s=n.endsWith('\\"""'),a=e.endsWith('"')&&!s,u=e.endsWith("\\"),c=a||u,l=!i||e.length>70||c||o||s;let h="";const d=i&&oe(e.charCodeAt(0));return(l&&!d||o)&&(h+="\n"),h+=n,(l||c)&&(h+="\n"),'"""'+h+'"""'}(e):`"${e.replace(In,Sn)}"`},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+An(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+An(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Dn("(",An(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>Dn("",e,"\n")+An(["schema",An(t," "),xn(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>Dn("",e,"\n")+An(["scalar",t,An(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>Dn("",e,"\n")+An(["type",t,Dn("implements ",An(n," & ")),An(r," "),xn(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>Dn("",e,"\n")+t+(Rn(n)?Dn("(\n",Pn(An(n,"\n")),"\n)"):Dn("(",An(n,", "),")"))+": "+r+Dn(" ",An(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>Dn("",e,"\n")+An([t+": "+n,Dn("= ",r),An(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>Dn("",e,"\n")+An(["interface",t,Dn("implements ",An(n," & ")),An(r," "),xn(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>Dn("",e,"\n")+An(["union",t,An(n," "),Dn("= ",An(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>Dn("",e,"\n")+An(["enum",t,An(n," "),xn(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>Dn("",e,"\n")+An([t,An(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>Dn("",e,"\n")+An(["input",t,An(n," "),xn(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>Dn("",e,"\n")+"directive @"+t+(Rn(n)?Dn("(\n",Pn(An(n,"\n")),"\n)"):Dn("(",An(n,", "),")"))+(r?" repeatable":"")+" on "+An(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>An(["extend schema",An(e," "),xn(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>An(["extend scalar",e,An(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>An(["extend type",e,Dn("implements ",An(t," & ")),An(n," "),xn(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>An(["extend interface",e,Dn("implements ",An(t," & ")),An(n," "),xn(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>An(["extend union",e,An(t," "),Dn("= ",An(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>An(["extend enum",e,An(t," "),xn(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>An(["extend input",e,An(t," "),xn(n)]," ")}};function An(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function xn(e){return Dn("{\n",Pn(An(e,"\n")),"\n}")}function Dn(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function Pn(e){return Dn("  ",e.replace(/\n/g,"\n  "))}function Rn(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}var Ln={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Mn=function(e,t){return t(e)};function Fn(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i={},o={};n.forEach((function(e){i=(0,q.pi)((0,q.pi)((0,q.pi)({},i),e.options),{headers:(0,q.pi)((0,q.pi)({},i.headers),jn(e.headers))}),e.credentials&&(i.credentials=e.credentials),o=(0,q.pi)((0,q.pi)({},o),e.http)}));var s=e.operationName,a=e.extensions,u=e.variables,c=e.query,l={operationName:s,variables:u};return o.includeExtensions&&(l.extensions=a),o.includeQuery&&(l.query=t(c,Cn)),{options:i,body:l}}function jn(e){if(e){var t=Object.create(null);return Object.keys(Object(e)).forEach((function(n){t[n.toLowerCase()]=e[n]})),t}return e}function Un(e){return new qt((function(t){t.error(e)}))}var Vn,qn,Bn=ft((function(){return fetch})),zn=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,i=e.print,o=void 0===i?Mn:i,s=e.includeExtensions,a=e.useGETForQueries,u=e.includeUnusedVariables,c=void 0!==u&&u,l=(0,q._T)(e,["uri","fetch","print","includeExtensions","useGETForQueries","includeUnusedVariables"]);__DEV__&&function(e){if(!e&&"undefined"==typeof fetch)throw __DEV__?new ut("\n\"fetch\" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:\n\nimport fetch from 'cross-fetch';\nimport { ApolloClient, HttpLink } from '@apollo/client';\nconst client = new ApolloClient({\n  link: new HttpLink({ uri: '/graphql', fetch })\n});\n    "):new ut(20)}(r||Bn);var h={http:{includeExtensions:s},options:l.fetchOptions,credentials:l.credentials,headers:l.headers};return new gn((function(e){var t=function(e,t){return e.getContext().uri||("function"==typeof t?t(e):t||"/graphql")}(e,n),i=e.getContext(),s={};if(i.clientAwareness){var u=i.clientAwareness,l=u.name,d=u.version;l&&(s["apollographql-client-name"]=l),d&&(s["apollographql-client-version"]=d)}var f,p=(0,q.pi)((0,q.pi)({},s),i.headers),m={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:p},g=Fn(e,o,Ln,h,m),y=g.options,v=g.body;if(v.variables&&!c){var b=new Set(Object.keys(v.variables));wn(e.query,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&b.delete(e.name.value)}}),b.size&&(v.variables=(0,q.pi)({},v.variables),b.forEach((function(e){delete v.variables[e]})))}if(!y.signal){var w=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),_=w.controller,E=w.signal;(f=_)&&(y.signal=E)}if(a&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(y.method="GET"),"GET"===y.method){var k=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var i=void 0;try{i=En(t.variables,"Variables map")}catch(e){return{parseError:e}}r("variables",i)}if(t.extensions){var o=void 0;try{o=En(t.extensions,"Extensions map")}catch(e){return{parseError:e}}r("extensions",o)}var s="",a=e,u=e.indexOf("#");-1!==u&&(s=e.substr(u),a=e.substr(0,u));var c=-1===a.indexOf("?")?"?":"&";return{newURI:a+c+n.join("&")+s}}(t,v),T=k.newURI,I=k.parseError;if(I)return Un(I);t=T}else try{y.body=En(v,"Payload")}catch(I){return Un(I)}return new qt((function(n){var i;return(r||ft((function(){return fetch}))||Bn)(t,y).then((function(t){return e.setContext({response:t}),t})).then((i=e,function(e){return e.text().then((function(t){try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}})).then((function(t){return e.status>=300&&kn(e,t,"Response not successful: Received status code ".concat(e.status)),Array.isArray(t)||Tn.call(t,"data")||Tn.call(t,"errors")||kn(e,t,"Server response was missing for query '".concat(Array.isArray(i)?i.map((function(e){return e.operationName})):i.operationName,"'.")),t}))})).then((function(e){return n.next(e),n.complete(),e})).catch((function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&n.next(e.result),n.error(e))})),function(){f&&f.abort()}}))}))},Qn=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,zn(t).request)||this;return n.options=t,n}return(0,q.ZT)(t,e),t}(gn),$n=function(){return Object.create(null)},Wn=Array.prototype,Kn=Wn.forEach,Gn=Wn.slice,Hn=function(){function e(e,t){void 0===e&&(e=!0),void 0===t&&(t=$n),this.weakness=e,this.makeData=t}return e.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},e.prototype.lookupArray=function(e){var t=this;return Kn.call(e,(function(e){return t=t.getChildTrie(e)})),t.data||(t.data=this.makeData(Gn.call(e)))},e.prototype.getChildTrie=function(t){var n=this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(t);return r||n.set(t,r=new e(this.weakness,this.makeData)),r},e}(),Yn="function"==typeof WeakMap&&!("object"==typeof navigator&&"ReactNative"===navigator.product),Jn="function"==typeof WeakSet,Xn="function"==typeof Symbol&&"function"==typeof Symbol.for,Zn=function(){function e(){this.known=new(Jn?WeakSet:Set),this.pool=new Hn(Yn),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return Bt(e)&&this.known.has(e)},e.prototype.pass=function(e){if(Bt(e)){var t=function(e){return Bt(e)?Array.isArray(e)?e.slice(0):(0,q.pi)({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(Bt(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(a=this.pool.lookupArray(r)).array||(this.known.add(a.array=r),__DEV__&&Object.freeze(r)),a.array;case null:case Object.prototype:if(this.known.has(e))return e;var i=Object.getPrototypeOf(e),o=[i],s=this.sortedKeys(e);o.push(s.json);var a,u=o.length;if(s.sorted.forEach((function(n){o.push(t.admit(e[n]))})),!(a=this.pool.lookupArray(o)).object){var c=a.object=Object.create(i);this.known.add(c),s.sorted.forEach((function(e,t){c[e]=o[u+t]})),__DEV__&&Object.freeze(c)}return a.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}(),er=Object.assign((function(e){if(Bt(e)){void 0===Vn&&tr();var t=Vn.admit(e),n=qn.get(t);return void 0===n&&qn.set(t,n=JSON.stringify(t)),n}return JSON.stringify(e)}),{reset:tr});function tr(){Vn=new Zn,qn=new(Yn?WeakMap:Map)}function nr(e,t,n){return new qt((function(r){var i=r.next,o=r.error,s=r.complete,a=0,u=!1,c={then:function(e){return new Promise((function(t){return t(e())}))}};function l(e,t){return e?function(t){++a;var n=function(){return e(t)};c=c.then(n,n).then((function(e){--a,i&&i.call(r,e),u&&h.complete()}),(function(e){throw--a,e})).catch((function(e){o&&o.call(r,e)}))}:function(e){return t&&t.call(r,e)}}var h={next:l(t,i),error:l(n,o),complete:function(){u=!0,a||s&&s.call(r)}},d=e.subscribe(h);return function(){return d.unsubscribe()}}))}function rr(e){return e.errors&&e.errors.length>0||!1}function ir(e,t,n){var r=0;return e.forEach((function(n,i){t.call(this,n,i,e)&&(e[r++]=n)}),n),e.length=r,e}var or={kind:"Field",name:{kind:"Name",value:"__typename"}};function sr(e,t){return e.selectionSet.selections.every((function(e){return"FragmentSpread"===e.kind&&sr(t[e.name.value],t)}))}function ar(e){return sr(sn(e)||function(e){__DEV__?ct("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):ct("Document"===e.kind,48),__DEV__?ct(e.definitions.length<=1,"Fragment must have exactly one definition."):ct(e.definitions.length<=1,49);var t=e.definitions[0];return __DEV__?ct("FragmentDefinition"===t.kind,"Must be a fragment definition."):ct("FragmentDefinition"===t.kind,50),t}(e),Qt(un(e)))?null:e}function ur(e){return function(t){return e.some((function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)}))}}function cr(e,t){var n=Object.create(null),r=[],i=Object.create(null),o=[],s=ar(wn(t,{Variable:{enter:function(e,t,r){"VariableDefinition"!==r.kind&&(n[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&e.some((function(e){return e.remove}))&&t.directives&&t.directives.some(ur(e)))return t.arguments&&t.arguments.forEach((function(e){"Variable"===e.value.kind&&r.push({name:e.value.name.value})})),t.selectionSet&&dr(t.selectionSet).forEach((function(e){o.push({name:e.name.value})})),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(ur(e)(t))return null}}}));return s&&ir(r,(function(e){return!!e.name&&!n[e.name]})).length&&(s=function(e,t){var n=function(e){return function(t){return e.some((function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))}))}}(e);return ar(wn(t,{OperationDefinition:{enter:function(t){return(0,q.pi)((0,q.pi)({},t),{variableDefinitions:t.variableDefinitions?t.variableDefinitions.filter((function(t){return!e.some((function(e){return e.name===t.variable.name.value}))})):[]})}},Field:{enter:function(t){if(e.some((function(e){return e.remove}))){var r=0;if(t.arguments&&t.arguments.forEach((function(e){n(e)&&(r+=1)})),1===r)return null}}},Argument:{enter:function(e){if(n(e))return null}}}))}(r,s)),s&&ir(o,(function(e){return!!e.name&&!i[e.name]})).length&&(s=function(e,t){function n(t){if(e.some((function(e){return e.name===t.name.value})))return null}return ar(wn(t,{FragmentSpread:{enter:n},FragmentDefinition:{enter:n}}))}(o,s)),s}var lr=Object.assign((function(e){return wn(on(e),{SelectionSet:{enter:function(e,t,n){if(!n||"OperationDefinition"!==n.kind){var r=e.selections;if(r&&!r.some((function(e){return nn(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}))){var i=n;if(!(nn(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return(0,q.pi)((0,q.pi)({},e),{selections:(0,q.ev)((0,q.ev)([],r,!0),[or],!1)})}}}}})}),{added:function(e){return e===or}}),hr={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some((function(e){return"key"===e.name.value}))||__DEV__&&ct.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function dr(e){var t=[];return e.selections.forEach((function(e){(nn(e)||rn(e))&&e.selectionSet?dr(e.selectionSet).forEach((function(e){return t.push(e)})):"FragmentSpread"===e.kind&&t.push(e)})),t}function fr(e){return"query"===ln(e).operation?e:wn(e,{OperationDefinition:{enter:function(e){return(0,q.pi)((0,q.pi)({},e),{operation:"query"})}}})}function pr(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];return e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;__DEV__?ct(n&&1===n.length,"Incorrect number of arguments for the @".concat(r," directive.")):ct(n&&1===n.length,38);var i=n[0];__DEV__?ct(i.name&&"if"===i.name.value,"Invalid argument for the @".concat(r," directive.")):ct(i.name&&"if"===i.name.value,39);var o=i.value;__DEV__?ct(o&&("Variable"===o.kind||"BooleanValue"===o.kind),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):ct(o&&("Variable"===o.kind||"BooleanValue"===o.kind),40),t.push({directive:e,ifArgument:i})}})),t}(n).every((function(e){var n=e.directive,r=e.ifArgument,i=!1;return"Variable"===r.value.kind?(i=t&&t[r.value.name.value],__DEV__?ct(void 0!==i,"Invalid variable referenced in @".concat(n.name.value," directive.")):ct(void 0!==i,37)):i=r.value.value,"skip"===n.name.value?!i:i}))}function mr(e,t){return function(e){var t=[];return wn(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some((function(t){return e.indexOf(t)>-1}))}function gr(e){return e&&mr(["client"],e)&&mr(["export"],e)}var yr=new Map;function vr(e){var t=yr.get(e)||1;return yr.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function br(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function wr(e){function t(t){Object.defineProperty(e,t,{value:qt})}return Xn&&Symbol.species&&t(Symbol.species),t("@@species"),e}function _r(e){return e&&"function"==typeof e.then}var Er=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.addCount=0,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],br(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),br(n.observers,"error",e))},complete:function(){if(null!==n.sub){var e=n.sources.shift();e?_r(e)?e.then((function(e){return n.sub=e.subscribe(n.handlers)})):n.sub=e.subscribe(n.handlers):(n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),br(n.observers,"complete"))}}},n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.complete()},n.promise.catch((function(e){})),"function"==typeof t&&(t=[new qt(t)]),_r(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return(0,q.ZT)(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e),++this.addCount)},t.prototype.removeObserver=function(e,t){this.observers.delete(e)&&--this.addCount<1&&!t&&this.handlers.error(new Error("Observable cancelled prematurely"))},t.prototype.cleanup=function(e){var t=this,n=!1,r=function(){n||(n=!0,t.observers.delete(i),e())},i={next:r,error:r,complete:r},o=this.addCount;this.addObserver(i),this.addCount=o},t}(qt);function kr(e){return Array.isArray(e)&&e.length>0}wr(Er);var Tr,Ir=function(e){function t(n){var r,i,o=n.graphQLErrors,s=n.clientErrors,a=n.networkError,u=n.errorMessage,c=n.extraInfo,l=e.call(this,u)||this;return l.graphQLErrors=o||[],l.clientErrors=s||[],l.networkError=a||null,l.message=u||(i="",(kr((r=l).graphQLErrors)||kr(r.clientErrors))&&(r.graphQLErrors||[]).concat(r.clientErrors||[]).forEach((function(e){var t=e?e.message:"Error message not found.";i+="".concat(t,"\n")})),r.networkError&&(i+="".concat(r.networkError.message,"\n")),i=i.replace(/\n$/,"")),l.extraInfo=c,l.__proto__=t.prototype,l}return(0,q.ZT)(t,e),t}(Error);function Sr(e){return!!e&&e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Tr||(Tr={}));var Or=Object.prototype.toString;function Cr(e){return Nr(e)}function Nr(e,t){switch(Or.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=Nr(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=Nr(e[n],t)})),r;default:return e}}var Ar=Object.assign,xr=Object.hasOwnProperty,Dr=!1,Pr=function(e){function t(t){var n=t.queryManager,r=t.queryInfo,i=t.options,o=e.call(this,(function(e){try{var t=e._subscription._observer;t&&!t.error&&(t.error=Rr)}catch(e){}var n=!o.observers.size;o.observers.add(e);var r=o.last;return r&&r.error?e.error&&e.error(r.error):r&&r.result&&e.next&&e.next(r.result),n&&o.reobserve().catch((function(){})),function(){o.observers.delete(e)&&!o.observers.size&&o.tearDownQuery()}}))||this;o.observers=new Set,o.subscriptions=new Set,o.isTornDown=!1,o.options=i,o.queryId=r.queryId||n.generateQueryId();var s=sn(i.query);return o.queryName=s&&s.name&&s.name.value,o.initialFetchPolicy=i.fetchPolicy||"cache-first",o.queryManager=n,o.queryInfo=r,o}return(0,q.ZT)(t,e),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){i.unsubscribe()}),0)},error:n},i=e.subscribe(r)}))},t.prototype.getCurrentResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||Tr.ready,r=(0,q.pi)((0,q.pi)({},t),{loading:Sr(n),networkStatus:n}),i=this.options.fetchPolicy,o=void 0===i?"cache-first":i;if("network-only"===o||"no-cache"===o||"standby"===o||this.queryManager.transform(this.options.query).hasForcedResolvers);else{var s=this.queryInfo.getDiff();(s.complete||this.options.returnPartialData)&&(r.data=s.result),Ze(r.data,{})&&(r.data=void 0),s.complete?(delete r.partial,!s.complete||r.networkStatus!==Tr.loading||"cache-first"!==o&&"cache-only"!==o||(r.networkStatus=Tr.ready,r.loading=!1)):r.partial=!0,!__DEV__||s.complete||this.options.partialRefetch||r.loading||r.data||r.error||Lr(s.missing)}return e&&this.updateLastResult(r),r},t.prototype.isDifferentFromLastResult=function(e){return!this.last||!Ze(this.last.result,e)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||Ze(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="cache-and-network"===r?r:"no-cache"===r?"no-cache":"network-only",__DEV__&&e&&xr.call(e,"variables")){var i=cn(this.options.query),o=i.variableDefinitions;o&&o.some((function(e){return"variables"===e.variable.name.value}))||__DEV__&&ct.warn("Called refetch(".concat(JSON.stringify(e),") for query ").concat((null===(t=i.name)||void 0===t?void 0:t.value)||JSON.stringify(i),", which does not declare a $variables variable.\nDid you mean to call refetch(variables) instead of refetch({ variables })?"))}return e&&!Ze(this.options.variables,e)&&(n.variables=this.options.variables=(0,q.pi)((0,q.pi)({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,Tr.refetch)},t.prototype.fetchMore=function(e){var t=this,n=(0,q.pi)((0,q.pi)({},e.query?e:(0,q.pi)((0,q.pi)((0,q.pi)({},this.options),e),{variables:(0,q.pi)((0,q.pi)({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"}),r=this.queryManager.generateQueryId();return n.notifyOnNetworkStatusChange&&(this.queryInfo.networkStatus=Tr.fetchMore,this.observe()),this.queryManager.fetchQuery(r,n,Tr.fetchMore).then((function(r){var i=r.data,o=e.updateQuery;return o?(__DEV__&&!Dr&&(__DEV__&&ct.warn("The updateQuery callback for fetchMore is deprecated, and will be removed\nin the next major version of Apollo Client.\n\nPlease convert updateQuery functions to field policies with appropriate\nread and merge functions, or use/adapt a helper function (such as\nconcatPagination, offsetLimitPagination, or relayStylePagination) from\n@apollo/client/utilities.\n\nThe field policy system handles pagination more effectively than a\nhand-written updateQuery function, and you only need to define the policy\nonce, rather than every time you call fetchMore."),Dr=!0),t.updateQuery((function(e){return o(e,{fetchMoreResult:i,variables:n.variables})}))):t.queryManager.cache.writeQuery({query:n.query,variables:n.variables,data:i}),r})).finally((function(){t.queryManager.stopQuery(r),t.reobserve()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){var i=t.variables;return r(e,{subscriptionData:n,variables:i})}))},error:function(t){e.onError?e.onError(t):__DEV__&&ct.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.setVariables=function(e){return Ze(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.initialFetchPolicy,variables:e},Tr.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=e(t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,{variables:this.variables});n&&(t.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.fetch=function(e,t){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,e,t)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n){if(!t||t.interval!==n){__DEV__?ct(n,"Attempted to start a polling query without a polling interval."):ct(n,10),(t||(this.pollingInfo={})).interval=n;var r=function(){e.pollingInfo&&(Sr(e.queryInfo.networkStatus)?i():e.reobserve({fetchPolicy:"network-only"},Tr.poll).then(i,i))},i=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};i()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){return void 0===t&&(t=this.variables),this.last=(0,q.pi)((0,q.pi)({},this.last),{result:this.queryManager.assumeImmutableResults?e:Cr(e),variables:t}),kr(e.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(e,t){var n=this;this.isTornDown=!1;var r=t===Tr.refetch||t===Tr.fetchMore||t===Tr.poll,i=this.options.variables,o=r?vn(this.options,e):Ar(this.options,vn(e));r||(this.updatePolling(),e&&e.variables&&!e.fetchPolicy&&!Ze(e.variables,i)&&(o.fetchPolicy=this.initialFetchPolicy,void 0===t&&(t=Tr.setVariables)));var s=o.variables&&(0,q.pi)({},o.variables),a=this.fetch(o,t),u={next:function(e){n.reportResult(e,s)},error:function(e){n.reportError(e,s)}};return r||(this.concast&&this.observer&&this.concast.removeObserver(this.observer,!0),this.concast=a,this.observer=u),a.addObserver(u),a.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(e,t){(this.getLastError()||this.isDifferentFromLastResult(e))&&(this.updateLastResult(e,t),br(this.observers,"next",e))},t.prototype.reportError=function(e,t){var n=(0,q.pi)((0,q.pi)({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Tr.error,loading:!1});this.updateLastResult(n,t),br(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(qt);function Rr(e){__DEV__&&ct.error("Unhandled error",e.message,e.stack)}function Lr(e){__DEV__&&e&&__DEV__&&ct.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}wr(Pr);var Mr=Object.prototype.hasOwnProperty;function Fr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return jr(e)}function jr(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new Vr,i=1;i<n;++i)t=r.merge(t,e[i]);return t}var Ur=function(e,t,n){return this.merge(e[n],t[n])},Vr=function(){function e(e){void 0===e&&(e=Ur),this.reconciler=e,this.isObject=Bt,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return Bt(t)&&Bt(e)?(Object.keys(t).forEach((function(i){if(Mr.call(e,i)){var o=e[i];if(t[i]!==o){var s=n.reconciler.apply(n,(0,q.ev)([e,t,i],r,!1));s!==o&&((e=n.shallowCopyForMerge(e))[i]=s)}}else(e=n.shallowCopyForMerge(e))[i]=t[i]})),e):t},e.prototype.shallowCopyForMerge=function(e){if(Bt(e)){if(this.pastCopies.has(e)){if(!Object.isFrozen(e))return e;this.pastCopies.delete(e)}e=Array.isArray(e)?e.slice(0):(0,q.pi)({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e)}return e},e}(),qr=null,Br={},zr=1,Qr="@wry/context:Slot",$r=Array,Wr=$r[Qr]||function(){var e=function(){function e(){this.id=["slot",zr++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=qr;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===Br)break;return e!==qr&&(qr.slots[this.id]=t),!0}return qr&&(qr.slots[this.id]=Br),!1},e.prototype.getValue=function(){if(this.hasValue())return qr.slots[this.id]},e.prototype.withValue=function(e,t,n,r){var i,o=((i={__proto__:null})[this.id]=e,i),s=qr;qr={parent:s,slots:o};try{return t.apply(r,n)}finally{qr=s}},e.bind=function(e){var t=qr;return function(){var n=qr;try{return qr=t,e.apply(this,arguments)}finally{qr=n}}},e.noContext=function(e,t,n){if(!qr)return e.apply(n,t);var r=qr;try{return qr=null,e.apply(n,t)}finally{qr=r}},e}();try{Object.defineProperty($r,Qr,{value:$r[Qr]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();function Kr(){}Wr.bind,Wr.noContext;var Gr,Hr=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=Kr),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getNode(e);return t&&t.value},e.prototype.getNode=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var n=t.older,r=t.newer;r&&(r.older=n),n&&(n.newer=r),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=r)}return t},e.prototype.set=function(e,t){var n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),Yr=new Wr,Jr=Object.prototype.hasOwnProperty,Xr=void 0===(Gr=Array.from)?function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}:Gr;function Zr(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var ei=[];function ti(e,t){if(!e)throw new Error(t||"assertion failure")}function ni(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var ri=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(1===this.value.length&&!si(this))return ii(this),this.value[0]},e.prototype.recompute=function(e){return ti(!this.recomputing,"already recomputing"),ii(this),si(this)?function(e,t){return fi(e),Yr.withValue(e,oi,[e,t]),function(e,t){if("function"==typeof e.subscribe)try{Zr(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(t){return e.setDirty(),!1}return!0}(e,t)&&function(e){e.dirty=!1,si(e)||ui(e)}(e),ni(e.value)}(this,e):ni(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,ai(this),Zr(this))},e.prototype.dispose=function(){var e=this;this.setDirty(),fi(this),ci(this,(function(t,n){t.setDirty(),pi(t,e)}))},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(e){e.add(this),this.deps||(this.deps=ei.pop()||new Set),this.deps.add(e)},e.prototype.forgetDeps=function(){var e=this;this.deps&&(Xr(this.deps).forEach((function(t){return t.delete(e)})),this.deps.clear(),ei.push(this.deps),this.deps=null)},e.count=0,e}();function ii(e){var t=Yr.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),si(e)?li(t,e):hi(t,e),t}function oi(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(t){e.value[1]=t}e.recomputing=!1}function si(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function ai(e){ci(e,li)}function ui(e){ci(e,hi)}function ci(e,t){var n=e.parents.size;if(n)for(var r=Xr(e.parents),i=0;i<n;++i)t(r[i],e)}function li(e,t){ti(e.childValues.has(t)),ti(si(t));var n=!si(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=ei.pop()||new Set;e.dirtyChildren.add(t),n&&ai(e)}function hi(e,t){ti(e.childValues.has(t)),ti(!si(t));var n,r,i,o=e.childValues.get(t);0===o.length?e.childValues.set(t,t.value.slice(0)):(n=o,r=t.value,(i=n.length)>0&&i===r.length&&n[i-1]===r[i-1]||e.setDirty()),di(e,t),si(e)||ui(e)}function di(e,t){var n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(ei.length<100&&ei.push(n),e.dirtyChildren=null))}function fi(e){e.childValues.size>0&&e.childValues.forEach((function(t,n){pi(e,n)})),e.forgetDeps(),ti(null===e.dirtyChildren)}function pi(e,t){t.parents.delete(e),e.childValues.delete(t),di(e,t)}var mi={setDirty:!0,dispose:!0,forget:!0};function gi(e){var t=new Map,n=e&&e.subscribe;function r(e){var r=Yr.getValue();if(r){var i=t.get(e);i||t.set(e,i=new Set),r.dependOn(i),"function"==typeof n&&(Zr(i),i.unsubscribe=n(e))}}return r.dirty=function(e,n){var r=t.get(e);if(r){var i=n&&Jr.call(mi,n)?n:"setDirty";Xr(r).forEach((function(e){return e[i]()})),t.delete(e),Zr(r)}},r}function yi(){var e=new Hn("function"==typeof WeakMap);return function(){return e.lookupArray(arguments)}}yi();var vi=new Set;function bi(e,t){void 0===t&&(t=Object.create(null));var n=new Hr(t.max||Math.pow(2,16),(function(e){return e.dispose()})),r=t.keyArgs,i=t.makeCacheKey||yi(),o=function(){var o=i.apply(null,r?r.apply(null,arguments):arguments);if(void 0===o)return e.apply(null,arguments);var s=n.get(o);s||(n.set(o,s=new ri(e)),s.subscribe=t.subscribe,s.forget=function(){return n.delete(o)});var a=s.recompute(Array.prototype.slice.call(arguments));return n.set(o,s),vi.add(n),Yr.hasValue()||(vi.forEach((function(e){return e.clean()})),vi.clear()),a};function s(e){var t=n.get(e);t&&t.setDirty()}function a(e){var t=n.get(e);if(t)return t.peek()}function u(e){return n.delete(e)}return Object.defineProperty(o,"size",{get:function(){return n.map.size},configurable:!1,enumerable:!1}),o.dirtyKey=s,o.dirty=function(){s(i.apply(null,arguments))},o.peekKey=a,o.peek=function(){return a(i.apply(null,arguments))},o.forgetKey=u,o.forget=function(){return u(i.apply(null,arguments))},o.makeCacheKey=i,o.getKey=r?function(){return i.apply(null,r.apply(null,arguments))}:i,Object.freeze(o)}var wi=new Wr,_i=new WeakMap;function Ei(e){var t=_i.get(e);return t||_i.set(e,t={vars:new Set,dep:gi()}),t}function ki(e){Ei(e).vars.forEach((function(t){return t.forgetCache(e)}))}function Ti(e){var t=new Set,n=new Set,r=function(o){if(arguments.length>0){if(e!==o){e=o,t.forEach((function(e){Ei(e).dep.dirty(r),Ii(e)}));var s=Array.from(n);n.clear(),s.forEach((function(t){return t(e)}))}}else{var a=wi.getValue();a&&(i(a),Ei(a).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var i=r.attachCache=function(e){return t.add(e),Ei(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function Ii(e){e.broadcastWatches&&e.broadcastWatches()}var Si=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,i=e.fragmentMatcher;this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=Fr(t.resolvers,e)})):this.resolvers=Fr(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,n=e.remoteResult,r=e.context,i=e.variables,o=e.onlyRunForcedResolvers,s=void 0!==o&&o;return(0,q.mG)(this,void 0,void 0,(function(){return(0,q.Jh)(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,i,this.fragmentMatcher,s).then((function(e){return(0,q.pi)((0,q.pi)({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return mr(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return function(e){on(e);var t=cr([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=wn(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every((function(e){return nn(e)&&"__typename"===e.name.value})))return null}}})),t}(e)},e.prototype.prepareContext=function(e){var t=this.cache;return(0,q.pi)((0,q.pi)({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),(0,q.mG)(this,void 0,void 0,(function(){return(0,q.Jh)(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return(0,q.pi)((0,q.pi)({},t),e.exportedVariables)}))]:[2,(0,q.pi)({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return wn(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value}))))return bn}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:fr(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,n,r,i,o){return void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),(0,q.mG)(this,void 0,void 0,(function(){var s,a,u,c,l,h,d,f,p;return(0,q.Jh)(this,(function(m){return s=ln(e),a=un(e),u=Qt(a),c=s.operation,l=c?c.charAt(0).toUpperCase()+c.slice(1):"Query",d=(h=this).cache,f=h.client,p={fragmentMap:u,context:(0,q.pi)((0,q.pi)({},n),{cache:d,client:f}),variables:r,fragmentMatcher:i,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(s.selectionSet,t,p).then((function(e){return{result:e,exportedVariables:p.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n){return(0,q.mG)(this,void 0,void 0,(function(){var r,i,o,s,a,u=this;return(0,q.Jh)(this,(function(c){return r=n.fragmentMap,i=n.context,o=n.variables,s=[t],a=function(e){return(0,q.mG)(u,void 0,void 0,(function(){var a,u;return(0,q.Jh)(this,(function(c){return pr(e,o)?nn(e)?[2,this.resolveField(e,t,n).then((function(t){var n;void 0!==t&&s.push(((n={})[en(e)]=t,n))}))]:(rn(e)?a=e:(a=r[e.name.value],__DEV__?ct(a,"No fragment named ".concat(e.name.value)):ct(a,9)),a&&a.typeCondition&&(u=a.typeCondition.name.value,n.fragmentMatcher(t,u,i))?[2,this.resolveSelectionSet(a.selectionSet,t,n).then((function(e){s.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(a)).then((function(){return jr(s)}))]}))}))},e.prototype.resolveField=function(e,t,n){return(0,q.mG)(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,d=this;return(0,q.Jh)(this,(function(f){return r=n.variables,i=e.name.value,o=en(e),s=i!==o,a=t[o]||t[i],u=Promise.resolve(a),n.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(c=t.__typename||n.defaultOperationType,(l=this.resolvers&&this.resolvers[c])&&(h=l[s?i:o])&&(u=Promise.resolve(wi.withValue(this.cache,h,[t,Zt(e,r),n.context,{field:e,fragmentMap:n.fragmentMap}])))),[2,u.then((function(t){return void 0===t&&(t=a),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(n.exportedVariables[e.value.value]=t)}))})),e.selectionSet?null==t?t:Array.isArray(t)?d.resolveSubSelectedArray(e,t,n):e.selectionSet?d.resolveSelectionSet(e.selectionSet,t,n):void 0:t}))]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n){var r=this;return Promise.all(t.map((function(t){return null===t?null:Array.isArray(t)?r.resolveSubSelectedArray(e,t,n):e.selectionSet?r.resolveSelectionSet(e.selectionSet,t,n):void 0})))},e}(),Oi=new(Yn?WeakMap:Map);function Ci(e,t){var n=e[t];"function"==typeof n&&(e[t]=function(){return Oi.set(e,(Oi.get(e)+1)%1e15),n.apply(this,arguments)})}function Ni(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Ai=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var n=this.cache=e.cache;Oi.has(n)||(Oi.set(n,0),Ci(n,"evict"),Ci(n,"modify"),Ci(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||Tr.loading;return this.variables&&this.networkStatus!==Tr.loading&&!Ze(this.variables,e.variables)&&(t=Tr.setVariables),Ze(e.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.reset=function(){Ni(this),this.lastDiff=void 0,this.dirty=!1},e.prototype.getDiff=function(e){void 0===e&&(e=this.variables);var t=this.getDiffOptions(e);if(this.lastDiff&&Ze(t,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=e);var n=this.observableQuery;if(n&&"no-cache"===n.options.fetchPolicy)return{complete:!1};var r=this.cache.diff(t);return this.updateLastDiff(r,t),r},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t=this,n=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(e),this.dirty||Ze(n&&n.result,e&&e.result)||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return t.notify()}),0)))},e.prototype.setObservableQuery=function(e){var t=this;e!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=e,e?(e.queryInfo=this,this.listeners.add(this.oqListener=function(){t.getDiff().fromOptimisticTransaction?e.observe():e.reobserve()})):delete this.oqListener)},e.prototype.notify=function(){var e=this;Ni(this),this.shouldNotify()&&this.listeners.forEach((function(t){return t(e)})),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Sr(this.networkStatus)&&this.observableQuery){var e=this.observableQuery.options.fetchPolicy;if("cache-only"!==e&&"cache-and-network"!==e)return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach((function(e){return e.unsubscribe()}));var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=(0,q.pi)((0,q.pi)({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&Ze(r,this.lastWatch)||(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===Oi.get(this.cache)&&Ze(t,n.variables)&&Ze(e.data,n.result.data))},e.prototype.markResult=function(e,t,n){var r=this;this.graphQLErrors=kr(e.errors)?e.errors:[],this.reset(),"no-cache"===t.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(t.variables)):0!==n&&(xi(e,t.errorPolicy)?this.cache.performTransaction((function(i){if(r.shouldWrite(e,t.variables))i.writeQuery({query:r.document,data:e.data,variables:t.variables,overwrite:1===n}),r.lastWrite={result:e,variables:t.variables,dmCount:Oi.get(r.cache)};else if(r.lastDiff&&r.lastDiff.diff.complete)return void(e.data=r.lastDiff.diff.result);var o=r.getDiffOptions(t.variables),s=i.diff(o);r.stopped||r.updateWatch(t.variables),r.updateLastDiff(s,o),s.complete&&(e.data=s.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Tr.ready},e.prototype.markError=function(e){return this.networkStatus=Tr.error,this.lastWrite=void 0,this.reset(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function xi(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!rr(e);return!r&&n&&e.data&&(r=!0),r}var Di=Object.prototype.hasOwnProperty,Pi=function(){function e(e){var t=e.cache,n=e.link,r=e.queryDeduplication,i=void 0!==r&&r,o=e.onBroadcast,s=e.ssrMode,a=void 0!==s&&s,u=e.clientAwareness,c=void 0===u?{}:u,l=e.localState,h=e.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(Yn?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=t,this.link=n,this.queryDeduplication=i,this.clientAwareness=c,this.localState=l||new Si({cache:t}),this.ssrMode=a,this.assumeImmutableResults=!!h,(this.onBroadcast=o)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(__DEV__?new ut("QueryManager stopped while query was in flight"):new ut(11))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){var t=e.mutation,n=e.variables,r=e.optimisticResponse,i=e.updateQueries,o=e.refetchQueries,s=void 0===o?[]:o,a=e.awaitRefetchQueries,u=void 0!==a&&a,c=e.update,l=e.onQueryUpdated,h=e.errorPolicy,d=void 0===h?"none":h,f=e.fetchPolicy,p=void 0===f?"network-only":f,m=e.keepRootFields,g=e.context;return(0,q.mG)(this,void 0,void 0,(function(){var e,o,a;return(0,q.Jh)(this,(function(h){switch(h.label){case 0:return __DEV__?ct(t,"mutation option is required. You must specify your GraphQL document in the mutation option."):ct(t,12),__DEV__?ct("network-only"===p||"no-cache"===p,"Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):ct("network-only"===p||"no-cache"===p,13),e=this.generateMutationId(),t=this.transform(t).document,n=this.getVariables(t,n),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,n,g)]:[3,2];case 1:n=h.sent(),h.label=2;case 2:return o=this.mutationStore&&(this.mutationStore[e]={mutation:t,variables:n,loading:!0,error:null}),r&&this.markMutationOptimistic(r,{mutationId:e,document:t,variables:n,fetchPolicy:p,errorPolicy:d,context:g,updateQueries:i,update:c,keepRootFields:m}),this.broadcastQueries(),a=this,[2,new Promise((function(h,f){return nr(a.getObservableFromLink(t,(0,q.pi)((0,q.pi)({},g),{optimisticResponse:r}),n,!1),(function(h){if(rr(h)&&"none"===d)throw new Ir({graphQLErrors:h.errors});o&&(o.loading=!1,o.error=null);var f=(0,q.pi)({},h);return"function"==typeof s&&(s=s(f)),"ignore"===d&&rr(f)&&delete f.errors,a.markMutationResult({mutationId:e,result:f,document:t,variables:n,fetchPolicy:p,errorPolicy:d,context:g,update:c,updateQueries:i,awaitRefetchQueries:u,refetchQueries:s,removeOptimistic:r?e:void 0,onQueryUpdated:l,keepRootFields:m})})).subscribe({next:function(e){a.broadcastQueries(),h(e)},error:function(t){o&&(o.loading=!1,o.error=t),r&&a.cache.removeOptimistic(e),a.broadcastQueries(),f(t instanceof Ir?t:new Ir({networkError:t}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,i=[],o="no-cache"===e.fetchPolicy;if(!o&&xi(r,e.errorPolicy)){i.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables});var s=e.updateQueries;s&&this.queries.forEach((function(e,o){var a=e.observableQuery,u=a&&a.queryName;if(u&&Di.call(s,u)){var c=s[u],l=n.queries.get(o),h=l.document,d=l.variables,f=t.diff({query:h,variables:d,returnPartialData:!0,optimistic:!1}),p=f.result;if(f.complete&&p){var m=c(p,{mutationResult:r,queryName:h&&an(h)||void 0,queryVariables:d});m&&i.push({result:m,dataId:"ROOT_QUERY",query:h,variables:d})}}}))}if(i.length>0||e.refetchQueries||e.update||e.onQueryUpdated||e.removeOptimistic){var a=[];if(this.refetchQueries({updateCache:function(t){o||i.forEach((function(e){return t.write(e)}));var s=e.update;if(s){if(!o){var a=t.diff({id:"ROOT_MUTATION",query:n.transform(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});a.complete&&(r=(0,q.pi)((0,q.pi)({},r),{data:a.result}))}s(t,r,{context:e.context,variables:e.variables})}o||e.keepRootFields||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return a.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(a).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"==typeof e?e(t.variables):e;return this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult((0,q.pi)((0,q.pi)({},t),{result:{data:r}}),e)}catch(e){__DEV__&&ct.error(e)}}),t.mutationId)},e.prototype.fetchQuery=function(e,t,n){return this.fetchQueryObservable(e,t,n).promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){var t,n=this.transformCache;if(!n.has(e)){var r=this.cache.transformDocument(e),i=(t=this.cache.transformForLink(r),cr([hr],on(t))),o=this.localState.clientQuery(r),s=i&&this.localState.serverQuery(i),a={document:r,hasClientExports:gr(r),hasForcedResolvers:this.localState.shouldForceResolvers(r),clientQuery:o,serverQuery:s,defaultVars:hn(sn(r)),asQuery:(0,q.pi)((0,q.pi)({},r),{definitions:r.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?(0,q.pi)((0,q.pi)({},e),{operation:"query"}):e}))})},u=function(e){e&&!n.has(e)&&n.set(e,a)};u(e),u(r),u(o),u(s)}return n.get(e)},e.prototype.getVariables=function(e,t){return(0,q.pi)((0,q.pi)({},this.transform(e).defaultVars),t)},e.prototype.watchQuery=function(e){void 0===(e=(0,q.pi)((0,q.pi)({},e),{variables:this.getVariables(e.query,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var t=new Ai(this),n=new Pr({queryManager:this,queryInfo:t,options:e});return this.queries.set(n.queryId,t),t.init({document:e.query,observableQuery:n,variables:e.variables}),n},e.prototype.query=function(e,t){var n=this;return void 0===t&&(t=this.generateQueryId()),__DEV__?ct(e.query,"query option is required. You must specify your GraphQL document in the query option."):ct(e.query,14),__DEV__?ct("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'):ct("Document"===e.query.kind,15),__DEV__?ct(!e.returnPartialData,"returnPartialData option only supported on watchQuery."):ct(!e.returnPartialData,16),__DEV__?ct(!e.pollInterval,"pollInterval option only supported on watchQuery."):ct(!e.pollInterval,17),this.fetchQuery(t,e).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new ut("Store reset while query was in flight (not completed in link chain)"):new ut(18)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Tr.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){var n;"string"==typeof e?r.set(e,!1):Bt(n=e)&&"Document"===n.kind&&Array.isArray(n.definitions)?r.set(t.transform(e).document,!1):Bt(e)&&e.query&&i.add(e)})),this.queries.forEach((function(t,i){var o=t.observableQuery,s=t.document;if(o){if("all"===e)return void n.set(i,o);var a=o.queryName;if("standby"===o.options.fetchPolicy||"active"===e&&!o.hasObservers())return;("active"===e||a&&r.has(a)||s&&r.has(s))&&(n.set(i,o),a&&r.set(a,!0),s&&r.set(s,!0))}})),i.size&&i.forEach((function(e){var r=vr("legacyOneTimeQuery"),i=t.getQuery(r).init({document:e.query,variables:e.variables}),o=new Pr({queryManager:t,queryInfo:i,options:(0,q.pi)((0,q.pi)({},e),{fetchPolicy:"network-only"})});ct(o.queryId===r),i.setObservableQuery(o),n.set(r,o)})),__DEV__&&r.size&&r.forEach((function(e,t){e||__DEV__&&ct.warn("Unknown query ".concat("string"==typeof t?"named ":"").concat(JSON.stringify(t,null,2)," requested in refetchQueries options.include array"))})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,i){var o=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==o&&"cache-only"!==o)&&n.push(r.refetch()),t.getQuery(i).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.setObservableQuery=function(e){this.getQuery(e.queryId).setObservableQuery(e)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.fetchPolicy,i=e.errorPolicy,o=e.variables,s=e.context,a=void 0===s?{}:s;n=this.transform(n).document,o=this.getVariables(n,o);var u=function(e){return t.getObservableFromLink(n,a,e).map((function(o){if("no-cache"!==r&&(xi(o,i)&&t.cache.write({query:n,result:o.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries()),rr(o))throw new Ir({graphQLErrors:o.errors});return o}))};if(this.transform(n).hasClientExports){var c=this.localState.addExportedVariables(n,o,a).then(u);return new qt((function(e){var t=null;return c.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(o)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchCancelFns.delete(e),this.getQuery(e).stop(),this.queries.delete(e)},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){return e.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r){var i,o,s=this;void 0===r&&(r=null!==(i=null==t?void 0:t.queryDeduplication)&&void 0!==i?i:this.queryDeduplication);var a=this.transform(e).serverQuery;if(a){var u=this.inFlightLinkObservables,c=this.link,l={query:a,variables:n,operationName:an(a)||void 0,context:this.prepareContext((0,q.pi)((0,q.pi)({},t),{forceFetch:!r}))};if(t=l.context,r){var h=u.get(a)||new Map;u.set(a,h);var d=er(n);if(!(o=h.get(d))){var f=new Er([yn(c,l)]);h.set(d,o=f),f.cleanup((function(){h.delete(d)&&h.size<1&&u.delete(a)}))}}else o=new Er([yn(c,l)])}else o=new Er([qt.of({data:{}})]),t=this.prepareContext(t);var p=this.transform(e).clientQuery;return p&&(o=nr(o,(function(e){return s.localState.runResolvers({document:p,remoteResult:e,context:t,variables:n})}))),o},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId();return nr(this.getObservableFromLink(e.document,n.context,n.variables),(function(i){var o=kr(i.errors);if(r>=e.lastRequestId){if(o&&"none"===n.errorPolicy)throw e.markError(new Ir({graphQLErrors:i.errors}));e.markResult(i,n,t),e.markReady()}var s={data:i.data,loading:!1,networkStatus:e.networkStatus||Tr.ready};return o&&"ignore"!==n.errorPolicy&&(s.errors=i.errors),s}),(function(t){var n=t.hasOwnProperty("graphQLErrors")?t:new Ir({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchQueryObservable=function(e,t,n){var r=this;void 0===n&&(n=Tr.loading);var i=this.transform(t.query).document,o=this.getVariables(i,t.variables),s=this.getQuery(e),a=t.fetchPolicy,u=void 0===a?"cache-first":a,c=t.errorPolicy,l=void 0===c?"none":c,h=t.returnPartialData,d=void 0!==h&&h,f=t.notifyOnNetworkStatusChange,p=void 0!==f&&f,m=t.context,g=void 0===m?{}:m,y=Object.assign({},t,{query:i,variables:o,fetchPolicy:u,errorPolicy:l,returnPartialData:d,notifyOnNetworkStatusChange:p,context:g}),v=function(e){return y.variables=e,r.fetchQueryByPolicy(s,y,n)};this.fetchCancelFns.set(e,(function(e){setTimeout((function(){return b.cancel(e)}))}));var b=new Er(this.transform(y.query).hasClientExports?this.localState.addExportedVariables(y.query,y.variables,y.context).then(v):v(y.variables));return b.cleanup((function(){r.fetchCancelFns.delete(e),function(e){var t=e.fetchPolicy,n=void 0===t?"cache-first":t,r=e.nextFetchPolicy;r&&(e.fetchPolicy="function"==typeof r?r.call(e,n):r)}(t)})),b},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,i=e.optimistic,o=void 0!==i&&i,s=e.removeOptimistic,a=void 0===s?o?vr("refetchQueries"):void 0:s,u=e.onQueryUpdated,c=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){c.set(n,{oq:e,lastDiff:t.getQuery(n).getDiff()})}));var l=new Map;return n&&this.cache.batch({update:n,optimistic:o&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof Ai&&e.watcher.observableQuery;if(r){if(u){c.delete(r.queryId);var i=u(r,t,n);return!0===i&&(i=r.refetch()),!1!==i&&l.set(r,i),i}null!==u&&c.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),c.size&&c.forEach((function(e,n){var r,i=e.oq,o=e.lastDiff,s=e.diff;if(u){if(!s){var a=i.queryInfo;a.reset(),s=a.getDiff()}r=u(i,s,o)}u&&!0!==r||(r=i.refetch()),!1!==r&&l.set(i,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),a&&this.cache.removeOptimistic(a),l},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,i=t.query,o=t.variables,s=t.fetchPolicy,a=t.refetchWritePolicy,u=t.errorPolicy,c=t.returnPartialData,l=t.context,h=t.notifyOnNetworkStatusChange,d=e.networkStatus;e.init({document:i,variables:o,networkStatus:n});var f=function(){return e.getDiff(o)},p=function(t,n){void 0===n&&(n=e.networkStatus||Tr.loading);var s=t.result;!__DEV__||c||Ze(s,{})||Lr(t.missing);var a=function(e){return qt.of((0,q.pi)({data:e,loading:Sr(n),networkStatus:n},t.complete?null:{partial:!0}))};return s&&r.transform(i).hasForcedResolvers?r.localState.runResolvers({document:i,remoteResult:{data:s},context:l,variables:o,onlyRunForcedResolvers:!0}).then((function(e){return a(e.data||void 0)})):a(s)},m="no-cache"===s?0:n===Tr.refetch&&"merge"!==a?1:2,g=function(){return r.getResultsFromLink(e,m,{variables:o,context:l,fetchPolicy:s,errorPolicy:u})},y=h&&"number"==typeof d&&d!==n&&Sr(n);switch(s){default:case"cache-first":return(v=f()).complete?[p(v,e.markReady())]:c||y?[p(v),g()]:[g()];case"cache-and-network":var v;return(v=f()).complete||c||y?[p(v),g()]:[g()];case"cache-only":return[p(f(),e.markReady())];case"network-only":return y?[p(f()),g()]:[g()];case"no-cache":return y?[p(e.getDiff()),g()]:[g()];case"standby":return[]}},e.prototype.getQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new Ai(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return(0,q.pi)((0,q.pi)({},t),{clientAwareness:this.clientAwareness})},e}(),Ri=!1;function Li(e,t){return vn(e,t,t.variables&&{variables:(0,q.pi)((0,q.pi)({},e.variables),t.variables)})}var Mi,Fi=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var n=e.uri,r=e.credentials,i=e.headers,o=e.cache,s=e.ssrMode,a=void 0!==s&&s,u=e.ssrForceFetchDelay,c=void 0===u?0:u,l=e.connectToDevTools,h=void 0===l?"object"==typeof window&&!window.__APOLLO_CLIENT__&&__DEV__:l,d=e.queryDeduplication,f=void 0===d||d,p=e.defaultOptions,m=e.assumeImmutableResults,g=void 0!==m&&m,y=e.resolvers,v=e.typeDefs,b=e.fragmentMatcher,w=e.name,_=e.version,E=e.link;if(E||(E=n?new Qn({uri:n,credentials:r,headers:i}):gn.empty()),!o)throw __DEV__?new ut("To initialize Apollo Client, you must specify a 'cache' property in the options object. \nFor more information, please visit: https://go.apollo.dev/c/docs"):new ut(7);if(this.link=E,this.cache=o,this.disableNetworkFetches=a||c>0,this.queryDeduplication=f,this.defaultOptions=p||{},this.typeDefs=v,c&&setTimeout((function(){return t.disableNetworkFetches=!1}),c),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),h&&"object"==typeof window&&(window.__APOLLO_CLIENT__=this),!Ri&&__DEV__&&(Ri=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var k=window.navigator,T=k&&k.userAgent,I=void 0;"string"==typeof T&&(T.indexOf("Chrome/")>-1?I="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":T.indexOf("Firefox/")>-1&&(I="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),I&&__DEV__&&ct.log("Download the Apollo DevTools for a better development experience: "+I)}this.version="3.5.8",this.localState=new Si({cache:o,client:this,resolvers:y,fragmentMatcher:b}),this.queryManager=new Pi({cache:this.cache,link:this.link,queryDeduplication:f,ssrMode:a,clientAwareness:{name:w,version:_},localState:this.localState,assumeImmutableResults:g,onBroadcast:h?function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.getQueryStore(),mutations:t.queryManager.mutationStore||{}},dataWithOptimisticResults:t.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Li(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=(0,q.pi)((0,q.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=Li(this.defaultOptions.query,e)),__DEV__?ct("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):ct("cache-and-network"!==e.fetchPolicy,8),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=(0,q.pi)((0,q.pi)({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Li(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){this.cache.writeQuery(e),this.queryManager.broadcastQueries()},e.prototype.writeFragment=function(e){this.cache.writeFragment(e),this.queryManager.broadcastQueries()},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return yn(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var i=Promise.all(r);return i.queries=n,i.results=r,i.catch((function(e){__DEV__&&ct.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(e))})),i},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},e}(),ji=Xn?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function Ui(){var t=e.createContext[ji];return t||(Object.defineProperty(e.createContext,ji,{value:t=e.createContext({}),enumerable:!1,writable:!1,configurable:!0}),t.displayName="ApolloContext"),t}!function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(Mi||(Mi={}));var Vi=new Map;function qi(e){var t;switch(e){case Mi.Query:t="Query";break;case Mi.Mutation:t="Mutation";break;case Mi.Subscription:t="Subscription"}return t}function Bi(t,n){var r,i=(0,e.useContext)(Ui()),o=function(t){var n=(0,e.useContext)(Ui()),r=t||n.client;return __DEV__?ct(!!r,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):ct(!!r,29),r}(null==n?void 0:n.client),s=o.defaultOptions.watchQuery;!function(e,t){var n=function(e){var t,n,r=Vi.get(e);if(r)return r;__DEV__?ct(!!e&&!!e.kind,"Argument of ".concat(e," passed to parser was not a valid GraphQL ")+"DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):ct(!!e&&!!e.kind,30);var i=e.definitions.filter((function(e){return"FragmentDefinition"===e.kind})),o=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"query"===e.operation})),s=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})),a=e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&"subscription"===e.operation}));__DEV__?ct(!i.length||o.length||s.length||a.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):ct(!i.length||o.length||s.length||a.length,31),__DEV__?ct(o.length+s.length+a.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+"".concat(e," had ").concat(o.length," queries, ").concat(a.length," ")+"subscriptions and ".concat(s.length," mutations. ")+"You can use 'compose' to join multiple operation types to a component"):ct(o.length+s.length+a.length<=1,32),n=o.length?Mi.Query:Mi.Mutation,o.length||s.length||(n=Mi.Subscription);var u=o.length?o:s.length?s:a;__DEV__?ct(1===u.length,"react-apollo only supports one definition per HOC. ".concat(e," had ")+"".concat(u.length," definitions. ")+"You can use 'compose' to join multiple operation types to a component"):ct(1===u.length,33);var c=u[0];t=c.variableDefinitions||[];var l={name:c.name&&"Name"===c.name.kind?c.name.value:"data",type:n,variables:t};return Vi.set(e,l),l}(e),r=qi(t),i=qi(n.type);__DEV__?ct(n.type===t,"Running a ".concat(r," requires a graphql ")+"".concat(r,", but a ").concat(i," was used instead.")):ct(n.type===t,34)}(t,Mi.Query);var a,u=(0,e.useState)((function(){var e=zi(t,n,s),r=null;return i.renderPromises&&(r=i.renderPromises.getSSRObservable(e)),r||(r=o.watchQuery(e),i.renderPromises&&i.renderPromises.registerSSRObservable(r,e)),i.renderPromises&&!1!==(null==n?void 0:n.ssr)&&!(null==n?void 0:n.skip)&&r.getCurrentResult().loading&&i.renderPromises.addQueryPromise({getOptions:function(){return zi(t,n,s)},fetchData:function(){return new Promise((function(e){var t=r.subscribe({next:function(n){n.loading||(e(),t.unsubscribe())},error:function(){e(),t.unsubscribe()},complete:function(){e()}})}))}},(function(){return null})),r})),c=u[0],l=u[1],h=(0,e.useState)((function(){var e,t,r=c.getCurrentResult();return!r.loading&&n&&(r.error?null===(e=n.onError)||void 0===e||e.call(n,r.error):r.data&&(null===(t=n.onCompleted)||void 0===t||t.call(n,r.data))),r})),d=h[0],f=h[1],p=(0,e.useRef)({client:o,query:t,options:n,result:d,previousData:void 0,watchQueryOptions:zi(t,n,s)});(0,e.useEffect)((function(){var e,r,i,a=zi(t,n,s);if(p.current.client===o&&Ze(p.current.query,t))Ze(p.current.watchQueryOptions,a)||(c.setOptions(a).catch((function(){})),i=c.getCurrentResult(),p.current.watchQueryOptions=a);else{var u=o.watchQuery(a);l(u),i=u.getCurrentResult()}if(i){var h=p.current.result;h.data&&(p.current.previousData=h.data),f(p.current.result=i),!i.loading&&n&&(i.error?null===(e=n.onError)||void 0===e||e.call(n,i.error):i.data&&(null===(r=n.onCompleted)||void 0===r||r.call(n,i.data)))}Object.assign(p.current,{client:o,query:t})}),[c,o,t,n]),(0,e.useEffect)((function(){if(!i.renderPromises){var e=c.subscribe(t,(function n(r){var i,o,s=c.last;e.unsubscribe();try{c.resetLastResults(),e=c.subscribe(t,n)}finally{c.last=s}if(!r.hasOwnProperty("graphQLErrors"))throw r;var a=p.current.result;(a&&a.loading||!Ze(r,a.error))&&(f(p.current.result={data:a.data,error:r,loading:!1,networkStatus:Tr.error}),null===(o=null===(i=p.current.options)||void 0===i?void 0:i.onError)||void 0===o||o.call(i,r))}));return function(){return e.unsubscribe()}}function t(){var e,t,n=p.current.result,r=c.getCurrentResult();n&&n.loading===r.loading&&n.networkStatus===r.networkStatus&&Ze(n.data,r.data)||(n.data&&(p.current.previousData=n.data),f(p.current.result=r),r.loading||null===(t=null===(e=p.current.options)||void 0===e?void 0:e.onCompleted)||void 0===t||t.call(e,r.data))}}),[c,i.renderPromises,o.disableNetworkFetches]),a=(r=d).partial,d=(0,q._T)(r,["partial"]),!a||!(null==n?void 0:n.partialRefetch)||d.loading||d.data&&0!==Object.keys(d.data).length||"cache-only"===c.options.fetchPolicy||(d=(0,q.pi)((0,q.pi)({},d),{loading:!0,networkStatus:Tr.refetch}),c.refetch()),i.renderPromises&&!1!==(null==n?void 0:n.ssr)&&!(null==n?void 0:n.skip)&&d.loading&&c.setOptions(zi(t,n,s)).catch((function(){})),Object.assign(p.current,{options:n}),(i.renderPromises||o.disableNetworkFetches)&&!1===(null==n?void 0:n.ssr)?d=p.current.result={loading:!0,data:void 0,error:void 0,networkStatus:Tr.loading}:((null==n?void 0:n.skip)||"standby"===(null==n?void 0:n.fetchPolicy))&&(d={loading:!1,data:void 0,error:void 0,networkStatus:Tr.ready}),d.errors&&d.errors.length&&(d=(0,q.pi)((0,q.pi)({},d),{error:d.error||new Ir({graphQLErrors:d.errors})}));var m=(0,e.useMemo)((function(){return{refetch:c.refetch.bind(c),fetchMore:c.fetchMore.bind(c),updateQuery:c.updateQuery.bind(c),startPolling:c.startPolling.bind(c),stopPolling:c.stopPolling.bind(c),subscribeToMore:c.subscribeToMore.bind(c)}}),[c]);return(0,q.pi)((0,q.pi)((0,q.pi)({},m),{variables:zi(t,n,s).variables,client:o,called:!0,previousData:p.current.previousData}),d)}function zi(e,t,n){var r;void 0===t&&(t={});var i=t.skip,o=(t.ssr,t.onCompleted,t.onError,t.displayName,(0,q._T)(t,["skip","ssr","onCompleted","onError","displayName"])),s=(0,q.pi)({query:e},o);return n&&(s=Li(n,s)),i?s.fetchPolicy="standby":(!(null===(r=s.context)||void 0===r?void 0:r.renderPromises)||"network-only"!==s.fetchPolicy&&"cache-and-network"!==s.fetchPolicy)&&s.fetchPolicy||(s.fetchPolicy="cache-first"),s.variables||(s.variables={}),s}var Qi=i(5354),$i={};$i.styleTagTransform=p(),$i.setAttributes=l(),$i.insert=u().bind(null,"head"),$i.domAPI=s(),$i.insertStyleElement=d(),r()(Qi.Z,$i),Qi.Z&&Qi.Z.locals&&Qi.Z.locals;var Wi=function(){return e.createElement("div",{className:"spinner-overlay"},e.createElement("div",{className:"spinner-container"}))},Ki=i(2449),Gi=i(3708),Hi={};Hi.styleTagTransform=p(),Hi.setAttributes=l(),Hi.insert=u().bind(null,"head"),Hi.domAPI=s(),Hi.insertStyleElement=d(),r()(Gi.Z,Hi),Gi.Z&&Gi.Z.locals&&Gi.Z.locals;var Yi,Ji,Xi,Zi=function(t){var n,r,i=t.collections;console.log(i);var o=(0,y.UO)().collectionId;console.log(o);var s=i.filter((function(e){return e.title===o}));return console.log(s),e.createElement("div",{className:"collection-overview"},e.createElement("div",{className:"title"},null===(n=s[0])||void 0===n?void 0:n.title.toUpperCase()),e.createElement("div",{className:"collection"},null===(r=s[0])||void 0===r?void 0:r.items.map((function(t){return e.createElement(Ki.Z,{key:t.id,id:t.id,name:t.name,price:t.price,imageUrl:t.imageUrl})}))))},eo=$e(Yi||(Ji=["\n  {\n    collections {\n      id\n      title\n      items {\n        id\n        name\n        price\n        imageUrl\n      }\n    }\n  }\n"],Xi||(Xi=Ji.slice(0)),Yi=Object.freeze(Object.defineProperties(Ji,{raw:{value:Object.freeze(Xi)}})))),to=function(){var t=Bi(eo),n=t.loading,r=t.error,i=t.data;return console.log(n),console.log(r),console.log(i),e.createElement("div",{query:eo},n?e.createElement(Wi,null):e.createElement(Zi,{collections:i.collections}))},no=i(9750);function ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(n),!0).forEach((function(t){oo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function so(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,i)}function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uo=(0,e.lazy)((function(){return i.e(126).then(i.bind(i,1126))})),co=(0,e.lazy)((function(){return i.e(318).then(i.bind(i,318))})),lo=(0,e.lazy)((function(){return Promise.all([i.e(850),i.e(769)]).then(i.bind(i,5769))})),ho=(0,e.lazy)((function(){return i.e(667).then(i.bind(i,667))})),fo=(0,e.lazy)((function(){return i.e(780).then(i.bind(i,6780))})),po=function(){var t,n,r=(t=(0,e.useState)(null),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ao(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0];r[1],console.log(i);var o=(0,S.v9)((function(e){return{user:e.user.User}}));console.log(o);var s=(0,S.v9)((function(e){return e.shop.collections}));console.log(s);var a=(0,S.I0)();return(0,e.useEffect)((function(){var e=I.I8.onAuthStateChanged(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,(0,I.de)(t);case 3:e.sent.onSnapshot((function(e){var t;a((t=io({id:e.id},e.data()),{type:j,payload:t}))}));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){so(o,r,i,s,a,"next",e)}function a(e){so(o,r,i,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}());return e}),[]),(0,e.useEffect)((function(){I.RZ.collection("collections").get().then((function(e){var t=(0,I.$0)(e);a((0,no.R)(t)),console.log(t)}))}),[]),React.createElement("div",{className:"App"},React.createElement(V,null),React.createElement("div",{className:"components"},React.createElement(y.Z5,null,React.createElement(y.AW,{exact:!0,path:"/",element:React.createElement(e.Suspense,{fallback:React.createElement(Wi,null)},React.createElement(uo,null))}),React.createElement(y.AW,{exact:!0,path:"/shop",element:React.createElement(e.Suspense,{fallback:React.createElement(Wi,null)},React.createElement(co,null))}),React.createElement(y.AW,{exact:!0,path:"/shop/:collectionId",element:React.createElement(to,null)}),React.createElement(y.AW,{exact:!0,path:"/signin",element:React.createElement(e.Suspense,{fallback:React.createElement(Wi,null)},React.createElement(ho,null))}),React.createElement(y.AW,{exact:!0,path:"/registration",element:React.createElement(e.Suspense,{fallback:React.createElement(Wi,null)},React.createElement(fo,null))}),React.createElement(y.AW,{exact:!0,path:"/checkout",element:React.createElement(e.Suspense,{fallback:React.createElement(Wi,null)},React.createElement(lo,null))}))))};function mo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function go(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?go(Object(n),!0).forEach((function(t){mo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vo(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var bo="function"==typeof Symbol&&Symbol.observable||"@@observable",wo=function(){return Math.random().toString(36).substring(7).split("").join(".")},_o={INIT:"@@redux/INIT"+wo(),REPLACE:"@@redux/REPLACE"+wo(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wo()}};function Eo(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ko(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(vo(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(vo(1));return n(ko)(e,t)}if("function"!=typeof e)throw new Error(vo(2));var i=e,o=t,s=[],a=s,u=!1;function c(){a===s&&(a=s.slice())}function l(){if(u)throw new Error(vo(3));return o}function h(e){if("function"!=typeof e)throw new Error(vo(4));if(u)throw new Error(vo(5));var t=!0;return c(),a.push(e),function(){if(t){if(u)throw new Error(vo(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function d(e){if(!Eo(e))throw new Error(vo(7));if(void 0===e.type)throw new Error(vo(8));if(u)throw new Error(vo(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=s=a,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error(vo(10));i=e,d({type:_o.REPLACE})}function p(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(vo(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[bo]=function(){return this},e}return d({type:_o.INIT}),(r={dispatch:d,subscribe:h,getState:l,replaceReducer:f})[bo]=p,r}function To(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var Io=i(4500),So=i.n(Io);function Oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Co(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){No(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ao={User:null},xo=i(5578);function Do(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach((function(t){Lo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mo=function(e,t){return e.find((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?Ro(Ro({},e),{},{quantity:e.quantity+1}):Ro({},e)})):[].concat(function(e){if(Array.isArray(e))return Do(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Do(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[Ro(Ro({},t),{},{quantity:1})]);var n},Fo=function(e,t){return 1===e.find((function(e){return e.id===t.id})).quantity?e.filter((function(e){return e.id!=t.id})):e.map((function(e){return e.id===t.id?Ro(Ro({},e),{},{quantity:e.quantity-1}):e}))};function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qo={hidden:!0,cartItem:[]},Bo="persist:",zo="persist/FLUSH",Qo="persist/REHYDRATE",$o="persist/PAUSE",Wo="persist/PERSIST",Ko="persist/PURGE",Go="persist/REGISTER";function Ho(e){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(e)}function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xo(e,t,n,r){r.debug;var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(n,!0).forEach((function(t){Jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return e&&"object"===Ho(e)&&Object.keys(e).forEach((function(r){"_persist"!==r&&t[r]===n[r]&&(i[r]=e[r])})),i}function Zo(e){return JSON.stringify(e)}function es(e){var t,n=e.transforms||[],r="".concat(void 0!==e.keyPrefix?e.keyPrefix:Bo).concat(e.key),i=e.storage;return e.debug,t=!1===e.deserialize?function(e){return e}:"function"==typeof e.deserialize?e.deserialize:ts,i.getItem(r).then((function(e){if(e)try{var r={},i=t(e);return Object.keys(i).forEach((function(e){r[e]=n.reduceRight((function(t,n){return n.out(t,e,i)}),t(i[e]))})),r}catch(e){throw e}}))}function ts(e){return JSON.parse(e)}function ns(e){}function rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rs(n,!0).forEach((function(t){os(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rs(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ss(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function as(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?as(n,!0).forEach((function(t){cs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):as(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ls={registry:[],bootstrapped:!1},hs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ls,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Go:return us({},e,{registry:[].concat(ss(e.registry),[t.key])});case Qo:var n=e.registry.indexOf(t.key),r=ss(e.registry);return r.splice(n,1),us({},e,{registry:r,bootstrapped:0===r.length});default:return e}},ds=i(6734),fs={sections:[{title:"hats",imageUrl:"https://i.ibb.co/cvpntL1/hats.png",id:1,linkUrl:"/shop/Hats"},{title:"jackets",imageUrl:"https://i.ibb.co/px2tCc3/jackets.png",id:2,linkUrl:"/shop/Jackets"},{title:"sneakers",imageUrl:"https://i.ibb.co/0jqHpnp/sneakers.png",id:3,linkUrl:"/shop/Sneakers"},{title:"womens",imageUrl:"https://i.ibb.co/GCCdy8t/womens.png",size:"large",id:4,linkUrl:"/shop/Women"},{title:"mens",imageUrl:"https://i.ibb.co/R70vBrQ/men.png",size:"large",id:5,linkUrl:"/shop/Men"}]},ps=i(1053);function ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(n),!0).forEach((function(t){ys(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vs,bs,ws,_s,Es,ks,Ts,Is,Ss,Os,Cs={collections:[]},Ns=(vs={key:"root",storage:ds.Z,whitelist:["cart"]},bs=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:_o.INIT}))throw new Error(vo(12));if(void 0===n(void 0,{type:_o.PROBE_UNKNOWN_ACTION()}))throw new Error(vo(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var u=s[a],c=n[u],l=e[u],h=c(l,t);if(void 0===h)throw t&&t.type,new Error(vo(14));i[u]=h,r=r||h!==l}return(r=r||s.length!==Object.keys(e).length)?i:e}}({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ao,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Co(Co({},e),{},{User:t.payload});case U:return Co(Co({},e),{},{User:null});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xo.D.TOGGLE_CART_HIDDEN:return Uo(Uo({},e),{},{hidden:!e.hidden});case xo.D.ADD_ITEM:return Uo(Uo({},e),{},{cartItem:Mo(e.cartItem,t.payload)});case xo.D.DELETE_ITEM:return Uo(Uo({},e),{},{cartItem:e.cartItem.filter((function(e){return e.id!==t.payload.id}))});case xo.D.DECREACE:return Uo(Uo({},e),{},{cartItem:Fo(e.cartItem,t.payload)});case xo.D.EMPTY:return Uo(Uo({},e),{},{cartItem:null});default:return e}},directory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fs,t=arguments.length>1?arguments[1]:void 0;return t.type,e},shop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cs,t=arguments.length>1?arguments[1]:void 0;return t.type===ps.Z.UPDDATE_COLLECTION?gs(gs({},e),{},{collections:t.payload}):e}}),ws=void 0!==vs.version?vs.version:-1,_s=void 0===vs.stateReconciler?Xo:vs.stateReconciler,Es=vs.getStoredState||es,ks=void 0!==vs.timeout?vs.timeout:5e3,Ts=null,Is=!1,Ss=!0,Os=function(e){return e._persist.rehydrated&&Ts&&!Ss&&Ts.update(e),e},function(e,t){var n=e||{},r=n._persist,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,["_persist"]);if(t.type===Wo){var o=!1,s=function(e,n){o||(t.rehydrate(vs.key,e,n),o=!0)};if(ks&&setTimeout((function(){!o&&s(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(vs.key,'"')))}),ks),Ss=!1,Ts||(Ts=function(e){var t,n=e.blacklist||null,r=e.whitelist||null,i=e.transforms||[],o=e.throttle||0,s="".concat(void 0!==e.keyPrefix?e.keyPrefix:Bo).concat(e.key),a=e.storage;t=!1===e.serialize?function(e){return e}:"function"==typeof e.serialize?e.serialize:Zo;var u=e.writeFailHandler||null,c={},l={},h=[],d=null,f=null;function p(){if(0===h.length)return d&&clearInterval(d),void(d=null);var e=h.shift(),n=i.reduce((function(t,n){return n.in(t,e,c)}),c[e]);if(void 0!==n)try{l[e]=t(n)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete l[e];0===h.length&&(Object.keys(l).forEach((function(e){void 0===c[e]&&delete l[e]})),f=a.setItem(s,t(l)).catch(g))}function m(e){return!(r&&-1===r.indexOf(e)&&"_persist"!==e||n&&-1!==n.indexOf(e))}function g(e){u&&u(e)}return{update:function(e){Object.keys(e).forEach((function(t){m(t)&&c[t]!==e[t]&&-1===h.indexOf(t)&&h.push(t)})),Object.keys(c).forEach((function(t){void 0===e[t]&&m(t)&&-1===h.indexOf(t)&&void 0!==c[t]&&h.push(t)})),null===d&&(d=setInterval(p,o)),c=e},flush:function(){for(;0!==h.length;)p();return f||Promise.resolve()}}}(vs)),r)return is({},bs(i,t),{_persist:r});if("function"!=typeof t.rehydrate||"function"!=typeof t.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return t.register(vs.key),Es(vs).then((function(e){(vs.migrate||function(e,t){return Promise.resolve(e)})(e,ws).then((function(e){s(e)}),(function(e){s(void 0,e)}))}),(function(e){s(void 0,e)})),is({},bs(i,t),{_persist:{version:ws,rehydrated:!1}})}if(t.type===Ko)return Is=!0,t.result(function(e){var t=e.storage,n="".concat(void 0!==e.keyPrefix?e.keyPrefix:Bo).concat(e.key);return t.removeItem(n,ns)}(vs)),is({},bs(i,t),{_persist:r});if(t.type===zo)return t.result(Ts&&Ts.flush()),is({},bs(i,t),{_persist:r});if(t.type===$o)Ss=!0;else if(t.type===Qo){if(Is)return is({},i,{_persist:is({},r,{rehydrated:!0})});if(t.key===vs.key){var a=bs(i,t),u=t.payload,c=is({},!1!==_s&&void 0!==u?_s(u,e,a,vs):a,{_persist:is({},r,{rehydrated:!0})});return Os(c)}}if(!r)return bs(e,t);var l=bs(i,t);return l===i?e:Os(is({},l,{_persist:r}))}),As=[So()],xs=ko(Ns,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(vo(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=To.apply(void 0,o)(n.dispatch),yo(yo({},n),{},{dispatch:r})}}}.apply(void 0,As)),Ds=function(e,t,n){var r=!1,i=ko(hs,ls,void 0),o=function(e){i.dispatch({type:Go,key:e})},s=function(t,n,o){var s={type:Qo,payload:n,err:o,key:t};e.dispatch(s),i.dispatch(s),r&&a.getState().bootstrapped&&(r(),r=!1)},a=us({},i,{purge:function(){var t=[];return e.dispatch({type:Ko,result:function(e){t.push(e)}}),Promise.all(t)},flush:function(){var t=[];return e.dispatch({type:zo,result:function(e){t.push(e)}}),Promise.all(t)},pause:function(){e.dispatch({type:$o})},persist:function(){e.dispatch({type:Wo,register:o,rehydrate:s})}});return a.persist(),a}(xs);function Ps(e){return Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ps(e)}function Rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ms(e,t){return!t||"object"!==Ps(t)&&"function"!=typeof t?js(e):t}function Fs(e){return Fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fs(e)}function js(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Us(e,t){return Us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Us(e,t)}function Vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qs=function(e){function t(){var e,n;Rs(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Vs(js(n=Ms(this,(e=Fs(t)).call.apply(e,[this].concat(i)))),"state",{bootstrapped:!1}),Vs(js(n),"_unsubscribe",void 0),Vs(js(n),"handlePersistorState",(function(){n.props.persistor.getState().bootstrapped&&(n.props.onBeforeLift?Promise.resolve(n.props.onBeforeLift()).finally((function(){return n.setState({bootstrapped:!0})})):n.setState({bootstrapped:!0}),n._unsubscribe&&n._unsubscribe())})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Us(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return"function"==typeof this.props.children?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}])&&Ls(n.prototype,r),t}(e.PureComponent);Vs(qs,"defaultProps",{children:null,loading:null});var Bs=function(){function e(){this.getFragmentDoc=bi(zt)}return e.prototype.batch=function(e){var t,n=this,r="string"==typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,q.pi)((0,q.pi)({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read((0,q.pi)((0,q.pi)({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=(0,q._T)(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,i=e.fragmentName,o=(0,q._T)(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(o,{query:this.getFragmentDoc(r,i),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),i=t(r);return null==i?r:(n.writeQuery((0,q.pi)((0,q.pi)({},e),{data:i})),i)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),i=t(r);return null==i?r:(n.writeFragment((0,q.pi)((0,q.pi)({},e),{data:i})),i)}})},e}(),zs=function(e,t,n,r){this.message=e,this.path=t,this.query=n,this.variables=r};function Qs(e){return __DEV__&&(t=e,(n=new Set([t])).forEach((function(e){Bt(e)&&function(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(e){if(e instanceof TypeError)return null;throw e}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(t){Bt(e[t])&&n.add(e[t])}))}))),e;var t,n}var $s=Object.prototype.hasOwnProperty;function Ws(e,t){var n=e.__typename,r=e.id,i=e._id;if("string"==typeof n&&(t&&(t.keyObject=void 0!==r?{id:r}:void 0!==i?{_id:i}:void 0),void 0===r&&(r=i),void 0!==r))return"".concat(n,":").concat("number"==typeof r||"string"==typeof r?r:JSON.stringify(r))}var Ks={dataIdFromObject:Ws,addTypename:!0,resultCaching:!0,canonizeResults:!1};function Gs(e){var t=e.canonizeResults;return void 0===t?Ks.canonizeResults:t}var Hs=/^[_a-z][_0-9a-z]*/i;function Ys(e){var t=e.match(Hs);return t?t[0]:e}function Js(e,t,n){return!!Bt(t)&&(Array.isArray(t)?t.every((function(t){return Js(e,t,n)})):e.selections.every((function(e){if(nn(e)&&pr(e,n)){var r=en(e);return $s.call(t,r)&&(!e.selectionSet||Js(e.selectionSet,t[r],n))}return!0})))}function Xs(e){return Bt(e)&&!Kt(e)&&!Array.isArray(e)}var Zs=Object.create(null),ea=function(){return Zs},ta=Object.create(null),na=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return Qs(Kt(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return Kt(e)?n.has(e.__ref):"object"==typeof e},this.toReference=function(e,t){if("string"==typeof e)return Wt(e);if(Kt(e))return e;var r=n.policies.identify(e)[0];if(r){var i=Wt(r);return t&&n.merge(r,e),i}}}return e.prototype.toObject=function(){return(0,q.pi)({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),$s.call(this.data,e)){var n=this.data[e];if(n&&$s.call(n,t))return n[t]}return"__typename"===t&&$s.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof sa?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),$s.call(this.data,e)?this.data[e]:this instanceof sa?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;Kt(e)&&(e=e.__ref),Kt(t)&&(t=t.__ref);var i="string"==typeof e?this.lookup(n=e):e,o="string"==typeof t?this.lookup(n=t):t;if(o){__DEV__?ct("string"==typeof n,"store.merge expects a string ID"):ct("string"==typeof n,1);var s=new Vr(ua).merge(i,o);if(this.data[n]=s,s!==i&&(delete this.refs[n],this.group.caching)){var a=Object.create(null);i||(a.__exists=1),Object.keys(o).forEach((function(e){if(!i||i[e]!==s[e]){a[e]=1;var t=Ys(e);t===e||r.policies.hasKeyArgs(s.__typename,t)||(a[t]=1),void 0!==s[e]||r instanceof sa||delete s[e]}})),!a.__typename||i&&i.__typename||this.policies.rootTypenamesById[n]!==s.__typename||delete a.__typename,Object.keys(a).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var i=Object.create(null),o=!1,s=!0,a={DELETE:Zs,INVALIDATE:ta,isReference:Kt,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"==typeof t?{fieldName:t,from:r||Wt(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(u){var c=Ys(u),l=r[u];if(void 0!==l){var h="function"==typeof t?t:t[u]||t[c];if(h){var d=h===ea?Zs:h(Qs(l),(0,q.pi)((0,q.pi)({},a),{fieldName:c,storeFieldName:u,storage:n.getStorage(e,u)}));d===ta?n.group.dirty(e,u):(d===Zs&&(d=void 0),d!==l&&(i[u]=d,o=!0,l=d))}void 0!==l&&(s=!1)}})),o)return this.merge(e,i),s&&(this instanceof sa?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,i=this.lookup(e);if(i){var o=this.getFieldValue(i,"__typename"),s=t&&n?this.policies.getStoreFieldName({typename:o,fieldName:t,args:n}):t;return this.modify(e,s?((r={})[s]=ea,r):ea)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&($s.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof sa&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){$s.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&$s.call(e,n)||t.delete(n)})),e){var n=e.__META,r=(0,q._T)(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof sa?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){$s.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var i=this;i instanceof sa;)i=i.parent;r.forEach((function(e){return i.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!$s.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){Kt(e)&&(t[e.__ref]=!0),Bt(e)&&Object.keys(e).forEach((function(t){var n=e[t];Bt(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),ra=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?gi():null,this.keyMaker=new Hn(Yn)},e.prototype.depend=function(e,t){if(this.d){this.d(ia(e,t));var n=Ys(t);n!==t&&this.d(ia(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(ia(e,t),"__exists"===t?"forget":"setDirty")},e}();function ia(e,t){return t+"#"+e}function oa(e,t){ca(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,i=void 0===r||r,o=t.seed,s=e.call(this,n,new ra(i))||this;return s.stump=new aa(s),s.storageTrie=new Hn(Yn),o&&s.replace(o),s}return(0,q.ZT)(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(na||(na={}));var sa=function(e){function t(t,n,r,i){var o=e.call(this,n.policies,i)||this;return o.id=t,o.parent=n,o.replay=r,o.group=i,r(o),o}return(0,q.ZT)(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],i=n.lookup(e);i?r?r!==i&&Object.keys(r).forEach((function(n){Ze(r[n],i[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(i).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return(0,q.pi)((0,q.pi)({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return $s.call(this.data,t)?(0,q.pi)((0,q.pi)({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(na),aa=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new ra(t.group.caching,t.group))||this}return(0,q.ZT)(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(sa);function ua(e,t,n){var r=e[n],i=t[n];return Ze(r,i)?r:i}function ca(e){return!!(e instanceof na&&e.group.caching)}function la(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var ha=function(){function e(e){var t=this;this.knownResults=new(Yn?WeakMap:Map),this.config=vn(e,{addTypename:!1!==e.addTypename,canonizeResults:Gs(e)}),this.canon=e.canon||new Zn,this.executeSelectionSet=bi((function(e){var n,r=e.context.canonizeResults,i=la(e);i[3]=!r;var o=(n=t.executeSelectionSet).peek.apply(n,i);return o?r?(0,q.pi)((0,q.pi)({},o),{result:t.canon.admit(o.result)}):o:(oa(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize,keyArgs:la,makeCacheKey:function(e,t,n,r){if(ca(n.store))return n.store.makeCacheKey(e,Kt(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=bi((function(e){return oa(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(ca(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new Zn},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,i=void 0===r?"ROOT_QUERY":r,o=e.variables,s=e.returnPartialData,a=void 0===s||s,u=e.canonizeResults,c=void 0===u?this.config.canonizeResults:u,l=this.config.cache.policies;o=(0,q.pi)((0,q.pi)({},hn(cn(n))),o);var h,d=Wt(i),f=new Vr,p=this.executeSelectionSet({selectionSet:ln(n).selectionSet,objectOrReference:d,enclosingRef:d,context:{store:t,query:n,policies:l,variables:o,varString:er(o),canonizeResults:c,fragmentMap:Qt(un(n)),merge:function(e,t){return f.merge(e,t)}}});if(p.missing&&(h=[new zs(da(p.missing),p.missing,n,o)],!a))throw h[0];return{result:p.result,complete:!h,missing:h}},e.prototype.isFresh=function(e,t,n,r){if(ca(r.store)&&this.knownResults.get(e)===n){var i=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(i&&e===i.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,i=e.enclosingRef,o=e.context;if(Kt(r)&&!o.policies.rootTypenamesById[r.__ref]&&!o.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var s,a=o.variables,u=o.policies,c=o.store.getFieldValue(r,"__typename"),l={};function h(e,t){var n;return e.missing&&(s=o.merge(s,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"==typeof c&&!u.rootIdsByTypename[c]&&(l={__typename:c});var d=new Set(n.selections);d.forEach((function(e){var n,f;if(pr(e,a))if(nn(e)){var p=u.readField({fieldName:e.name.value,field:e,variables:o.variables,from:r},o),m=en(e);void 0===p?lr.added(e)||(s=o.merge(s,((n={})[m]="Can't find field '".concat(e.name.value,"' on ").concat(Kt(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):Array.isArray(p)?p=h(t.executeSubSelectedArray({field:e,array:p,enclosingRef:i,context:o}),m):e.selectionSet?null!=p&&(p=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:p,enclosingRef:Kt(p)?p:i,context:o}),m)):o.canonizeResults&&(p=t.canon.pass(p)),void 0!==p&&(l=o.merge(l,((f={})[m]=p,f)))}else{var g=$t(e,o.fragmentMap);g&&u.fragmentMatches(g,c)&&g.selectionSet.selections.forEach(d.add,d)}}));var f={result:l,missing:s},p=o.canonizeResults?this.canon.admit(f):Qs(f);return p.result&&this.knownResults.set(p.result,n),p},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,i=e.array,o=e.enclosingRef,s=e.context;function a(e,n){var r;return e.missing&&(t=s.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(i=i.filter(s.store.canRead)),i=i.map((function(e,t){return null===e?null:Array.isArray(e)?a(n.executeSubSelectedArray({field:r,array:e,enclosingRef:o,context:s}),t):r.selectionSet?a(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:Kt(e)?e:o,context:s}),t):(__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){Bt(n)&&(__DEV__?ct(!Kt(n),"Missing selection set for object of type ".concat(function(e,t){return Kt(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n)," returned for query field ").concat(t.name.value)):ct(!Kt(n),5),Object.values(n).forEach(r.add,r))}))}}(s.store,r,e),e)})),{result:s.canonizeResults?this.canon.admit(i):i,missing:t}},e}();function da(e){try{JSON.stringify(e,(function(e,t){if("string"==typeof t)throw t;return t}))}catch(e){return e}}var fa=Object.create(null);function pa(e){var t=JSON.stringify(e);return fa[t]||(fa[t]=Object.create(null))}function ma(e){var t=pa(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},i=n.keyObject=ya(e,(function(e){var i=wa(n.storeObject,e,r);return void 0===i&&t!==n.storeObject&&$s.call(t,e[0])&&(i=wa(t,e,ba)),__DEV__?ct(void 0!==i,"Missing field '".concat(e.join("."),"' while extracting keyFields from ").concat(JSON.stringify(t))):ct(void 0!==i,2),i}));return"".concat(n.typename,":").concat(JSON.stringify(i))})}function ga(e){var t=pa(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,i=n.variables,o=n.fieldName,s=ya(e,(function(e){var n=e[0],o=n.charAt(0);if("@"!==o)if("$"!==o){if(t)return wa(t,e)}else{var s=n.slice(1);if(i&&$s.call(i,s)){var a=e.slice(0);return a[0]=s,wa(i,a)}}else if(r&&kr(r.directives)){var u=n.slice(1),c=r.directives.find((function(e){return e.name.value===u})),l=c&&Zt(c,i);return l&&wa(l,e.slice(1))}})),a=JSON.stringify(s);return(t||"{}"!==a)&&(o+=":"+a),o})}function ya(e,t){var n=new Vr;return va(e).reduce((function(e,r){var i,o=t(r);if(void 0!==o){for(var s=r.length-1;s>=0;--s)(i={})[r[s]]=o,o=i;e=n.merge(e,o)}return e}),Object.create(null))}function va(e){var t=pa(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,i){Array.isArray(t)?(va(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),Array.isArray(e[i+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function ba(e,t){return e[t]}function wa(e,t,n){return n=n||ba,_a(t.reduce((function e(t,r){return Array.isArray(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function _a(e){return Bt(e)?Array.isArray(e)?e.map(_a):ya(Object.keys(e).sort(),(function(t){return wa(e,t)})):e}function Ea(e){return void 0!==e.args?e.args:e.field?Zt(e.field,e.variables):null}Yt.setStringify(er);var ka=function(){},Ta=function(e,t){return t.fieldName},Ia=function(e,t,n){return(0,n.mergeObjects)(e,t)},Sa=function(e,t){return t},Oa=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=(0,q.pi)({dataIdFromObject:Ws},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,i=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(i===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var o,s=t&&t.storeObject||e,a=(0,q.pi)((0,q.pi)({},t),{typename:i,storeObject:s,readField:t&&t.readField||function(){var e=Na(arguments,s);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),u=i&&this.getTypePolicy(i),c=u&&u.keyFn||this.config.dataIdFromObject;c;){var l=c(e,a);if(!Array.isArray(l)){o=l;break}c=ma(l)}return o=o?String(o):void 0,a.keyObject?[o,a.keyObject]:[o]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],i=r.queryType,o=r.mutationType,s=r.subscriptionType,a=(0,q._T)(r,["queryType","mutationType","subscriptionType"]);i&&t.setRootTypename("Query",n),o&&t.setRootTypename("Mutation",n),s&&t.setRootTypename("Subscription",n),$s.call(t.toBeAdded,n)?t.toBeAdded[n].push(a):t.toBeAdded[n]=[a]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),i=t.keyFields,o=t.fields;function s(e,t){e.merge="function"==typeof t?t:!0===t?Ia:!1===t?Sa:e.merge}s(r,t.merge),r.keyFn=!1===i?ka:Array.isArray(i)?ma(i):"function"==typeof i?i:r.keyFn,o&&Object.keys(o).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),i=o[t];if("function"==typeof i)r.read=i;else{var a=i.keyArgs,u=i.read,c=i.merge;r.keyFn=!1===a?Ta:Array.isArray(a)?ga(a):"function"==typeof a?a:r.keyFn,"function"==typeof u&&(r.read=u),s(r,c)}r.read&&r.merge&&(r.keyFn=r.keyFn||Ta)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(__DEV__?ct(!r||r===e,"Cannot change root ".concat(e," __typename more than once")):ct(!r||r===e,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(Hs);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!$s.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),i=r.fields,o=(0,q._T)(r,["fields"]);Object.assign(n,o),Object.assign(n.fields,i)}))}var i=this.toBeAdded[e];return i&&i.length&&i.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var i=this;if(!e.typeCondition)return!0;if(!t)return!1;var o=e.typeCondition.name.value;if(t===o)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(o))for(var s=this.getSupertypeSet(t,!0),a=[s],u=function(e){var t=i.getSupertypeSet(e,!1);t&&t.size&&a.indexOf(t)<0&&a.push(t)},c=!(!n||!this.fuzzySubtypes.size),l=!1,h=0;h<a.length;++h){var d=a[h];if(d.has(o))return s.has(o)||(l&&__DEV__&&ct.warn("Inferring subtype ".concat(t," of supertype ").concat(o)),s.add(o)),!0;d.forEach(u),c&&h===a.length-1&&Js(e.selectionSet,n,r)&&(c=!1,l=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&u(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,i=this.getFieldPolicy(n,r,!1),o=i&&i.keyFn;if(o&&n)for(var s={typename:n,fieldName:r,field:e.field||null,variables:e.variables},a=Ea(e);o;){var u=o(a,s);if(!Array.isArray(u)){t=u||r;break}o=ga(u)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var i=r.name,o=r.value;return Gt(n[e.name.value],i,o,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,i=e.value;return Gt(r,n,i,t)}))),Yt(e.name.value,r,n)}(e.field,e.variables):Yt(r,Ea(e))),!1===t?r:r===Ys(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var i=this.getStoreFieldName(e),o=Ys(i),s=t.store.getFieldValue(n,i),a=this.getFieldPolicy(e.typename,o,!1),u=a&&a.read;if(u){var c=Ca(this,n,e,t,t.store.getStorage(Kt(n)?n.__ref:n,i));return wi.withValue(this.cache,u,[s,c])}return s}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),i=r&&r.merge;return!i&&n&&(i=(r=this.getTypePolicy(n))&&r.merge),i},e.prototype.runMergeFunction=function(e,t,n,r,i){var o=n.field,s=n.typename,a=n.merge;return a===Ia?Aa(r.store)(e,t):a===Sa?t:(r.overwrite&&(e=void 0),a(e,t,Ca(this,void 0,{typename:s,fieldName:o.name.value,field:o,variables:r.variables},r,i||Object.create(null))))},e}();function Ca(e,t,n,r,i){var o=e.getStoreFieldName(n),s=Ys(o),a=n.variables||r.variables,u=r.store,c=u.toReference,l=u.canRead;return{args:Ea(n),field:n.field||null,fieldName:s,storeFieldName:o,variables:a,isReference:Kt,toReference:c,storage:i,cache:e.cache,canRead:l,readField:function(){return e.readField(Na(arguments,t,r),r)},mergeObjects:Aa(r.store)}}function Na(e,t,n){var r,i,o,s=e[0],a=e[1],u=e.length;return"string"==typeof s?r={fieldName:s,from:u>1?a:t}:(r=(0,q.pi)({},s),$s.call(r,"from")||(r.from=t)),__DEV__&&void 0===r.from&&__DEV__&&ct.warn("Undefined 'from' passed to readField with arguments ".concat((i=Array.from(e),o=vr("stringifyForDisplay"),JSON.stringify(i,(function(e,t){return void 0===t?o:t})).split(JSON.stringify(o)).join("<undefined>")))),void 0===r.variables&&(r.variables=n),r}function Aa(e){return function(t,n){if(Array.isArray(t)||Array.isArray(n))throw __DEV__?new ut("Cannot automatically merge arrays"):new ut(4);if(Bt(t)&&Bt(n)){var r=e.getFieldValue(t,"__typename"),i=e.getFieldValue(n,"__typename");if(r&&i&&r!==i)return n;if(Kt(t)&&Xs(n))return e.merge(t.__ref,n),t;if(Xs(t)&&Kt(n))return e.merge(t,n.__ref),n;if(Xs(t)&&Xs(n))return(0,q.pi)((0,q.pi)({},t),n)}return n}}function xa(e,t,n){var r="".concat(t).concat(n),i=e.flavors.get(r);return i||e.flavors.set(r,i=e.clientOnly===t&&e.deferred===n?e:(0,q.pi)((0,q.pi)({},e),{clientOnly:t,deferred:n})),i}var Da=function(){function e(e,t){this.cache=e,this.reader=t}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,i=t.result,o=t.dataId,s=t.variables,a=t.overwrite,u=sn(r),c=new Vr;s=(0,q.pi)((0,q.pi)({},hn(u)),s);var l={store:e,written:Object.create(null),merge:function(e,t){return c.merge(e,t)},variables:s,varString:er(s),fragmentMap:Qt(un(r)),overwrite:!!a,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map},h=this.processSelectionSet({result:i||Object.create(null),dataId:o,selectionSet:u.selectionSet,mergeTree:{map:new Map},context:l});if(!Kt(h))throw __DEV__?new ut("Could not identify object ".concat(JSON.stringify(i))):new ut(6);return l.incomingById.forEach((function(t,r){var i=t.storeObject,o=t.mergeTree,s=t.fieldNodeSet,a=Wt(r);if(o&&o.map.size){var u=n.applyMerges(o,a,i,l);if(Kt(u))return;i=u}if(__DEV__&&!l.overwrite){var c=Object.create(null);s.forEach((function(e){e.selectionSet&&(c[e.name.value]=!0)})),Object.keys(i).forEach((function(e){(function(e){return!0===c[Ys(e)]})(e)&&!function(e){var t=o&&o.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var i=function(e){var t=r.getFieldValue(e,n);return"object"==typeof t&&t},o=i(e);if(o){var s=i(t);if(s&&!Kt(o)&&!Ze(o,s)&&!Object.keys(o).every((function(e){return void 0!==r.getFieldValue(s,e)}))){var a=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),u=Ys(n),c="".concat(a,".").concat(u);if(!Ua.has(c)){Ua.add(c);var l=[];Array.isArray(o)||Array.isArray(s)||[o,s].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!=typeof t||l.includes(t)||l.push(t)})),__DEV__&&ct.warn("Cache data may be lost when replacing the ".concat(u," field of a ").concat(a," object.\n\nTo address this problem (which is not a bug in Apollo Client), ").concat(l.length?"either ensure all objects of type "+l.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(c," field, so InMemoryCache can safely merge these objects:\n\n  existing: ").concat(JSON.stringify(o).slice(0,1e3),"\n  incoming: ").concat(JSON.stringify(s).slice(0,1e3),"\n\nFor more information about these options, please refer to the documentation:\n\n  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers\n  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects\n"))}}}}(a,i,e,l.store)}))}e.merge(r,i)})),e.retain(h.__ref),h},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,i=e.selectionSet,o=e.context,s=e.mergeTree,a=this.cache.policies,u=Object.create(null),c=n&&a.rootTypenamesById[n]||tn(r,i,o.fragmentMap)||n&&o.store.get(n,"__typename");"string"==typeof c&&(u.__typename=c);var l=function(){var e=Na(arguments,u,o.variables);if(Kt(e.from)){var t=o.incomingById.get(e.from.__ref);if(t){var n=a.readField((0,q.pi)((0,q.pi)({},e),{from:t.storeObject}),o);if(void 0!==n)return n}}return a.readField(e,o)},h=new Set;this.flattenFields(i,r,o,c).forEach((function(e,n){var i,o=en(n),d=r[o];if(h.add(n),void 0!==d){var f=a.getStoreFieldName({typename:c,fieldName:n.name.value,field:n,variables:e.variables}),p=Ra(s,f),m=t.processFieldValue(d,n,n.selectionSet?xa(e,!1,!1):e,p),g=void 0;n.selectionSet&&(Kt(m)||Xs(m))&&(g=l("__typename",m));var y=a.getMergeFunction(c,n.name.value,g);y?p.info={field:n,typename:c,merge:y}:Fa(s,f),u=e.merge(u,((i={})[f]=m,i))}else!__DEV__||e.clientOnly||e.deferred||lr.added(n)||a.getReadFunction(c,n.name.value)||__DEV__&&ct.error("Missing field '".concat(en(n),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))}));try{var d=a.identify(r,{typename:c,selectionSet:i,fragmentMap:o.fragmentMap,storeObject:u,readField:l}),f=d[0],p=d[1];n=n||f,p&&(u=o.merge(u,p))}catch(e){if(!n)throw e}if("string"==typeof n){var m=Wt(n),g=o.written[n]||(o.written[n]=[]);if(g.indexOf(i)>=0)return m;if(g.push(i),this.reader&&this.reader.isFresh(r,m,i,o))return m;var y=o.incomingById.get(n);return y?(y.storeObject=o.merge(y.storeObject,u),y.mergeTree=La(y.mergeTree,s),h.forEach((function(e){return y.fieldNodeSet.add(e)}))):o.incomingById.set(n,{storeObject:u,mergeTree:Ma(s)?void 0:s,fieldNodeSet:h}),m}return u},e.prototype.processFieldValue=function(e,t,n,r){var i=this;return t.selectionSet&&null!==e?Array.isArray(e)?e.map((function(e,o){var s=i.processFieldValue(e,t,n,Ra(r,o));return Fa(r,o),s})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):__DEV__?Cr(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=tn(t,e,n.fragmentMap));var i=new Map,o=this.cache.policies,s=new Hn(!1);return function e(a,u){var c=s.lookup(a,u.clientOnly,u.deferred);c.visited||(c.visited=!0,a.selections.forEach((function(s){if(pr(s,n.variables)){var a=u.clientOnly,c=u.deferred;if(a&&c||!kr(s.directives)||s.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(a=!0),"defer"===t){var r=Zt(e,n.variables);r&&!1===r.if||(c=!0)}})),nn(s)){var l=i.get(s);l&&(a=a&&l.clientOnly,c=c&&l.deferred),i.set(s,xa(n,a,c))}else{var h=$t(s,n.fragmentMap);h&&o.fragmentMatches(h,r,t,n.variables)&&e(h.selectionSet,xa(n,a,c))}}})))}(e,n),i},e.prototype.applyMerges=function(e,t,n,r,i){var o,s=this;if(e.map.size&&!Kt(n)){var a,u=Array.isArray(n)||!Kt(t)&&!Xs(t)?void 0:t,c=n;u&&!i&&(i=[Kt(u)?u.__ref:u]);var l=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=l(u,t),o=l(c,t);if(void 0!==o){i&&i.push(t);var h=s.applyMerges(e,n,o,r,i);h!==o&&(a=a||new Map).set(t,h),i&&ct(i.pop()===t)}})),a&&(n=Array.isArray(c)?c.slice(0):(0,q.pi)({},c),a.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,i&&(o=r.store).getStorage.apply(o,i)):n},e}(),Pa=[];function Ra(e,t){var n=e.map;return n.has(t)||n.set(t,Pa.pop()||{map:new Map}),n.get(t)}function La(e,t){if(e===t||!t||Ma(t))return e;if(!e||Ma(e))return t;var n=e.info&&t.info?(0,q.pi)((0,q.pi)({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,i={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var o=new Set(t.map.keys());e.map.forEach((function(e,n){i.map.set(n,La(e,t.map.get(n))),o.delete(n)})),o.forEach((function(n){i.map.set(n,La(t.map.get(n),e.map.get(n)))}))}return i}function Ma(e){return!e||!(e.info||e.map.size)}function Fa(e,t){var n=e.map,r=n.get(t);r&&Ma(r)&&(Pa.push(r),n.delete(t))}var ja,Ua=new Set,Va=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.typenameDocumentCache=new Map,n.makeVar=Ti,n.txCount=0,n.config=function(e){return vn(Ks,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new Oa({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return(0,q.ZT)(t,e),t.prototype.init=function(){var e=this.data=new na.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader;this.storeWriter=new Da(this,this.storeReader=new ha({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Gs(this.config),canon:e?void 0:n&&n.canon})),this.maybeBroadcastWatch=bi((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(ca(n)){var r=e.optimistic,i=e.rootId,o=e.variables;return n.makeCacheKey(e.query,e.callback,er({optimistic:r,rootId:i,variables:o}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore((0,q.pi)((0,q.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(e){if(e instanceof zs)return null;throw e}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if($s.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore((0,q.pi)((0,q.pi)({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t=this;return this.watches.size||function(e){Ei(e).vars.forEach((function(t){return t.attachCache(e)}))}(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&ki(t),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){er.reset();var t=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),t},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(Kt(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(e){__DEV__&&ct.warn(e)}},t.prototype.evict=function(e){if(!e.id){if($s.call(e,"id"))return!1;e=(0,q.pi)((0,q.pi)({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),er.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),ki(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,i=e.optimistic,o=void 0===i||i,s=e.removeOptimistic,a=e.onWatchUpdated,u=function(e){var i=n,o=i.data,s=i.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=o,n.optimisticData=s}},c=new Set;return a&&!this.txCount&&this.broadcastWatches((0,q.pi)((0,q.pi)({},e),{onWatchUpdated:function(e){return c.add(e),!1}})),"string"==typeof o?this.optimisticData=this.optimisticData.addLayer(o,u):!1===o?u(this.data):u(),"string"==typeof s&&(this.optimisticData=this.optimisticData.removeLayer(s)),a&&c.size?(this.broadcastWatches((0,q.pi)((0,q.pi)({},e),{onWatchUpdated:function(e,t){var n=a.call(this,e,t);return!1!==n&&c.delete(e),n}})),c.size&&c.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=lr(e),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"==typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&Ze(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(Bs),qa=function(t){var n=t.client,r=t.children,i=Ui();return e.createElement(i.Consumer,null,(function(t){return void 0===t&&(t={}),n&&t.client!==n&&(t=Object.assign({},t,{client:n})),__DEV__?ct(t.client,'ApolloProvider was not passed a client instance. Make sure you pass in your client via the "client" prop.'):ct(t.client,26),e.createElement(i.Provider,{value:t},r)}))},Ba=new Fi({link:zn({uri:"https://crwn-clothing.com"}),cache:new Va});Ba.query({query:$e(ja||(ja=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(['\n      {\n        getCollectionsByTitle(title: "hats") {\n          id\n          title\n          items {\n            id\n            name\n          }\n        }\n      }\n    '])))}).then((function(e){return console.log(e)})),t.render(e.createElement(qa,{client:Ba},e.createElement(S.zt,{store:xs},e.createElement(T.VK,null,e.createElement(qs,{persistor:Ds},e.createElement(po,null))))),document.getElementById("root"))}()}();